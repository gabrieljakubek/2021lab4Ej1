(self.webpackChunkproyecto1=self.webpackChunkproyecto1||[]).push([[179],{8255:Ve=>{function me(O){return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+O+"'");throw m.code="MODULE_NOT_FOUND",m})}me.keys=()=>[],me.resolve=me,me.id=8255,Ve.exports=me},3018:(Ve,me,O)=>{"use strict";O.d(me,{deG:()=>_h,tb:()=>_D,AFp:()=>yy,ip1:()=>up,CZH:()=>Pd,hGG:()=>gp,z2F:()=>dp,sBO:()=>$m,Sil:()=>_l,_Vd:()=>il,EJc:()=>wD,SBq:()=>Nr,qLn:()=>Te,vpe:()=>ki,gxx:()=>Gu,tBr:()=>fa,XFs:()=>Ee,OlP:()=>Jt,zs3:()=>Ft,ZZ4:()=>Vs,aQg:()=>Ff,soG:()=>kd,LVF:()=>BS,YKP:()=>xE,v3s:()=>W0,h0i:()=>pt,PXZ:()=>G0,R0b:()=>Mr,FiY:()=>Ai,Lbi:()=>vy,g9A:()=>yD,Qsj:()=>bE,FYo:()=>ud,JOm:()=>Ss,Tiy:()=>Um,q3G:()=>sn,tp0:()=>uo,EAV:()=>ox,Rgc:()=>cd,dDg:()=>Ey,DyG:()=>En,q4F:()=>ol,GfV:()=>Bm,s_b:()=>Fn,ifc:()=>Vt,eFA:()=>FD,G48:()=>L0,Gpc:()=>Y,X6Q:()=>by,_c5:()=>gx,VLi:()=>YS,c2e:()=>ED,zSh:()=>Gg,wAp:()=>qe,vHH:()=>be,EiD:()=>_c,mCW:()=>Pu,qzn:()=>fo,JVY:()=>Bh,pB0:()=>c_,eBb:()=>l_,L6k:()=>ug,LAX:()=>mc,cg1:()=>el,Tjo:()=>fx,kL8:()=>iE,yhl:()=>Uh,dqk:()=>k,sIi:()=>Zu,CqO:()=>jc,QGY:()=>So,F4k:()=>kv,RDi:()=>Jo,AaK:()=>F,z3N:()=>li,qOj:()=>To,TTD:()=>Cr,_Bn:()=>tI,xp6:()=>R_,uIk:()=>zg,ekj:()=>zc,Suo:()=>uy,Xpm:()=>$o,lG2:()=>Ip,Yz7:()=>Yt,cJS:()=>Ui,oAB:()=>ji,Yjl:()=>Kd,Y36:()=>Yu,_UZ:()=>Ov,qZA:()=>am,TgZ:()=>om,n5z:()=>Wp,Ikx:()=>bf,LFG:()=>Xt,$8M:()=>rc,NdJ:()=>um,CRH:()=>ly,kcU:()=>Kl,O4$:()=>zl,Q6J:()=>sm,MGl:()=>Ma,VKq:()=>ny,iGM:()=>Md,LSH:()=>po,kYT:()=>iu,_uU:()=>NC,Oqu:()=>ym});var m=O(9765),ee=O(5319),V=O(7574),Q=O(6682),le=O(2441);var ue=O(1307);function G(){return new m.xQ}function L(o){for(let a in o)if(o[a]===L)return a;throw Error("Could not find renamed property on target object.")}function U(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function F(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(F).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function H(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const ie=L({__forward_ref__:L});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return F(this())},o}function K(o){return Ce(o)?o():o}function Ce(o){return"function"==typeof o&&o.hasOwnProperty(ie)&&o.__forward_ref__===Y}class be extends Error{constructor(a,l){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,l)),this.code=a}}function xe(o){return"string"==typeof o?o:null==o?"":String(o)}function se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():xe(o)}function J(o,a){const l=a?` in ${a}`:"";throw new be("201",`No provider for ${se(o)} found${l}`)}function vt(o,a,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}function Yt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ui(o){return{providers:o.providers||[],imports:o.imports||[]}}function qn(o){return Hs(o,An)||Hs(o,Fr)}function Hs(o,a){return o.hasOwnProperty(a)?o[a]:null}function Bi(o){return o&&(o.hasOwnProperty(ei)||o.hasOwnProperty(it))?o[ei]:null}const An=L({\u0275prov:L}),ei=L({\u0275inj:L}),Fr=L({ngInjectableDef:L}),it=L({ngInjectorDef:L});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let At;function Ht(o){const a=At;return At=o,a}function Mt(o,a,l){const d=qn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Ee.Optional?null:void 0!==a?a:void J(F(o),"Injector")}function Fe(o){return{toString:o}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),Vt=(()=>((Vt=Vt||{})[Vt.Emulated=0]="Emulated",Vt[Vt.None=2]="None",Vt[Vt.ShadowDom=3]="ShadowDom",Vt))();const fr="undefined"!=typeof globalThis&&globalThis,Wd="undefined"!=typeof window&&window,$t="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,k=fr||B||Wd||$t,Z={},ge=[],$e=L({\u0275cmp:L}),bt=L({\u0275dir:L}),mt=L({\u0275pipe:L}),ct=L({\u0275mod:L}),an=L({\u0275loc:L}),nn=L({\u0275fac:L}),Sn=L({__NG_ELEMENT_ID__:L});let ss=0;function $o(o){return Fe(()=>{const l={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||ge,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Vt.Emulated,id:"c",styles:o.styles||ge,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,g=o.features,E=o.pipes;return d.id+=ss++,d.inputs=qo(o.inputs,l),d.outputs=qo(o.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Go):null,d.pipeDefs=E?()=>("function"==typeof E?E():E).map(xl):null,d})}function Cp(o,a,l){const d=o.\u0275cmp;d.directiveDefs=()=>a.map(Go),d.pipeDefs=()=>l.map(xl)}function Go(o){return Vn(o)||function(o){return o[bt]||null}(o)}function xl(o){return function(o){return o[mt]||null}(o)}const zd={};function ji(o){return Fe(()=>{const a={type:o.type,bootstrap:o.bootstrap||ge,declarations:o.declarations||ge,imports:o.imports||ge,exports:o.exports||ge,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(zd[o.id]=o.type),a})}function iu(o,a){return Fe(()=>{const l=Dt(o,!0);l.declarations=a.declarations||ge,l.imports=a.imports||ge,l.exports=a.exports||ge})}function qo(o,a){if(null==o)return Z;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,a&&(a[h]=g)}return l}const Ip=$o;function Kd(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Vn(o){return o[$e]||null}function Dt(o,a){const l=o[ct]||null;if(!l&&!0===a)throw new Error(`Type ${F(o)} does not have '\u0275mod' property.`);return l}function ni(o){return Array.isArray(o)&&"object"==typeof o[1]}function ln(o){return Array.isArray(o)&&!0===o[1]}function Br(o){return 0!=(8&o.flags)}function Rl(o){return 2==(2&o.flags)}function Yo(o){return 1==(1&o.flags)}function ri(o){return null!==o.template}function Jd(o){return 0!=(512&o[2])}function ls(o,a){return o.hasOwnProperty(nn)?o[nn]:null}class Ol{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Cr(){return Pl}function Pl(o){return o.type.prototype.ngOnChanges&&(o.setInput=xp),Tw}function Tw(){const o=Fl(this),a=null==o?void 0:o.current;if(a){const l=o.previous;if(l===Z)o.previous=a;else for(let d in a)l[d]=a[d];o.current=null,this.ngOnChanges(a)}}function xp(o,a,l,d){const h=Fl(o)||function(o,a){return o[kl]=a}(o,{previous:Z,current:null}),g=h.current||(h.current={}),E=h.previous,w=this.declaredInputs[l],D=E[w];g[w]=new Ol(D&&D.currentValue,a,E===Z),o[d]=a}Cr.ngInherit=!0;const kl="__ngSimpleChanges__";function Fl(o){return o[kl]||null}const Vl="http://www.w3.org/2000/svg",cu="http://www.w3.org/1998/MathML/";let zs;function Jo(o){zs=o}function du(){return void 0!==zs?zs:"undefined"!=typeof document?document:void 0}function Gt(o){return!!o.listen}const jl={createRenderer:(o,a)=>du()};function qt(o){for(;Array.isArray(o);)o=o[0];return o}function Hl(o,a){return qt(a[o])}function Dr(o,a){return qt(a[o.index])}function cs(o,a){return o.data[a]}function ds(o,a){return o[a]}function or(o,a){const l=a[o];return ni(l)?l:l[0]}function hu(o){return 4==(4&o[2])}function ih(o){return 128==(128&o[2])}function hs(o,a){return null==a?null:o[a]}function Gl(o){o[18]=0}function sh(o,a){o[5]+=a;let l=o,d=o[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const We={lFrame:zy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oh(){return We.bindingsEnabled}function Ys(){We.bindingsEnabled=!0}function Pp(){We.bindingsEnabled=!1}function ye(){return We.lFrame.lView}function dt(){return We.lFrame.tView}function kp(o){return We.lFrame.contextLView=o,o[8]}function pn(){let o=Zl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Zl(){return We.lFrame.currentTNode}function pu(){const o=We.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function jr(o,a){const l=We.lFrame;l.currentTNode=o,l.isParent=a}function ah(){return We.lFrame.isParent}function fs(){We.lFrame.isParent=!1}function Xo(){return We.isInCheckNoChangesMode}function ps(o){We.isInCheckNoChangesMode=o}function pr(){const o=We.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Hr(){return We.lFrame.bindingIndex}function uh(o){return We.lFrame.bindingIndex=o}function gs(){return We.lFrame.bindingIndex++}function Gi(o){const a=We.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function lh(o){We.lFrame.inI18n=o}function gu(o,a){const l=We.lFrame;l.bindingIndex=l.bindingRootIndex=o,ms(a)}function ms(o){We.lFrame.currentDirectiveIndex=o}function Wl(o){const a=We.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Vp(){return We.lFrame.currentQueryIndex}function Up(o){We.lFrame.currentQueryIndex=o}function qy(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Zy(o,a,l){if(l&Ee.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||l&Ee.Host||(h=qy(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const d=We.lFrame=Wy();return d.currentTNode=a,d.lView=o,!0}function mu(o){const a=Wy(),l=o[1];We.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Wy(){const o=We.lFrame,a=null===o?null:o.child;return null===a?zy(o):a}function zy(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Bp(){const o=We.lFrame;return We.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Sw=Bp;function jp(){const o=Bp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Un(){return We.lFrame.selectedIndex}function gr(o){We.lFrame.selectedIndex=o}function Zt(){const o=We.lFrame;return cs(o.tView,o.selectedIndex)}function zl(){We.lFrame.currentNamespace=Vl}function Ky(){We.lFrame.currentNamespace=cu}function Kl(){We.lFrame.currentNamespace=null}function Yl(o,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:s}=g;E&&(o.contentHooks||(o.contentHooks=[])).push(-l,E),w&&((o.contentHooks||(o.contentHooks=[])).push(l,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-l,D),A&&((o.viewHooks||(o.viewHooks=[])).push(l,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,A)),null!=s&&(o.destroyHooks||(o.destroyHooks=[])).push(l,s)}}function Qs(o,a,l){$p(o,a,3,l)}function Ql(o,a,l,d){(3&o[2])===l&&$p(o,a,l,d)}function Hp(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function $p(o,a,l,d){const g=null!=d?d:-1,E=a.length-1;let w=0;for(let D=void 0!==d?65535&o[18]:0;D<E;D++)if("number"==typeof a[D+1]){if(w=a[D],null!=d&&w>=d)break}else a[D]<0&&(o[18]+=65536),(w<g||-1==g)&&(Qy(o,l,a,D),o[18]=(4294901760&o[18])+D+2),D++}function Qy(o,a,l,d){const h=l[d]<0,g=l[d+1],w=o[h?-l[d]:l[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ys{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Es(o,a,l){const d=Gt(o);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const E=l[h++],w=l[h++],D=l[h++];d?o.setAttribute(a,w,D,E):a.setAttributeNS(E,w,D)}else{const E=g,w=l[++h];Xl(E)?d&&o.setProperty(a,E,w):d?o.setAttribute(a,E,w):a.setAttribute(E,w),h++}}return h}function hh(o){return 3===o||4===o||6===o}function Xl(o){return 64===o.charCodeAt(0)}function fh(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?l=h:0===l||Jy(o,l,h,null,-1===l||2===l?a[++d]:null)}}return o}function Jy(o,a,l,d,h){let g=0,E=o.length;if(-1===a)E=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){E=-1;break}if(w>a){E=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==E&&(o.splice(E,0,a),g=E+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function ph(o){return-1!==o}function _u(o){return 32767&o}function ea(o,a){let l=function(o){return o>>16}(o),d=a;for(;l>0;)d=d[15],l--;return d}let ta=!0;function na(o){const a=ta;return ta=o,a}let Wt=0;function qi(o,a){const l=yh(o,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,nt(d.data,o),nt(a,null),nt(d.blueprint,null));const h=tc(o,a),g=o.injectorIndex;if(ph(h)){const E=_u(h),w=ea(h,a),D=w[1].data;for(let A=0;A<8;A++)a[g+A]=w[E+A]|D[E+A]}return a[g+8]=h,g}function nt(o,a){o.push(0,0,0,0,0,0,0,0,a)}function yh(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function tc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=a;for(;null!==h;){const g=h[1],E=g.type;if(d=2===E?g.declTNode:1===E?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ra(o,a,l){!function(o,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Sn)&&(d=l[Sn]),null==d&&(d=l[Sn]=Wt++);const h=255&d;a.data[o+(h>>5)]|=1<<h}(o,a,l)}function ws(o,a,l){if(l&Ee.Optional)return o;J(a,"NodeInjector")}function si(o,a,l,d){if(l&Ee.Optional&&void 0===d&&(d=null),0==(l&(Ee.Self|Ee.Host))){const h=o[9],g=Ht(void 0);try{return h?h.get(a,d,l&Ee.Optional):Mt(a,d,l&Ee.Optional)}finally{Ht(g)}}return ws(d,a,l)}function qp(o,a,l,d=Ee.Default,h){if(null!==o){const g=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Sn)?o[Sn]:void 0;return"number"==typeof a?a>=0?255&a:Xy:a}(l);if("function"==typeof g){if(!Zy(a,o,d))return d&Ee.Host?ws(h,l,d):si(a,l,d,h);try{const E=g(d);if(null!=E||d&Ee.Optional)return E;J(l)}finally{Sw()}}else if("number"==typeof g){let E=null,w=yh(o,a),D=-1,A=d&Ee.Host?a[16][6]:null;for((-1===w||d&Ee.SkipSelf)&&(D=-1===w?tc(o,a):a[w+8],-1!==D&&Bn(d,!1)?(E=a[1],w=_u(D),a=ea(D,a)):w=-1);-1!==w;){const s=a[1];if(sa(g,w,s.data)){const r=Zp(w,a,l,E,d,A);if(r!==vu)return r}D=a[w+8],-1!==D&&Bn(d,a[1].data[w+8]===A)&&sa(g,w,a)?(E=s,w=_u(D),a=ea(D,a)):w=-1}}}return si(a,l,d,h)}const vu={};function Xy(){return new Tr(pn(),ye())}function Zp(o,a,l,d,h,g){const E=a[1],w=E.data[o+8],s=Eu(w,E,l,null==d?Rl(w)&&ta:d!=E&&0!=(3&w.type),h&Ee.Host&&g===w);return null!==s?Xs(a,E,s,w):vu}function Eu(o,a,l,d,h){const g=o.providerIndexes,E=a.data,w=1048575&g,D=o.directiveStart,s=g>>20,i=h?w+s:o.directiveEnd;for(let u=d?w:w+s;u<i;u++){const c=E[u];if(u<D&&l===c||u>=D&&c.type===l)return u}if(h){const u=E[D];if(u&&ri(u)&&u.type===l)return D}return null}function Xs(o,a,l,d){let h=o[l];const g=a.data;if(function(o){return o instanceof ys}(h)){const E=h;E.resolving&&function(o,a){throw new be("200",`Circular dependency in DI detected for ${o}`)}(se(g[l]));const w=na(E.canSeeViewProviders);E.resolving=!0;const D=E.injectImpl?Ht(E.injectImpl):null;Zy(o,d,Ee.Default);try{h=o[l]=E.factory(void 0,g,o,d),a.firstCreatePass&&l>=d.directiveStart&&function(o,a,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const E=Pl(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,E),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,E)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==D&&Ht(D),na(w),E.resolving=!1,Sw()}}return h}function sa(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function Bn(o,a){return!(o&Ee.Self||o&Ee.Host&&a)}class Tr{constructor(a,l){this._tNode=a,this._lView=l}get(a,l){return qp(this._tNode,this._lView,a,void 0,l)}}function Wp(o){return Fe(()=>{const a=o.prototype.constructor,l=a[nn]||nc(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[nn]||nc(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function nc(o){return Ce(o)?()=>{const a=nc(K(o));return a&&a()}:ls(o)}function rc(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(hh(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===a)return l[h+1];h+=2}}}return null}(pn(),o)}const eo="__annotations__",to="__parameters__",no="__prop__metadata__";function oa(o,a,l,d,h){return Fe(()=>{const g=wu(a);function E(...w){if(this instanceof E)return g.call(this,...w),this;const D=new E(...w);return function(s){return h&&h(s,...w),(s.hasOwnProperty(eo)?s[eo]:Object.defineProperty(s,eo,{value:[]})[eo]).push(D),d&&d(s),s}}return l&&(E.prototype=Object.create(l.prototype)),E.prototype.ngMetadataName=o,E.annotationCls=E,E})}function wu(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}function Cs(o,a,l){return Fe(()=>{const d=wu(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const E=new h(...g);return w.annotation=E,w;function w(D,A,s){const r=D.hasOwnProperty(to)?D[to]:Object.defineProperty(D,to,{value:[]})[to];for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(E),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function ic(){return Cs("Attribute",o=>({attributeName:o,__NG_ELEMENT_ID__:()=>rc(o)}))}const sc=ic();class Jt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _h=new Jt("AnalyzeForEntryComponents");function rn(o){const a=k.ng;if(a&&a.\u0275compilerFacade)return a.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const En=Function;function oi(o){return"function"==typeof o}function ai(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(a===o&&(a=o.slice(0,l)),ai(d,a)):a!==o&&a.push(d)}return a}function $r(o,a){o.forEach(l=>Array.isArray(l)?$r(l,a):a(l))}function ac(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function gn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Di(o,a){const l=[];for(let d=0;d<o;d++)l.push(a);return l}function Nn(o,a,l){let d=Is(o,a);return d>=0?o[1|d]=l:(d=~d,function(o,a,l,d){let h=o.length;if(h==a)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=l,o[a+1]=d}}(o,d,a,l)),d}function Dh(o,a){const l=Is(o,a);if(l>=0)return o[1|l]}function Is(o,a){return function(o,a,l){let d=0,h=o.length>>l;for(;h!==d;){const g=d+(h-d>>1),E=o[g<<l];if(a===E)return g<<l;E>a?h=g:d=g+1}return~(h<<l)}(o,a,1)}const Xp=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Th=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Rw=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,i_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Tu{constructor(a){this._reflect=a||k.Reflect}isReflectionEnabled(){return!0}factory(a){return(...l)=>new a(...l)}_zipTypesAndAnnotations(a,l){let d;d=Di(void 0===a?l.length:a.length);for(let h=0;h<d.length;h++)d[h]=void 0===a?[]:a[h]&&a[h]!=Object?[a[h]]:[],l&&null!=l[h]&&(d[h]=d[h].concat(l[h]));return d}_ownParameters(a,l){const d=a.toString();if(Xp.test(o=d)||i_.test(o)||Th.test(o)&&!Rw.test(o))return null;var o;if(a.parameters&&a.parameters!==l.parameters)return a.parameters;const h=a.ctorParameters;if(h&&h!==l.ctorParameters){const w="function"==typeof h?h():h,D=w.map(s=>s&&s.type),A=w.map(s=>s&&lc(s.decorators));return this._zipTypesAndAnnotations(D,A)}const g=a.hasOwnProperty(to)&&a[to],E=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",a);return E||g?this._zipTypesAndAnnotations(E,g):Di(a.length)}parameters(a){if(!oi(a))return[];const l=Ds(a);let d=this._ownParameters(a,l);return!d&&l!==Object&&(d=this.parameters(l)),d||[]}_ownAnnotations(a,l){if(a.annotations&&a.annotations!==l.annotations){let d=a.annotations;return"function"==typeof d&&d.annotations&&(d=d.annotations),d}return a.decorators&&a.decorators!==l.decorators?lc(a.decorators):a.hasOwnProperty(eo)?a[eo]:null}annotations(a){if(!oi(a))return[];const l=Ds(a),d=this._ownAnnotations(a,l)||[];return(l!==Object?this.annotations(l):[]).concat(d)}_ownPropMetadata(a,l){if(a.propMetadata&&a.propMetadata!==l.propMetadata){let d=a.propMetadata;return"function"==typeof d&&d.propMetadata&&(d=d.propMetadata),d}if(a.propDecorators&&a.propDecorators!==l.propDecorators){const d=a.propDecorators,h={};return Object.keys(d).forEach(g=>{h[g]=lc(d[g])}),h}return a.hasOwnProperty(no)?a[no]:null}propMetadata(a){if(!oi(a))return{};const l=Ds(a),d={};if(l!==Object){const g=this.propMetadata(l);Object.keys(g).forEach(E=>{d[E]=g[E]})}const h=this._ownPropMetadata(a,l);return h&&Object.keys(h).forEach(g=>{const E=[];d.hasOwnProperty(g)&&E.push(...d[g]),E.push(...h[g]),d[g]=E}),d}ownPropMetadata(a){return oi(a)&&this._ownPropMetadata(a,Ds(a))||{}}hasLifecycleHook(a,l){return a instanceof En&&l in a.prototype}guards(a){return{}}getter(a){return new Function("o","return o."+a+";")}setter(a){return new Function("o","v","return o."+a+" = v;")}method(a){return new Function("o","args",`if (!o.${a}) throw new Error('"${a}" is undefined');\n        return o.${a}.apply(o, args);`)}importUri(a){return"object"==typeof a&&a.filePath?a.filePath:`./${F(a)}`}resourceUri(a){return`./${F(a)}`}resolveIdentifier(a,l,d,h){return h}resolveEnum(a,l){return a[l]}}function lc(o){return o?o.map(a=>new(0,a.type.annotationCls)(...a.args?a.args:[])):[]}function Ds(o){const a=o.prototype?Object.getPrototypeOf(o.prototype):null;return(a?a.constructor:null)||Object}const la={},Ti="__NG_DI_FLAG__",ui="ngTempTokenPath",ao=/\n/gm,ca="__source",da=L({provide:String,useValue:L});let ha;function Zi(o){const a=ha;return ha=o,a}function Au(o,a=Ee.Default){if(void 0===ha)throw new Error("inject() must be called from an injection context");return null===ha?Mt(o,void 0,a):ha.get(o,a&Ee.Optional?null:void 0,a)}function Xt(o,a=Ee.Default){return(At||Au)(K(o),a)}function cc(o){throw new Error("invalid")}function Wi(o){const a=[];for(let l=0;l<o.length;l++){const d=K(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let h,g=Ee.Default;for(let E=0;E<d.length;E++){const w=d[E],D=Su(w);"number"==typeof D?-1===D?h=w.token:g|=D:h=w}a.push(Xt(h,g))}else a.push(Xt(d))}return a}function dc(o,a){return o[Ti]=a,o.prototype[Ti]=a,o}function Su(o){return o[Ti]}function xu(o,a,l,d){const h=o[ui];throw a[ca]&&h.unshift(a[ca]),o.message=function(o,a,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=F(a);if(Array.isArray(a))h=a.map(F).join(" -> ");else if("object"==typeof a){let g=[];for(let E in a)if(a.hasOwnProperty(E)){let w=a[E];g.push(E+":"+("string"==typeof w?JSON.stringify(w):F(w)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(ao,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[ui]=null,o}const fa=dc(Cs("Inject",o=>({token:o})),-1),Ai=dc(Cs("Optional"),8),hc=dc(Cs("Self"),2),uo=dc(Cs("SkipSelf"),4),ng=dc(Cs("Host"),1);let pa,Ou,xh=null;function fc(o){return function(o){return o.map(a=>function(o){const a={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(o)&&o.length>0)for(let l=0;l<o.length;l++){const d=o[l];if(void 0===d)continue;const h=Object.getPrototypeOf(d);if(d instanceof Ai||"Optional"===h.ngMetadataName)a.optional=!0;else if(d instanceof uo||"SkipSelf"===h.ngMetadataName)a.skipSelf=!0;else if(d instanceof hc||"Self"===h.ngMetadataName)a.self=!0;else if(d instanceof ng||"Host"===h.ngMetadataName)a.host=!0;else if(d instanceof fa)a.token=d.token;else if(d instanceof sc){if(void 0===d.attributeName)throw new Error("Attribute name must be defined.");a.attribute=d.attributeName}else a.token=d}else a.token=void 0===o||Array.isArray(o)&&0===o.length?null:o;return a}(a))}((xh=xh||new Tu).parameters(o))}function Mu(){if(void 0===pa&&(pa=null,k.trustedTypes))try{pa=k.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return pa}function co(o){var a;return(null===(a=Mu())||void 0===a?void 0:a.createHTML(o))||o}function Fh(){if(void 0===Ou&&(Ou=null,k.trustedTypes))try{Ou=k.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ou}function Lh(o){var a;return(null===(a=Fh())||void 0===a?void 0:a.createHTML(o))||o}function sg(o){var a;return(null===(a=Fh())||void 0===a?void 0:a.createScript(o))||o}function gc(o){var a;return(null===(a=Fh())||void 0===a?void 0:a.createScriptURL(o))||o}class ga{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ho extends ga{getTypeName(){return"HTML"}}class og extends ga{getTypeName(){return"Style"}}class u_ extends ga{getTypeName(){return"Script"}}class ag extends ga{getTypeName(){return"URL"}}class Vh extends ga{getTypeName(){return"ResourceURL"}}function li(o){return o instanceof ga?o.changingThisBreaksApplicationSecurity:o}function fo(o,a){const l=Uh(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function Uh(o){return o instanceof ga&&o.getTypeName()||null}function Bh(o){return new ho(o)}function ug(o){return new og(o)}function l_(o){return new u_(o)}function mc(o){return new ag(o)}function c_(o){return new Vh(o)}function lg(o){const a=new cg(o);return function(){try{return!!(new window.DOMParser).parseFromString(co(""),"text/html")}catch(o){return!1}}()?new jh(a):a}class jh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(co(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class cg{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=co(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=co(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let h=l.length-1;0<h;h--){const E=l.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&a.removeAttribute(E)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Hh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pu(o){return(o=String(o)).match(Hh)||o.match(hg)?o:"unsafe:"+o}function ku(o){return(o=String(o)).split(",").map(a=>Pu(a.trim())).join(", ")}function Gr(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function ma(...o){const a={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const h_=Gr("area,br,col,hr,img,wbr"),yc=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f_=Gr("rp,rt"),fg=ma(h_,ma(yc,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ma(f_,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ma(f_,yc)),pg=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gg=Gr("srcset"),Ze=ma(pg,gg,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zi=Gr("script,style,template");class mg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!fg.hasOwnProperty(l))return this.sanitizedSomething=!0,!zi.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),E=g.name,w=E.toLowerCase();if(!Ze.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=g.value;pg[w]&&(D=Pu(D)),gg[w]&&(D=ku(D)),this.buf.push(" ",E,'="',qr(D),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();fg.hasOwnProperty(l)&&!h_.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(qr(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const di=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yg=/([^\#-~ |!])/g;function qr(o){return o.replace(/&/g,"&amp;").replace(di,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(yg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fu;function _c(o,a){let l=null;try{Fu=Fu||lg(o);let d=a?String(a):"";l=Fu.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Fu.getInertBodyElement(d)}while(d!==g);return co((new mg).sanitizeChildren(Lu(l)||l))}finally{if(l){const d=Lu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Lu(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function vc(o){const a=va();return a?Lh(a.sanitize(sn.HTML,o)||""):fo(o,"HTML")?Lh(li(o)):_c(du(),xe(o))}function Ar(o){const a=va();return a?a.sanitize(sn.STYLE,o)||"":fo(o,"Style")?li(o):xe(o)}function po(o){const a=va();return a?a.sanitize(sn.URL,o)||"":fo(o,"URL")?li(o):Pu(xe(o))}function $h(o){const a=va();if(a)return gc(a.sanitize(sn.RESOURCE_URL,o)||"");if(fo(o,"ResourceURL"))return gc(li(o));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Vw(o){const a=va();if(a)return sg(a.sanitize(sn.SCRIPT,o)||"");if(fo(o,"Script"))return sg(li(o));throw new Error("unsafe value used in a script context")}function ya(o){return co(o[0])}function _a(o){return function(o){var a;return(null===(a=Mu())||void 0===a?void 0:a.createScriptURL(o))||o}(o[0])}function Ec(o,a,l){return function(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?$h:po}(a,l)(o)}function va(){const o=ye();return o&&o[12]}const Gh="__ngContext__";function Ot(o,a){o[Gh]=a}function mo(o){const a=function(o){return o[Gh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function R(o){return o.ngOriginalError}function de(o,...a){o.error(...a)}class Te{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),d=this._findContext(a),h=(o=a)&&o.ngErrorLogger||de;var o;h(this._console,"ERROR",a),l&&h(this._console,"ORIGINAL ERROR",l),d&&h(this._console,"ERROR CONTEXT",d)}_findContext(a){return a?a.ngDebugContext||this._findContext(R(a)):null}_findOriginalError(a){let l=a&&R(a);for(;l&&R(l);)l=R(l);return l||null}}const Ge=/^>|^->|<!--|-->|--!>|<!-$/g,wn=/(<|>)/;const zh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(k))();function hi(o){return o.ownerDocument.defaultView}function bc(o){return o.ownerDocument}function Vu(o){return o.ownerDocument.body}function Si(o){return o instanceof Function?o():o}var Ss=(()=>((Ss=Ss||{})[Ss.Important=1]="Important",Ss[Ss.DashCase=2]="DashCase",Ss))();let Cg;function Ig(o,a){return Cg(o,a)}function Kh(o){const a=o[3];return ln(a)?a[3]:a}function ht(o){return Uu(o[13])}function b_(o){return Uu(o[4])}function Uu(o){for(;null!==o&&!ln(o);)o=o[4];return o}function Ea(o,a,l,d,h){if(null!=d){let g,E=!1;ln(d)?g=d:ni(d)&&(E=!0,d=d[0]);const w=qt(d);0===o&&null!==l?null==h?Yh(a,l,w):wa(a,l,w,h||null,!0):1===o&&null!==l?wa(a,l,w,h||null,!0):2===o?Qw(a,w,E):3===o&&a.destroyNode(w),null!=g&&function(o,a,l,d,h){const g=l[7];g!==qt(l)&&Ea(a,o,d,g,h);for(let w=10;w<l.length;w++){const D=l[w];Ta(D[1],D,o,a,d,g)}}(a,o,g,l,h)}}function C_(o,a){return Gt(o)?o.createText(a):o.createTextNode(a)}function Hw(o,a,l){Gt(o)?o.setValue(a,l):a.textContent=l}function _T(o,a){return o.createComment(function(o){return o.replace(Ge,a=>a.replace(wn,"\u200b$1\u200b"))}(a))}function xi(o,a,l){return Gt(o)?o.createElement(a,l):null===l?o.createElement(a):o.createElementNS(l,a)}function Zw(o,a){const l=o[9],d=l.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,sh(h,-1)),l.splice(d,1)}function I_(o,a){if(o.length<=10)return;const l=10+a,d=o[l];if(d){const h=d[17];null!==h&&h!==o&&Zw(h,d),a>0&&(o[l-1][4]=d[4]);const g=gn(o,10+a);!function(o,a){Ta(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const E=g[19];null!==E&&E.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function D_(o,a){if(!(256&a[2])){const l=a[11];Gt(l)&&l.destroyNode&&Ta(o,a,l,3,null,null),function(o){let a=o[13];if(!a)return Dg(o[1],o);for(;a;){let l=null;if(ni(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==o;)ni(a)&&Dg(a[1],a),a=a[3];null===a&&(a=o),ni(a)&&Dg(a[1],a),l=a&&a[4]}a=l}}(a)}}function Dg(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=a[l[d]];if(!(h instanceof ys)){const g=l[d+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const w=h[g[E]],D=g[E+1];try{D.call(w)}finally{}}else try{g.call(h)}finally{}}}}(o,a),function(o,a){const l=o.cleanup,d=a[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const E=l[g+1],w="function"==typeof E?E(a):qt(a[E]),D=d[h=l[g+2]],A=l[g+3];"boolean"==typeof A?w.removeEventListener(l[g],D,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const E=d[h=l[g+1]];l[g].call(E)}if(null!==d){for(let g=h+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&Gt(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&ln(a[3])){l!==a[3]&&Zw(l,a);const d=a[19];null!==d&&d.detachView(o)}}}function zw(o,a,l){return T_(o,a.parent,l)}function T_(o,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Vt.None||h===Vt.Emulated)return null}return Dr(d,l)}function wa(o,a,l,d,h){Gt(o)?o.insertBefore(a,l,d,h):a.insertBefore(l,d,h)}function Yh(o,a,l){Gt(o)?o.appendChild(a,l):a.appendChild(l)}function ba(o,a,l,d,h){null!==d?wa(o,a,l,d,h):Yh(o,a,l)}function Ca(o,a){return Gt(o)?o.parentNode(a):a.parentNode}function Ia(o,a,l){return Tg(o,a,l)}function Kw(o,a,l){return 40&o.type?Dr(o,l):null}let Ag,Tg=Kw;function Yw(o,a){Tg=o,Ag=a}function Bu(o,a,l,d){const h=zw(o,d,a),g=a[11],w=Ia(d.parent||a[6],d,a);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)ba(g,h,l[D],w,!1);else ba(g,h,l,w,!1);void 0!==Ag&&Ag(g,d,a,l,h)}function Da(o,a){if(null!==a){const l=a.type;if(3&l)return Dr(a,o);if(4&l)return Cc(-1,o[a.index]);if(8&l){const d=a.child;if(null!==d)return Da(o,d);{const h=o[a.index];return ln(h)?Cc(-1,h):qt(h)}}if(32&l)return Ig(a,o)()||qt(o[a.index]);{const d=A_(o,a);return null!==d?Array.isArray(d)?d[0]:Da(Kh(o[16]),d):Da(o,a.next)}}return null}function A_(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Cc(o,a){const l=10+o+1;if(l<a.length){const d=a[l],h=d[1].firstChild;if(null!==h)return Da(d,h)}return a[7]}function Qw(o,a,l){const d=Ca(o,a);d&&function(o,a,l,d){Gt(o)?o.removeChild(a,l,d):a.removeChild(l)}(o,d,a,l)}function Qh(o,a,l,d,h,g,E){for(;null!=l;){const w=d[l.index],D=l.type;if(E&&0===a&&(w&&Ot(qt(w),d),l.flags|=4),64!=(64&l.flags))if(8&D)Qh(o,a,l.child,d,h,g,!1),Ea(a,o,h,w,g);else if(32&D){const A=Ig(l,d);let s;for(;s=A();)Ea(a,o,h,s,g);Ea(a,o,h,w,g)}else 16&D?S_(o,a,d,l,h,g):Ea(a,o,h,w,g);l=E?l.projectionNext:l.next}}function Ta(o,a,l,d,h,g){Qh(l,d,o.firstChild,a,h,g,!1)}function S_(o,a,l,d,h,g){const E=l[16],D=E[6].projection[d.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)Ea(a,o,h,D[A],g);else Qh(o,a,D,E[3],h,g,!0)}function Xw(o,a,l){Gt(o)?o.setAttribute(a,"style",l):a.style.cssText=l}function Ic(o,a,l){Gt(o)?""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l):a.className=l}function eb(o,a,l){let d=o.length;for(;;){const h=o.indexOf(a,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}l=h+1}}const tb="ng-template";function CT(o,a,l){let d=0;for(;d<o.length;){let h=o[d++];if(l&&"class"===h){if(h=o[d],-1!==eb(h.toLowerCase(),a,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function nb(o){return 4===o.type&&o.value!==tb}function rb(o,a,l){return a===(4!==o.type||l?o.value:tb)}function x_(o,a,l){let d=4;const h=o.attrs||[],g=function(o){for(let a=0;a<o.length;a++)if(hh(o[a]))return a;return o.length}(h);let E=!1;for(let w=0;w<a.length;w++){const D=a[w];if("number"!=typeof D){if(!E)if(4&d){if(d=2|1&d,""!==D&&!rb(o,D,l)||""===D&&1===a.length){if(fi(d))return!1;E=!0}}else{const A=8&d?D:a[++w];if(8&d&&null!==o.attrs){if(!CT(o.attrs,A,l)){if(fi(d))return!1;E=!0}continue}const r=vo(8&d?"class":D,h,nb(o),l);if(-1===r){if(fi(d))return!1;E=!0;continue}if(""!==A){let i;i=r>g?"":h[r+1].toLowerCase();const u=8&d?i:null;if(u&&-1!==eb(u,A,0)||2&d&&A!==i){if(fi(d))return!1;E=!0}}}}else{if(!E&&!fi(d)&&!fi(D))return!1;if(E&&fi(D))continue;E=!1,d=D|1&d}}return fi(d)||E}function fi(o){return 0==(1&o)}function vo(o,a,l,d){if(null===a)return-1;let h=0;if(d||!l){let g=!1;for(;h<a.length;){const E=a[h];if(E===o)return h;if(3===E||6===E)g=!0;else{if(1===E||2===E){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=g?1:2}return-1}return function(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,o)}function Dc(o,a,l=!1){for(let d=0;d<a.length;d++)if(x_(o,a[d],l))return!0;return!1}function Tc(o,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function N_(o,a){return o?":not("+a.trim()+")":a}function DT(o){let a=o[0],l=1,d=2,h="",g=!1;for(;l<o.length;){let E=o[l];if("string"==typeof E)if(2&d){const w=o[++l];h+="["+E+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+E:4&d&&(h+=" "+E);else""!==h&&!fi(E)&&(a+=N_(g,h),h=""),d=E,g=g||!fi(d);l++}return""!==h&&(a+=N_(g,h)),a}const Ye={};function R_(o){xg(dt(),ye(),Un()+o,Xo())}function xg(o,a,l,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Qs(a,g,l)}else{const g=o.preOrderHooks;null!==g&&Ql(a,g,0,l)}gr(l)}function Ac(o,a){return o<<17|a<<2}function Qi(o){return o>>17&32767}function M_(o){return 2|o}function Eo(o){return(131068&o)>>2}function O_(o,a){return-131069&o|a<<2}function ju(o){return 1|o}function pb(o,a){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const E=o.data[g];Up(h),E.contentQueries(2,a[g],g)}}}function Nc(o,a,l,d,h,g,E,w,D,A){const s=a.blueprint.slice();return s[0]=h,s[2]=140|d,Gl(s),s[3]=s[15]=o,s[8]=l,s[10]=E||o&&o[10],s[11]=w||o&&o[11],s[12]=D||o&&o[12]||null,s[9]=A||o&&o[9]||null,s[6]=g,s[16]=2==a.type?o[16]:s,s}function Ns(o,a,l,d,h){let g=o.data[a];if(null===g)g=Fg(o,a,l,d,h),We.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const E=pu();g.injectorIndex=null===E?-1:E.injectorIndex}return jr(g,!0),g}function Fg(o,a,l,d,h){const g=Zl(),E=ah(),D=o.data[a]=function(o,a,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,l,a,d,h);return null===o.firstChild&&(o.firstChild=D),null!==g&&(E?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function Co(o,a,l,d){if(0===l)return-1;const h=a.length;for(let g=0;g<l;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function Rc(o,a,l){mu(a);try{const d=o.viewQuery;null!==d&&Cn(1,d,l);const h=o.template;null!==h&&mb(o,a,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pb(o,a),o.staticViewQueries&&Cn(2,o.viewQuery,l);const g=o.components;null!==g&&function(o,a){for(let l=0;l<a.length;l++)Tb(o,a[l])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,jp()}}function Mc(o,a,l,d){const h=a[2];if(256==(256&h))return;mu(a);const g=Xo();try{Gl(a),uh(o.bindingStartIndex),null!==l&&mb(o,a,l,2,d);const E=3==(3&h);if(!g)if(E){const A=o.preOrderCheckHooks;null!==A&&Qs(a,A,null)}else{const A=o.preOrderHooks;null!==A&&Ql(a,A,0,null),Hp(a,0)}if(function(o){for(let a=ht(o);null!==a;a=b_(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(1024&h[2])&&sh(g,1),h[2]|=1024}}}(a),function(o){for(let a=ht(o);null!==a;a=b_(a))for(let l=10;l<a.length;l++){const d=a[l],h=d[1];ih(d)&&Mc(h,d,h.template,d[8])}}(a),null!==o.contentQueries&&pb(o,a),!g)if(E){const A=o.contentCheckHooks;null!==A&&Qs(a,A)}else{const A=o.contentHooks;null!==A&&Ql(a,A,1),Hp(a,1)}!function(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)gr(~h);else{const g=h,E=l[++d],w=l[++d];gu(E,g),w(2,a[g])}}}finally{gr(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let l=0;l<a.length;l++)$T(o,a[l])}(a,w);const D=o.viewQuery;if(null!==D&&Cn(2,D,d),!g)if(E){const A=o.viewCheckHooks;null!==A&&Qs(a,A)}else{const A=o.viewHooks;null!==A&&Ql(a,A,2),Hp(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,sh(a[3],-1))}finally{jp()}}function NT(o,a,l,d){const h=a[10],g=!Xo(),E=hu(a);try{g&&!E&&h.begin&&h.begin(),E&&Rc(o,a,d),Mc(o,a,l,d)}finally{g&&!E&&h.end&&h.end()}}function mb(o,a,l,d,h){const g=Un(),E=2&d;try{gr(-1),E&&a.length>20&&xg(o,a,20,Xo()),l(d,h)}finally{gr(g)}}function yb(o,a,l){if(Br(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,l[g],g)}}}function H_(o,a,l){!oh()||(function(o,a,l,d){const h=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||qi(l,a),Ot(d,a);const E=l.initialInputs;for(let w=h;w<g;w++){const D=o.data[w],A=ri(D);A&&Db(a,l,D);const s=Xs(a,o,w,l);Ot(s,a),null!==E&&UT(0,w-h,s,D,0,E),A&&(or(l.index,a)[8]=s)}}(o,a,l,Dr(l,a)),128==(128&l.flags)&&function(o,a,l){const d=l.directiveStart,h=l.directiveEnd,E=l.index,w=We.lFrame.currentDirectiveIndex;try{gr(E);for(let D=d;D<h;D++){const A=o.data[D],s=a[D];ms(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Cb(A,s)}}finally{gr(-1),ms(w)}}(o,a,l))}function nf(o,a,l=Dr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const E=d[g+1],w=-1===E?l(a,o):o[E];o[h++]=w}}}function _b(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=rf(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function rf(o,a,l,d,h,g,E,w,D,A){const s=20+d,r=s+h,i=function(o,a){const l=[];for(let d=0;d<a;d++)l.push(d<o?null:Ye);return l}(s,r),u="function"==typeof A?A():A;return i[1]={type:o,blueprint:i,template:l,queries:null,viewQuery:w,declTNode:a,data:i.slice().fill(null,s),bindingStartIndex:s,expandoStartIndex:r,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:D,consts:u,incompleteFirstPass:!1}}function Eb(o,a,l,d){const h=Bg(a);null===l?h.push(d):(h.push(l),o.firstCreatePass&&jg(o).push(d,h.length-1))}function wb(o,a,l){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,h):l[d]=[a,h]}return l}function pi(o,a,l,d,h,g,E,w){const D=Dr(a,l);let s,A=a.inputs;!w&&null!=A&&(s=A[d])?(Sb(o,l,s,d,h),Rl(a)&&function(o,a){const l=or(a,o);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(d=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=E?E(h,a.value||"",d):h,Gt(g)?g.setProperty(D,d,h):Xl(d)||(D.setProperty?D.setProperty(d,h):D[d]=h))}function $_(o,a,l,d){let h=!1;if(oh()){const g=function(o,a,l){const d=o.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const E=d[g];Dc(l,E.selectors,!1)&&(h||(h=[]),ra(qi(l,a),o,E.type),ri(E)?(q_(o,l),h.unshift(E)):h.push(E))}return h}(o,a,l),E=null===d?null:{"":-1};if(null!==g){h=!0,Z_(l,o.data.length,g.length);for(let s=0;s<g.length;s++){const r=g[s];r.providersResolver&&r.providersResolver(r)}let w=!1,D=!1,A=Co(o,a,g.length,null);for(let s=0;s<g.length;s++){const r=g[s];l.mergedAttrs=fh(l.mergedAttrs,r.hostAttrs),W_(o,l,a,A,r),Ib(A,r,E),null!==r.contentQueries&&(l.flags|=8),(null!==r.hostBindings||null!==r.hostAttrs||0!==r.hostVars)&&(l.flags|=128);const i=r.type.prototype;!w&&(i.ngOnChanges||i.ngOnInit||i.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),w=!0),!D&&(i.ngOnChanges||i.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),D=!0),A++}!function(o,a){const d=a.directiveEnd,h=o.data,g=a.attrs,E=[];let w=null,D=null;for(let A=a.directiveStart;A<d;A++){const s=h[A],r=s.inputs,i=null===g||nb(a)?null:BT(r,g);E.push(i),w=wb(r,A,w),D=wb(s.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=E,a.inputs=w,a.outputs=D}(o,l)}E&&function(o,a,l){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=l[a[h+1]];if(null==g)throw new be("301",`Export of name '${a[h+1]}' not found!`);d.push(a[h],g)}}}(l,d,E)}return l.mergedAttrs=fh(l.mergedAttrs,l.attrs),h}function G_(o,a,l,d,h,g){const E=g.hostBindings;if(E){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~a.index;(function(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(w)!=D&&w.push(D),w.push(d,h,E)}}function Cb(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function q_(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Ib(o,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=o;ri(a)&&(l[""]=o)}}function Z_(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function W_(o,a,l,d,h){o.data[d]=h;const g=h.factory||(h.factory=ls(h.type)),E=new ys(g,ri(h),null);o.blueprint[d]=E,l[d]=E,G_(o,a,0,d,Co(o,l,h.hostVars,Ye),h)}function Db(o,a,l){const d=Dr(a,o),h=_b(l),g=o[10],E=Io(o,Nc(o,h,null,l.onPush?64:16,d,a,g,g.createRenderer(d,l),null,null));o[a.index]=E}function Rs(o,a,l,d,h,g){const E=Dr(o,a);z_(a[11],E,g,o.value,l,d,h)}function z_(o,a,l,d,h,g,E){if(null==g)Gt(o)?o.removeAttribute(a,h,l):a.removeAttribute(h);else{const w=null==E?xe(g):E(g,d||"",h);Gt(o)?o.setAttribute(a,h,w,l):l?a.setAttributeNS(l,h,w):a.setAttribute(h,w)}}function UT(o,a,l,d,h,g){const E=g[a];if(null!==E){const w=d.setInput;for(let D=0;D<E.length;){const A=E[D++],s=E[D++],r=E[D++];null!==w?d.setInput(l,r,A,s):l[s]=r}}}function BT(o,a){let l=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,o[h],a[d+1])),d+=2}else d+=2;else d+=4}return l}function Vg(o,a,l,d){return new Array(o,!0,!1,a,null,0,d,l,null,null)}function $T(o,a){const l=or(a,o);if(ih(l)){const d=l[1];80&l[2]?Mc(d,l,d.template,l[8]):l[5]>0&&uf(l)}}function uf(o){for(let d=ht(o);null!==d;d=b_(d))for(let h=10;h<d.length;h++){const g=d[h];if(1024&g[2]){const E=g[1];Mc(E,g,E.template,g[8])}else g[5]>0&&uf(g)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=or(l[d],o);ih(h)&&h[5]>0&&uf(h)}}function Tb(o,a){const l=or(a,o),d=l[1];(function(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(d,l),Rc(d,l,l[8])}function Io(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function K_(o){for(;o;){o[2]|=64;const a=Kh(o);if(Jd(o)&&!a)return o;o=a}return null}function Q_(o,a,l){const d=a[10];d.begin&&d.begin();try{Mc(o,a,o.template,l)}catch(h){throw Ab(a,h),h}finally{d.end&&d.end()}}function J_(o){!function(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],d=mo(l),h=d[1];NT(h,d,h.template,l)}}(o[8])}function Cn(o,a,l){Up(0),a(o,l)}const Ug=(()=>Promise.resolve(null))();function Bg(o){return o[7]||(o[7]=[])}function jg(o){return o.cleanup||(o.cleanup=[])}function $u(o,a,l){return(null===o||ri(o))&&(l=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function Ab(o,a){const l=o[9],d=l?l.get(Te,null):null;d&&d.handleError(a)}function Sb(o,a,l,d,h){for(let g=0;g<l.length;){const E=l[g++],w=l[g++],D=a[E],A=o.data[E];null!==A.setInput?A.setInput(D,h,d,w):D[w]=h}}function Ms(o,a,l){const d=Hl(a,o);Hw(o[11],d,l)}function Hg(o,a,l){let d=l?o.styles:null,h=l?o.classes:null,g=0;if(null!==a)for(let E=0;E<a.length;E++){const w=a[E];"number"==typeof w?g=w:1==g?h=H(h,w):2==g&&(d=H(d,w+": "+a[++E]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}const Gu=new Jt("INJECTOR",-1);class $g{get(a,l=la){if(l===la){const d=new Error(`NullInjectorError: No provider for ${F(a)}!`);throw d.name="NullInjectorError",d}return l}}const Gg=new Jt("Set Injector scope."),Ji={},Nb={};let X_;function Rb(){return void 0===X_&&(X_=new $g),X_}function ev(o,a=null,l=null,d){return new QT(o,l,a||Rb(),d)}class QT{constructor(a,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&$r(l,w=>this.processProvider(w,a,l)),$r([a],w=>this.processInjectorType(w,[],g)),this.records.set(Gu,Oc(void 0,this));const E=this.records.get(Gg);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof a?null:F(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=la,d=Ee.Default){this.assertNotDestroyed();const h=Zi(this),g=Ht(void 0);try{if(!(d&Ee.SkipSelf)){let w=this.records.get(a);if(void 0===w){const D=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Jt)&&qn(a);w=D&&this.injectableDefInScope(D)?Oc(tv(a),Ji):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&Ee.Self?Rb():this.parent).get(a,l=d&Ee.Optional&&l===la?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[ui]=E[ui]||[]).unshift(F(a)),h)throw E;return xu(E,a,"R3InjectorError",this.source)}throw E}finally{Ht(g),Zi(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,h)=>a.push(F(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,d){if(!(a=K(a)))return!1;let h=Bi(a);const g=null==h&&a.ngModule||void 0,E=void 0===g?a:g,w=-1!==d.indexOf(E);if(void 0!==g&&(h=Bi(g)),null==h)return!1;if(null!=h.imports&&!w){let s;d.push(E);try{$r(h.imports,r=>{this.processInjectorType(r,l,d)&&(void 0===s&&(s=[]),s.push(r))})}finally{}if(void 0!==s)for(let r=0;r<s.length;r++){const{ngModule:i,providers:u}=s[r];$r(u,c=>this.processProvider(c,i,u||ge))}}this.injectorDefTypes.add(E);const D=ls(E)||(()=>new E);this.records.set(E,Oc(D,Ji));const A=h.providers;if(null!=A&&!w){const s=a;$r(A,r=>this.processProvider(r,s,A))}return void 0!==g&&void 0!==a.providers}processProvider(a,l,d){let h=Pc(a=K(a))?a:K(a&&a.provide);const g=Pb(o=a)?Oc(void 0,o.useValue):Oc(Ob(o),Ji);var o;if(Pc(a)||!0!==a.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=Oc(void 0,Ji,!0),E.factory=()=>Wi(E.multi),this.records.set(h,E)),h=a,E.multi.push(a)}this.records.set(h,g)}hydrate(a,l){return l.value===Ji&&(l.value=Nb,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(o=l.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const l=K(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function tv(o){const a=qn(o),l=null!==a?a.factory:ls(o);if(null!==l)return l;if(o instanceof Jt)throw new Error(`Token ${F(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const d=Di(a,"?");throw new Error(`Can't resolve all parameters for ${F(o)}: (${d.join(", ")}).`)}const l=function(o){const a=o&&(o[An]||o[Fr]);if(a){const l=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Error("unreachable")}function Ob(o,a,l){let d;if(Pc(o)){const h=K(o);return ls(h)||tv(h)}if(Pb(o))d=()=>K(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Wi(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))d=()=>Xt(K(o.useExisting));else{const h=K(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return ls(h)||tv(h);d=()=>new h(...Wi(o.deps))}return d}function Oc(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function Pb(o){return null!==o&&"object"==typeof o&&da in o}function Pc(o){return"function"==typeof o}const rv=function(o,a,l){return function(o,a=null,l=null,d){const h=ev(o,a,l,d);return h._resolveInjectorDefTypes(),h}({name:l},a,o,l)};class Ft{static create(a,l){return Array.isArray(a)?rv(a,l,""):rv(a.providers,a.parent,a.name||"")}}function pe(o,a){Yl(mo(o)[1],pn())}function fv(o){return Object.getPrototypeOf(o.prototype).constructor}function To(o){let a=fv(o.type),l=!0;const d=[o];for(;a;){let h;if(ri(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(l){d.push(h);const E=o;E.inputs=cf(o.inputs),E.declaredInputs=cf(o.declaredInputs),E.outputs=cf(o.outputs);const w=h.hostBindings;w&&gA(o,w);const D=h.viewQuery,A=h.contentQueries;if(D&&pA(o,D),A&&Yb(o,A),U(o.inputs,h.inputs),U(o.declaredInputs,h.declaredInputs),U(o.outputs,h.outputs),ri(h)&&h.data.animation){const s=o.data;s.animation=(s.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let E=0;E<g.length;E++){const w=g[E];w&&w.ngInherit&&w(o),w===To&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=fh(h.hostAttrs,l=fh(l,h.hostAttrs))}}(d)}function cf(o){return o===Z?{}:o===ge?[]:o}function pA(o,a){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{a(d,h),l(d,h)}:a}function Yb(o,a){const l=o.contentQueries;o.contentQueries=l?(d,h,g)=>{a(d,h,g),l(d,h,g)}:a}function gA(o,a){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{a(d,h),l(d,h)}:a}Ft.THROW_IF_NOT_FOUND=la,Ft.NULL=new $g,Ft.\u0275prov=Yt({token:Ft,providedIn:"any",factory:()=>Xt(Gu)}),Ft.__NG_ELEMENT_ID__=-1;const ke=["providersResolver"],pv=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function et(o){let l,a=fv(o.type);l=ri(o)?a.\u0275cmp:a.\u0275dir;const d=o;for(const h of ke)d[h]=l[h];if(ri(l))for(const h of pv)d[h]=l[h]}let qu=null;function Aa(){if(!qu){const o=k.Symbol;if(o&&o.iterator)qu=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(qu=d)}}}return qu}class es{constructor(a){this.wrapped=a}static wrap(a){return new es(a)}static unwrap(a){return es.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof es}}function Zu(o){return!!gv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Aa()in o)}function gv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function zt(o,a,l){return o[a]=l}function Sa(o,a){return o[a]}function St(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Kr(o,a,l,d){const h=St(o,a,l);return St(o,a+1,d)||h}function Wg(o,a,l,d,h){const g=Kr(o,a,l,d);return St(o,a+2,h)||g}function Ri(o,a,l,d,h,g){const E=Kr(o,a,l,d);return Kr(o,a+2,h,g)||E}function zg(o,a,l,d){const h=ye();return St(h,gs(),a)&&(dt(),Rs(Zt(),h,o,a,l,d)),zg}function Wu(o,a){let l=!1,d=Hr();for(let g=1;g<a.length;g+=2)l=St(o,d++,a[g])||l;if(uh(d),!l)return Ye;let h=a[0];for(let g=1;g<a.length;g+=2)h+=xe(a[g])+a[g+1];return h}function Lc(o,a,l,d){return St(o,gs(),l)?a+xe(l)+d:Ye}function zu(o,a,l,d,h,g){const w=Kr(o,Hr(),l,h);return Gi(2),w?a+xe(l)+d+xe(h)+g:Ye}function xa(o,a,l,d,h,g,E,w){const A=Wg(o,Hr(),l,h,E);return Gi(3),A?a+xe(l)+d+xe(h)+g+xe(E)+w:Ye}function Ao(o,a,l,d,h,g,E,w,D,A){const r=Ri(o,Hr(),l,h,E,D);return Gi(4),r?a+xe(l)+d+xe(h)+g+xe(E)+w+xe(D)+A:Ye}function Ku(o,a,l,d,h,g,E,w,D,A,s,r){const i=Hr();let u=Ri(o,i,l,h,E,D);return u=St(o,i+4,s)||u,Gi(5),u?a+xe(l)+d+xe(h)+g+xe(E)+w+xe(D)+A+xe(s)+r:Ye}function Mn(o,a,l,d,h,g,E,w,D,A,s,r,i,u){const c=Hr();let f=Ri(o,c,l,h,E,D);return f=Kr(o,c+4,s,i)||f,Gi(6),f?a+xe(l)+d+xe(h)+g+xe(E)+w+xe(D)+A+xe(s)+r+xe(i)+u:Ye}function Na(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f){const y=Hr();let b=Ri(o,y,l,h,E,D);return b=Wg(o,y+4,s,i,c)||b,Gi(7),b?a+xe(l)+d+xe(h)+g+xe(E)+w+xe(D)+A+xe(s)+r+xe(i)+u+xe(c)+f:Ye}function On(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b){const T=Hr();let x=Ri(o,T,l,h,E,D);return x=Ri(o,T+4,s,i,c,y)||x,Gi(8),x?a+xe(l)+d+xe(h)+g+xe(E)+w+xe(D)+A+xe(s)+r+xe(i)+u+xe(c)+f+xe(y)+b:Ye}function mv(o,a,l,d,h,g){const E=ye(),w=Lc(E,a,l,d);return w!==Ye&&Rs(Zt(),E,o,w,h,g),mv}function yv(o,a,l,d,h,g,E,w){const D=ye(),A=zu(D,a,l,d,h,g);return A!==Ye&&Rs(Zt(),D,o,A,E,w),yv}function Kg(o,a,l,d,h,g,E,w,D,A){const s=ye(),r=xa(s,a,l,d,h,g,E,w);return r!==Ye&&Rs(Zt(),s,o,r,D,A),Kg}function _v(o,a,l,d,h,g,E,w,D,A,s,r){const i=ye(),u=Ao(i,a,l,d,h,g,E,w,D,A);return u!==Ye&&Rs(Zt(),i,o,u,s,r),_v}function vv(o,a,l,d,h,g,E,w,D,A,s,r,i,u){const c=ye(),f=Ku(c,a,l,d,h,g,E,w,D,A,s,r);return f!==Ye&&Rs(Zt(),c,o,f,i,u),vv}function Ev(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f){const y=ye(),b=Mn(y,a,l,d,h,g,E,w,D,A,s,r,i,u);return b!==Ye&&Rs(Zt(),y,o,b,c,f),Ev}function Yg(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b){const T=ye(),x=Na(T,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f);return x!==Ye&&Rs(Zt(),T,o,x,y,b),Yg}function Qb(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b,T,x){const N=ye(),M=On(N,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b);return M!==Ye&&Rs(Zt(),N,o,M,T,x),Qb}function Jb(o,a,l,d){const h=ye(),g=Wu(h,a);return g!==Ye&&Rs(Zt(),h,o,g,l,d),Jb}function Xb(o,a,l,d,h,g,E,w){const D=ye(),A=dt(),s=o+20,r=A.firstCreatePass?function(o,a,l,d,h,g,E,w,D){const A=a.consts,s=Ns(a,o,4,E||null,hs(A,w));$_(a,l,s,hs(A,D)),Yl(a,s);const r=s.tViews=rf(2,s,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A);return null!==a.queries&&(a.queries.template(a,s),r.queries=a.queries.embeddedTView(s)),s}(s,A,D,a,l,d,h,g,E):A.data[s];jr(r,!1);const i=D[11].createComment("");Bu(A,D,i,r),Ot(i,D),Io(D,D[s]=Vg(i,D,i,r)),Yo(r)&&H_(A,D,r),null!=E&&nf(D,r,w)}function eC(o){return ds(We.lFrame.contextLView,20+o)}function Yu(o,a=Ee.Default){const l=ye();return null===l?Xt(o,a):qp(pn(),l,K(o),a)}function Rv(){throw new Error("invalid")}function sm(o,a,l){const d=ye();return St(d,gs(),a)&&pi(dt(),Zt(),d,o,a,d[11],l,!1),sm}function Mv(o,a,l,d,h){const E=h?"class":"style";Sb(o,l,a.inputs[E],E,d)}function om(o,a,l,d){const h=ye(),g=dt(),E=20+o,w=h[11],D=h[E]=xi(w,a,We.lFrame.currentNamespace),A=g.firstCreatePass?function(o,a,l,d,h,g,E){const w=a.consts,A=Ns(a,o,2,h,hs(w,g));return $_(a,l,A,hs(w,E)),null!==A.attrs&&Hg(A,A.attrs,!1),null!==A.mergedAttrs&&Hg(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(E,g,h,0,a,l,d):g.data[E];jr(A,!0);const s=A.mergedAttrs;null!==s&&Es(w,D,s);const r=A.classes;null!==r&&Ic(w,D,r);const i=A.styles;null!==i&&Xw(w,D,i),64!=(64&A.flags)&&Bu(g,h,D,A),0===We.lFrame.elementDepthCount&&Ot(D,h),We.lFrame.elementDepthCount++,Yo(A)&&(H_(g,h,A),yb(g,A,h)),null!==d&&nf(h,A)}function am(){let o=pn();ah()?fs():(o=o.parent,jr(o,!1));const a=o;We.lFrame.elementDepthCount--;const l=dt();l.firstCreatePass&&(Yl(l,o),Br(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Mv(l,a,ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Mv(l,a,ye(),a.stylesWithoutHost,!1)}function Ov(o,a,l,d){om(o,a,l,d),am()}function gC(o,a,l){const d=ye(),h=dt(),g=o+20,E=h.firstCreatePass?function(o,a,l,d,h){const g=a.consts,E=hs(g,d),w=Ns(a,o,8,"ng-container",E);return null!==E&&Hg(w,E,!0),$_(a,l,w,hs(g,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,h,d,a,l):h.data[g];jr(E,!0);const w=d[g]=d[11].createComment("");Bu(h,d,w,E),Ot(w,d),Yo(E)&&(H_(h,d,E),yb(h,E,d)),null!=l&&nf(d,E)}function Qu(){let o=pn();const a=dt();ah()?fs():(o=o.parent,jr(o,!1)),a.firstCreatePass&&(Yl(a,o),Br(o)&&a.queries.elementEnd(o))}function xA(o,a,l){gC(o,a,l),Qu()}function NA(){return ye()}function So(o){return!!o&&"function"==typeof o.then}function kv(o){return!!o&&"function"==typeof o.subscribe}const jc=kv;function um(o,a,l,d){const h=ye(),g=dt(),E=pn();return yr(g,h,h[11],E,o,a,!!l,d),um}function Hc(o,a){const l=pn(),d=ye(),h=dt();return yr(h,d,$u(Wl(h.data),l,d),l,o,a,!1),Hc}function yr(o,a,l,d,h,g,E,w){const D=Yo(d),s=o.firstCreatePass&&jg(o),r=a[8],i=Bg(a);let u=!0;if(3&d.type||w){const y=Dr(d,a),b=w?w(y):y,T=i.length,x=w?N=>w(qt(N[d.index])):d.index;if(Gt(l)){let N=null;if(!w&&D&&(N=function(o,a,l,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const E=h[g];if(E===l&&h[g+1]===d){const w=a[7],D=h[g+2];return w.length>D?w[D]:null}"string"==typeof E&&(g+=2)}return null}(o,a,h,d.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=g,N.__ngLastListenerFn__=g,u=!1;else{g=Ju(d,a,r,g,!1);const M=l.listen(b,h,g);i.push(g,M),s&&s.push(h,x,T,T+1)}}else g=Ju(d,a,r,g,!0),b.addEventListener(h,g,E),i.push(g),s&&s.push(h,x,T,E)}else g=Ju(d,a,r,g,!1);const c=d.outputs;let f;if(u&&null!==c&&(f=c[h])){const y=f.length;if(y)for(let b=0;b<y;b+=2){const j=a[f[b]][f[b+1]].subscribe(g),q=i.length;i.push(g,j),s&&s.push(h,d.index,q,-(q+1))}}}function Fv(o,a,l,d){try{return!1!==l(d)}catch(h){return Ab(o,h),!1}}function Ju(o,a,l,d,h){return function g(E){if(E===Function)return d;const w=2&o.flags?or(o.index,a):a;0==(32&a[2])&&K_(w);let D=Fv(a,0,d,E),A=g.__ngNextListenerFn__;for(;A;)D=Fv(a,0,A,E)&&D,A=A.__ngNextListenerFn__;return h&&!1===D&&(E.preventDefault(),E.returnValue=!1),D}}function lm(o=1){return function(o){return(We.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,We.lFrame.contextLView))[8]}(o)}function yC(o,a){let l=null;const d=function(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?Dc(o,g,!0):Tc(d,g))return h}else l=h}return l}function Lv(o){const a=ye()[16][6];if(!a.projection){const d=a.projection=Di(o?o.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const E=o?yC(g,o):0;null!==E&&(h[E]?h[E].projectionNext=g:d[E]=g,h[E]=g),g=g.next}}}function _C(o,a=0,l){const d=ye(),h=dt(),g=Ns(h,20+o,16,null,l||null);null===g.projection&&(g.projection=a),fs(),64!=(64&g.flags)&&function(o,a,l){S_(a[11],0,a,l,zw(o,l,a),Ia(l.parent||a[6],l,a))}(h,d,g)}function Vv(o,a,l){return Ma(o,"",a,"",l),Vv}function Ma(o,a,l,d,h){const g=ye(),E=Lc(g,a,l,d);return E!==Ye&&pi(dt(),Zt(),g,o,E,g[11],h,!1),Ma}function cm(o,a,l,d,h,g,E){const w=ye(),D=zu(w,a,l,d,h,g);return D!==Ye&&pi(dt(),Zt(),w,o,D,w[11],E,!1),cm}function dm(o,a,l,d,h,g,E,w,D){const A=ye(),s=xa(A,a,l,d,h,g,E,w);return s!==Ye&&pi(dt(),Zt(),A,o,s,A[11],D,!1),dm}function hm(o,a,l,d,h,g,E,w,D,A,s){const r=ye(),i=Ao(r,a,l,d,h,g,E,w,D,A);return i!==Ye&&pi(dt(),Zt(),r,o,i,r[11],s,!1),hm}function pf(o,a,l,d,h,g,E,w,D,A,s,r,i){const u=ye(),c=Ku(u,a,l,d,h,g,E,w,D,A,s,r);return c!==Ye&&pi(dt(),Zt(),u,o,c,u[11],i,!1),pf}function $c(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c){const f=ye(),y=Mn(f,a,l,d,h,g,E,w,D,A,s,r,i,u);return y!==Ye&&pi(dt(),Zt(),f,o,y,f[11],c,!1),$c}function Uv(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y){const b=ye(),T=Na(b,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f);return T!==Ye&&pi(dt(),Zt(),b,o,T,b[11],y,!1),Uv}function vC(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b,T){const x=ye(),N=On(x,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b);return N!==Ye&&pi(dt(),Zt(),x,o,N,x[11],T,!1),vC}function fm(o,a,l){const d=ye(),h=Wu(d,a);return h!==Ye&&pi(dt(),Zt(),d,o,h,d[11],l,!1),fm}function Hv(o,a,l,d,h){const g=o[l+1],E=null===a;let w=d?Qi(g):Eo(g),D=!1;for(;0!==w&&(!1===D||E);){const s=o[w+1];wC(o[w],a)&&(D=!0,o[w+1]=d?ju(s):M_(s)),w=d?Qi(s):Eo(s)}D&&(o[l+1]=d?M_(g):ju(g))}function wC(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Is(o,a)>=0}const jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gc(o){return o.substring(jn.key,jn.keyEnd)}function bC(o){return o.substring(jn.value,jn.valueEnd)}function qc(o,a){const l=jn.textEnd;return l===a?-1:(a=jn.keyEnd=function(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,jn.key=a,l),Oa(o,a,l))}function gm(o,a){const l=jn.textEnd;let d=jn.key=Oa(o,a,l);return l===d?-1:(d=jn.keyEnd=function(o,a,l){let d;for(;a<l&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,l),d=Pa(o,d,l),d=jn.value=Oa(o,d,l),d=jn.valueEnd=function(o,a,l){let d=-1,h=-1,g=-1,E=a,w=E;for(;E<l;){const D=o.charCodeAt(E++);if(59===D)return w;34===D||39===D?w=E=DC(o,D,E,l):a===E-4&&85===g&&82===h&&76===d&&40===D?w=E=DC(o,41,E,l):D>32&&(w=E),g=h,h=d,d=-33&D}return w}(o,d,l),Pa(o,d,l))}function CC(o){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=o.length}function Oa(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function Pa(o,a,l,d){return(a=Oa(o,a,l))<l&&a++,a}function DC(o,a,l,d){let h=-1,g=l;for(;g<d;){const E=o.charCodeAt(g++);if(E==a&&92!==h)return g;h=92==E&&92===h?0:E}throw new Error}function Ps(o,a,l){return Yr(o,a,l,!1),Ps}function zc(o,a){return Yr(o,a,null,!0),zc}function gi(o){ts(Yc,mm,o,!1)}function mm(o,a){for(let l=function(o){return CC(o),gm(o,Oa(o,0,jn.textEnd))}(a);l>=0;l=gm(a,l))Yc(o,Gc(a),bC(a))}function TC(o){ts(Nn,Tt,o,!0)}function Tt(o,a){for(let l=function(o){return CC(o),qc(o,Oa(o,0,jn.textEnd))}(a);l>=0;l=qc(a,l))Nn(o,Gc(a),!0)}function Yr(o,a,l,d){const h=ye(),g=dt(),E=Gi(2);g.firstUpdatePass&&Kc(g,o,E,d),a!==Ye&&St(h,E,a)&&qv(g,g.data[Un()],h,h[11],o,h[E+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=F(li(o)))),o}(a,l),d,E)}function ts(o,a,l,d){const h=dt(),g=Gi(2);h.firstUpdatePass&&Kc(h,null,g,d);const E=ye();if(l!==Ye&&St(E,g,l)){const w=h.data[Un()];if(xC(w,d)&&!AC(h,g)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(l=H(D,l||"")),Mv(h,w,E,l,d)}else!function(o,a,l,d,h,g,E,w){h===Ye&&(h=ge);let D=0,A=0,s=0<h.length?h[0]:null,r=0<g.length?g[0]:null;for(;null!==s||null!==r;){const i=D<h.length?h[D+1]:void 0,u=A<g.length?g[A+1]:void 0;let f,c=null;s===r?(D+=2,A+=2,i!==u&&(c=r,f=u)):null===r||null!==s&&s<r?(D+=2,c=s):(A+=2,c=r,f=u),null!==c&&qv(o,a,l,d,c,f,E,w),s=D<h.length?h[D]:null,r=A<g.length?g[A]:null}}(h,w,E,E[11],E[g+1],E[g+1]=function(o,a,l){if(null==l||""===l)return ge;const d=[],h=li(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(o,a,l),d,g)}}function AC(o,a){return a>=o.expandoStartIndex}function Kc(o,a,l,d){const h=o.data;if(null===h[l+1]){const g=h[Un()],E=AC(o,l);xC(g,d)&&null===a&&!E&&(a=!1),a=function(o,a,l,d){const h=Wl(o);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(l=mf(l=Gv(null,o,a,l,d),a.attrs,d),g=null);else{const E=a.directiveStylingLast;if(-1===E||o[E]!==h)if(l=Gv(h,o,a,l,d),null===g){let D=function(o,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Eo(d))return o[Qi(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=Gv(null,o,a,D[1],d),D=mf(D,a.attrs,d),function(o,a,l,d){o[Qi(l?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else g=function(o,a,l){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=mf(d,o[g].hostAttrs,l);return mf(d,a.attrs,l)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),l}(h,g,a,d),function(o,a,l,d,h,g){let E=g?a.classBindings:a.styleBindings,w=Qi(E),D=Eo(E);o[d]=l;let s,A=!1;if(Array.isArray(l)){const r=l;s=r[1],(null===s||Is(r,s)>0)&&(A=!0)}else s=l;if(h)if(0!==D){const i=Qi(o[w+1]);o[d+1]=Ac(i,w),0!==i&&(o[i+1]=O_(o[i+1],d)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Ac(w,0),0!==w&&(o[w+1]=O_(o[w+1],d)),w=d;else o[d+1]=Ac(D,0),0===w?w=d:o[D+1]=O_(o[D+1],d),D=d;A&&(o[d+1]=M_(o[d+1])),Hv(o,s,d,!0),Hv(o,s,d,!1),function(o,a,l,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Is(g,a)>=0&&(l[d+1]=ju(l[d+1]))}(a,s,o,d,g),E=Ac(w,D),g?a.classBindings=E:a.styleBindings=E}(h,g,a,l,E,d)}}function Gv(o,a,l,d,h){let g=null;const E=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<E&&(g=a[w],d=mf(d,g.hostAttrs,h),g!==o);)w++;return null!==o&&(l.directiveStylingLast=w),d}function mf(o,a,l){const d=l?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const E=a[g];"number"==typeof E?h=E:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Nn(o,E,!!l||a[++g]))}return void 0===o?null:o}function Yc(o,a,l){Nn(o,a,li(l))}function qv(o,a,l,d,h,g,E,w){if(!(3&a.type))return;const D=o.data,A=D[w+1];yf(function(o){return 1==(1&o)}(A)?Zv(D,a,l,h,Eo(A),E):void 0)||(yf(g)||function(o){return 2==(2&o)}(A)&&(g=Zv(D,null,l,h,w,E)),function(o,a,l,d,h){const g=Gt(o);if(a)h?g?o.addClass(l,d):l.classList.add(d):g?o.removeClass(l,d):l.classList.remove(d);else{let E=-1===d.indexOf("-")?void 0:Ss.DashCase;if(null==h)g?o.removeStyle(l,d,E):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),E|=Ss.Important),g?o.setStyle(l,d,h,E):l.style.setProperty(d,h,w?"important":"")}}}(d,E,Hl(Un(),l),h,g))}function Zv(o,a,l,d,h,g){const E=null===a;let w;for(;h>0;){const D=o[h],A=Array.isArray(D),s=A?D[1]:D,r=null===s;let i=l[h+1];i===Ye&&(i=r?ge:void 0);let u=r?Dh(i,d):s===d?i:void 0;if(A&&!yf(u)&&(u=Dh(D,d)),yf(u)&&(w=u,E))return w;const c=o[h+1];h=E?Qi(c):Eo(c)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(w=Dh(D,d))}return w}function yf(o){return void 0!==o}function xC(o,a){return 0!=(o.flags&(a?16:32))}function NC(o,a=""){const l=ye(),d=dt(),h=o+20,g=d.firstCreatePass?Ns(d,h,1,a,null):d.data[h],E=l[h]=C_(l[11],a);Bu(d,l,E,g),jr(g,!1)}function ym(o){return Wv("",o,""),ym}function Wv(o,a,l){const d=ye(),h=Lc(d,o,a,l);return h!==Ye&&Ms(d,Un(),h),Wv}function zv(o,a,l,d,h){const g=ye(),E=zu(g,o,a,l,d,h);return E!==Ye&&Ms(g,Un(),E),zv}function Kv(o,a,l,d,h,g,E){const w=ye(),D=xa(w,o,a,l,d,h,g,E);return D!==Ye&&Ms(w,Un(),D),Kv}function _m(o,a,l,d,h,g,E,w,D){const A=ye(),s=Ao(A,o,a,l,d,h,g,E,w,D);return s!==Ye&&Ms(A,Un(),s),_m}function vm(o,a,l,d,h,g,E,w,D,A,s){const r=ye(),i=Ku(r,o,a,l,d,h,g,E,w,D,A,s);return i!==Ye&&Ms(r,Un(),i),vm}function Yv(o,a,l,d,h,g,E,w,D,A,s,r,i){const u=ye(),c=Mn(u,o,a,l,d,h,g,E,w,D,A,s,r,i);return c!==Ye&&Ms(u,Un(),c),Yv}function Qv(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c){const f=ye(),y=Na(f,o,a,l,d,h,g,E,w,D,A,s,r,i,u,c);return y!==Ye&&Ms(f,Un(),y),Qv}function Em(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y){const b=ye(),T=On(b,o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y);return T!==Ye&&Ms(b,Un(),T),Em}function RC(o){const a=ye(),l=Wu(a,o);return l!==Ye&&Ms(a,Un(),l),RC}function PA(o,a,l){ts(Nn,Tt,Lc(ye(),o,a,l),!0)}function kA(o,a,l,d,h){ts(Nn,Tt,zu(ye(),o,a,l,d,h),!0)}function wm(o,a,l,d,h,g,E){ts(Nn,Tt,xa(ye(),o,a,l,d,h,g,E),!0)}function _f(o,a,l,d,h,g,E,w,D){ts(Nn,Tt,Ao(ye(),o,a,l,d,h,g,E,w,D),!0)}function bm(o,a,l,d,h,g,E,w,D,A,s){ts(Nn,Tt,Ku(ye(),o,a,l,d,h,g,E,w,D,A,s),!0)}function Jv(o,a,l,d,h,g,E,w,D,A,s,r,i){ts(Nn,Tt,Mn(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i),!0)}function MC(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c){ts(Nn,Tt,Na(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i,u,c),!0)}function vf(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y){ts(Nn,Tt,On(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y),!0)}function Ef(o){ts(Nn,Tt,Wu(ye(),o),!0)}function FA(o,a,l){gi(Lc(ye(),o,a,l))}function Pn(o,a,l,d,h){gi(zu(ye(),o,a,l,d,h))}function OC(o,a,l,d,h,g,E){gi(xa(ye(),o,a,l,d,h,g,E))}function LA(o,a,l,d,h,g,E,w,D){gi(Ao(ye(),o,a,l,d,h,g,E,w,D))}function VA(o,a,l,d,h,g,E,w,D,A,s){gi(Ku(ye(),o,a,l,d,h,g,E,w,D,A,s))}function UA(o,a,l,d,h,g,E,w,D,A,s,r,i){gi(Mn(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i))}function BA(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c){gi(Na(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i,u,c))}function PC(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y){gi(On(ye(),o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y))}function kC(o){gi(Wu(ye(),o))}function Xv(o,a,l,d,h){return Yr(o,Lc(ye(),a,l,d),h,!1),Xv}function wf(o,a,l,d,h,g,E){return Yr(o,zu(ye(),a,l,d,h,g),E,!1),wf}function eE(o,a,l,d,h,g,E,w,D){return Yr(o,xa(ye(),a,l,d,h,g,E,w),D,!1),eE}function ks(o,a,l,d,h,g,E,w,D,A,s){return Yr(o,Ao(ye(),a,l,d,h,g,E,w,D,A),s,!1),ks}function tE(o,a,l,d,h,g,E,w,D,A,s,r,i){return Yr(o,Ku(ye(),a,l,d,h,g,E,w,D,A,s,r),i,!1),tE}function FC(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c){return Yr(o,Mn(ye(),a,l,d,h,g,E,w,D,A,s,r,i,u),c,!1),FC}function Cm(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y){return Yr(o,Na(ye(),a,l,d,h,g,E,w,D,A,s,r,i,u,c,f),y,!1),Cm}function Jc(o,a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b,T){return Yr(o,On(ye(),a,l,d,h,g,E,w,D,A,s,r,i,u,c,f,y,b),T,!1),Jc}function nE(o,a,l){return Yr(o,Wu(ye(),a),l,!1),nE}function bf(o,a,l){const d=ye();return St(d,gs(),a)&&pi(dt(),Zt(),d,o,a,d[11],l,!0),bf}function Cf(o,a,l){const d=ye();if(St(d,gs(),a)){const g=dt(),E=Zt();pi(g,E,d,o,a,$u(Wl(g.data),E,d),l,!0)}return Cf}const Fa=void 0;var Im=["en",[["a","p"],["AM","PM"],Fa],[["AM","PM"],Fa,Fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fa,"{1} 'at' {0}",Fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Xc={};function el(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Dm(a);if(l)return l;const d=a.split("-")[0];if(l=Dm(d),l)return l;if("en"===d)return Im;throw new Error(`Missing locale data for the locale "${o}".`)}function iE(o){return el(o)[qe.PluralCase]}function Dm(o){return o in Xc||(Xc[o]=k.ng&&k.ng.common&&k.ng.common.locales&&k.ng.common.locales[o]),Xc[o]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const VC=["zero","one","two","few","many"],Fs="en-US",If={marker:"element"},Df={marker:"ICU"};var cn=(()=>((cn=cn||{})[cn.SHIFT=2]="SHIFT",cn[cn.APPEND_EAGERLY=1]="APPEND_EAGERLY",cn[cn.COMMENT=2]="COMMENT",cn))();let Qr=Fs;function Am(o){(function(o,a){null==o&&vt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Qr=o.toLowerCase().replace(/_/g,"-"))}function tl(o,a,l){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Kw(o,0,l):qt(l[h])}function oE(o,a,l,d,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let E=d,w=null;if(3&a.type||(w=E,E=h),null!==E&&0==(2&a.flags))for(let D=1;D<g.length;D++)wa(o,E,l[g[D]],w,!1)}}function aE(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const d=o[l];Tf(d)||HC(d,a)&&null===$C(d)&&uE(d,a.index)}}function Tf(o){return!(64&o.type)}function HC(o,a){return Tf(a)||o.index>a.index}function $C(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function uE(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(Yw(tl,oE),o.insertBeforeIndex=a)}function ed(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function pN(o,a,l){const d=Fg(o,l,64,null,null);return aE(a,d),d}function lE(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function Kn(o){return o>>>17}function nl(o){return(131070&o)>>>1}let Sf=0,De=0;function Ue(o,a,l,d){const h=l[11];let E,g=null;for(let w=0;w<a.length;w++){const D=a[w];if("string"==typeof D){const A=a[++w];null===l[A]&&(l[A]=C_(h,D))}else if("number"==typeof D)switch(1&D){case 0:const A=Kn(D);let s,r;if(null===g&&(g=A,E=Ca(h,d)),A===g?(s=d,r=E):(s=null,r=qt(l[A])),null!==r){const f=nl(D);wa(h,r,l[f],s,!1);const b=ed(o,f);if(null!==b&&"object"==typeof b){const T=lE(b,l);null!==T&&Ue(o,b.create[T],l,l[b.anchorIdx])}}break;case 1:const u=a[++w],c=a[++w];z_(h,Hl(D>>>1,l),null,null,u,c,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${D}"`)}else switch(D){case Df:const A=a[++w],s=a[++w];null===l[s]&&Ot(l[s]=_T(h,A),l);break;case If:const r=a[++w],i=a[++w];null===l[i]&&Ot(l[i]=xi(h,r,null),l)}}}function ze(o,a,l,d,h){for(let g=0;g<l.length;g++){const E=l[g],w=l[++g];if(E&h){let D="";for(let A=g+1;A<=g+w;A++){const s=l[A];if("string"==typeof s)D+=s;else if("number"==typeof s)if(s<0)D+=xe(a[d-s]);else{const r=s>>>2;switch(3&s){case 1:const i=l[++A],u=l[++A],c=o.data[r];"string"==typeof c?z_(a[11],a[r],null,c,i,D,u):pi(o,c,a,i,D,a[11],u,!1);break;case 0:const f=a[r];null!==f&&Hw(a[11],f,D);break;case 2:Re(o,ed(o,r),a,D);break;case 3:qC(o,ed(o,r),d,a)}}}}else{const D=l[g+1];if(D>0&&3==(3&D)){const s=ed(o,D>>>2);a[s.currentCaseLViewIndex]<0&&qC(o,s,d,a)}}g+=w}}function qC(o,a,l,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let g=Sf;h<0&&(h=d[a.currentCaseLViewIndex]=~h,g=-1),ze(o,d,a.update[h],l,g)}}function Re(o,a,l,d){const h=function(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const d=function(o,a){const l=iE(a)(parseInt(o,10)),d=VC[l];return void 0!==d?d:"other"}(a,Qr);l=o.cases.indexOf(d),-1===l&&"other"!==d&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,d);if(lE(a,l)!==h&&(ae(o,a,l),l[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const E=l[a.anchorIdx];E&&Ue(o,a.create[h],l,E)}}function ae(o,a,l){let d=lE(a,l);if(null!==d){const h=a.remove[d];for(let g=0;g<h.length;g++){const E=h[g];if(E>0){const w=Hl(E,l);null!==w&&Qw(l[11],w)}else ae(o,ed(o,~E),l)}}}function Yn(){const o=[];let l,d,a=-1;function g(w,D){a=0;const A=lE(w,D);d=null!==A?w.remove[A]:ge}function E(){if(a<d.length){const w=d[a++];return w>0?l[w]:(o.push(a,d),g(l[1].data[~w],l),E())}return 0===o.length?null:(d=o.pop(),a=o.pop(),E())}return function(w,D){for(l=D;o.length;)o.pop();return g(w.value,D),E}}const Sm=/\ufffd(\d+):?\d*\ufffd/gi,mi=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,GA=/\ufffd(\d+)\ufffd/,hE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,td=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,WC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Qn=/\uE500/g;function La(o,a,l,d,h,g,E){const w=Co(o,d,1,null);let D=w<<cn.SHIFT,A=pu();a===A&&(A=null),null===A&&(D|=cn.APPEND_EAGERLY),E&&(D|=cn.COMMENT,function(o){void 0===Cg&&(Cg=o())}(Yn)),h.push(D,null===g?"":g);const s=Fg(o,w,E?32:1,null===g?"":g,null);aE(l,s);const r=s.index;return jr(s,!1),null!==A&&a!==A&&function(o,a){let l=o.insertBeforeIndex;null===l?(Yw(tl,oE),l=o.insertBeforeIndex=[null,a]):(function(o,a,l){o!=a&&vt(l,o,a,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(A,r),s}function KC(o,a,l,d,h,g,E){const w=E.match(Sm),D=La(o,a,l,g,d,w?null:E,!1);w&&yt(h,E,D.index,null,0,null)}function yt(o,a,l,d,h,g){const E=o.length,w=E+1;o.push(null,null);const D=E+2,A=a.split(Sm);let s=0;for(let r=0;r<A.length;r++){const i=A[r];if(1&r){const u=h+parseInt(i,10);o.push(-1-u),s|=Jn(u)}else""!==i&&o.push(i)}return o.push(l<<2|(d?1:0)),d&&o.push(d,g),o[E]=s,o[w]=o.length-D,s}function qA(o){let a=0;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d&&d<0&&a++}return a}function Jn(o){return 1<<Math.min(o,31)}function YC(o){let a,g,l="",d=0,h=!1;for(;null!==(a=td.exec(o));)h?a[0]===`\ufffd/*${g}\ufffd`&&(d=a.index,h=!1):(l+=o.substring(d,a.index+a[0].length),g=a[1],h=!0);return l+=o.substr(d),l}function QC(o,a,l,d,h,g){let E=0;const w={type:h.type,currentCaseLViewIndex:Co(o,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(o,a,l){o.push(Jn(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(l,h,g),function(o,a,l){const d=o.data[a];null===d?o.data[a]=l:d.value=l}(o,g,w);const D=h.values;for(let A=0;A<D.length;A++){const s=D[A],r=[];for(let i=0;i<s.length;i++){const u=s[i];if("string"!=typeof u){const c=r.push(u)-1;s[i]=`\x3c!--\ufffd${c}\ufffd--\x3e`}}E=rd(o,w,a,l,d,h.cases[A],s.join(""),r)|E}E&&function(o,a,l){o.push(a,1,l<<2|3)}(l,E,g)}function Va(o){const a=[],l=[];let d=1,h=0;const g=yn(o=o.replace(hE,function(E,w,D){return d="select"===D?0:1,h=parseInt(w.substr(1),10),""}));for(let E=0;E<g.length;){let w=g[E++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&a.push(w);const D=yn(g[E++]);a.length>l.length&&l.push(D)}return{type:d,mainBinding:h,cases:a,values:l}}function yn(o){if(!o)return[];let a=0;const l=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(o);){const w=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const D=o.substring(a,w);hE.test(D)?d.push(Va(D)):d.push(D),a=w+1}}else{if(0==l.length){const D=o.substring(a,w);d.push(D),a=w+1}l.push("{")}}const E=o.substring(a);return d.push(E),d}function rd(o,a,l,d,h,g,E,w){const D=[],A=[],s=[];a.cases.push(g),a.create.push(D),a.remove.push(A),a.update.push(s);const i=lg(du()).getInertBodyElement(E),u=Lu(i)||i;return u?xm(o,a,l,d,D,A,s,u,h,w,0):0}function xm(o,a,l,d,h,g,E,w,D,A,s){let r=0,i=w.firstChild;for(;i;){const u=Co(o,l,1,null);switch(i.nodeType){case Node.ELEMENT_NODE:const c=i,f=c.tagName.toLowerCase();if(fg.hasOwnProperty(f)){Rm(h,If,f,D,u),o.data[u]=f;const x=c.attributes;for(let N=0;N<x.length;N++){const M=x.item(N),j=M.name.toLowerCase();M.value.match(Sm)?Ze.hasOwnProperty(j)&&yt(E,M.value,u,M.name,0,pg[j]?Pu:gg[j]?ku:null):Be(h,u,M)}r=xm(o,a,l,d,h,g,E,i,u,A,s+1)|r,fE(g,u,s)}break;case Node.TEXT_NODE:const y=i.textContent||"",b=y.match(Sm);Rm(h,null,b?"":y,D,u),fE(g,u,s),b&&(r=yt(E,y,u,null,0,null)|r);break;case Node.COMMENT_NODE:const T=GA.exec(i.textContent||"");if(T){const N=A[parseInt(T[1],10)];Rm(h,Df,"",D,u),QC(o,l,d,D,N,u),Rf(g,u,s)}}i=i.nextSibling}return r}function fE(o,a,l){0===l&&o.push(a)}function Rf(o,a,l){0===l&&(o.push(~a),o.push(a))}function Rm(o,a,l,d,h){null!==a&&o.push(a),o.push(l,h,function(o,a,l){return 0|a<<17|l<<1}(0,d,h))}function Be(o,a,l){o.push(a<<1|1,l.name,l.value)}const Ls=/\[(\ufffd.+?\ufffd?)\]/,Mf=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,id=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,JC=/{([A-Z0-9_]+)}/g,pE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,gE=/\/\*/,Mm=/\d+\:(\d+)/;function Om(o,a,l=-1){const d=dt(),h=ye(),g=20+o,E=hs(d.consts,a),w=pu();d.firstCreatePass&&function(o,a,l,d,h,g){const E=pu(),w=[],D=[],A=[[]],s=function(o){return o.replace(Qn," ")}(h=function(o,a){if(function(o){return-1===o}(a))return YC(o);{const l=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return YC(o.substring(l,d))}}(h,g)).split(WC);for(let r=0;r<s.length;r++){let i=s[r];if(0==(1&r)){const u=yn(i);for(let c=0;c<u.length;c++){let f=u[c];if(0==(1&c)){const y=f;""!==y&&KC(o,E,A[0],w,D,l,y)}else{const y=f;if("object"!=typeof y)throw new Error(`Unable to parse ICU expression in "${h}" message.`);QC(o,l,D,a,y,La(o,E,A[0],l,w,"",!0).index)}}}else{const u=47===i.charCodeAt(0),f=(i.charCodeAt(u?1:0),20+Number.parseInt(i.substring(u?2:1)));if(u)A.shift(),jr(pu(),!1);else{const y=pN(o,A[0],f);A.unshift([]),jr(y,!0)}}}o.data[d]={create:w,update:D}}(d,null===w?0:w.index,h,g,E,l);const D=d.data[g],s=T_(d,w===h[6]?null:w,h);(function(o,a,l,d){const h=o[11];for(let g=0;g<a.length;g++){const E=a[g++],w=a[g],D=(E&cn.COMMENT)===cn.COMMENT,A=(E&cn.APPEND_EAGERLY)===cn.APPEND_EAGERLY,s=E>>>cn.SHIFT;let r=o[s];null===r&&(r=o[s]=D?h.createComment(w):C_(h,w)),A&&null!==l&&wa(h,l,r,d,!1)}})(h,D.create,s,w&&8&w.type?h[w.index]:null),lh(!0)}function yE(){lh(!1)}function XC(o,a,l){Om(o,a,l),yE()}function Pm(o,a){const l=dt();!function(o,a,l){const h=pn().index,g=[];if(o.firstCreatePass&&null===o.data[a]){for(let E=0;E<l.length;E+=2){const w=l[E],D=l[E+1];if(""!==D){if(mi.test(D))throw new Error(`ICU expressions are not supported in attributes. Message: "${D}".`);yt(g,D,h,w,qA(g),null)}}o.data[a]=g}}(l,o+20,hs(l.consts,a))}function sd(o){return function(o){o&&(Sf|=1<<Math.min(De,31)),De++}(St(ye(),gs(),o)),sd}function _r(o){!function(o,a,l){if(De>0){const d=o.data[l];ze(o,a,Array.isArray(d)?d:d.update,Hr()-De-1,Sf)}Sf=0,De=0}(dt(),ye(),o+20)}function eI(o,a={}){return function(o,a={}){let l=o;if(Ls.test(o)){const d={},h=[0];l=l.replace(Mf,(g,E,w)=>{const D=E||w,A=d[D]||[];if(A.length||(D.split("|").forEach(f=>{const y=f.match(Mm),b=y?parseInt(y[1],10):0,T=gE.test(f);A.push([b,T,f])}),d[D]=A),!A.length)throw new Error(`i18n postprocess: unmatched placeholder - ${D}`);const s=h[h.length-1];let r=0;for(let f=0;f<A.length;f++)if(A[f][0]===s){r=f;break}const[i,u,c]=A[r];return u?h.pop():s!==i&&h.push(i),A.splice(r,1),c})}return Object.keys(a).length&&(l=l.replace(id,(d,h,g,E,w,D)=>a.hasOwnProperty(g)?`${h}${a[g]}${D}`:d),l=l.replace(JC,(d,h)=>a.hasOwnProperty(h)?a[h]:d),l=l.replace(pE,(d,h)=>{if(a.hasOwnProperty(h)){const g=a[h];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${d} with key: ${h}`);return g.shift()}return d})),l}(o,a)}function _E(o,a,l,d,h){if(o=K(o),Array.isArray(o))for(let g=0;g<o.length;g++)_E(o[g],a,l,d,h);else{const g=dt(),E=ye();let w=Pc(o)?o:K(o.provide),D=Ob(o);const A=pn(),s=1048575&A.providerIndexes,r=A.directiveStart,i=A.providerIndexes>>20;if(Pc(o)||!o.multi){const u=new ys(D,h,Yu),c=vE(w,a,h?s:s+i,r);-1===c?(ra(qi(A,E),g,w),km(g,o,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(u),E.push(u)):(l[c]=u,E[c]=u)}else{const u=vE(w,a,s+i,r),c=vE(w,a,s,s+i),f=u>=0&&l[u],y=c>=0&&l[c];if(h&&!y||!h&&!f){ra(qi(A,E),g,w);const b=function(o,a,l,d,h){const g=new ys(o,l,Yu);return g.multi=[],g.index=a,g.componentProviders=0,od(g,h,d&&!l),g}(h?Lm:Fm,l.length,h,d,D);!h&&y&&(l[c].providerFactory=b),km(g,o,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(b),E.push(b)}else km(g,o,u>-1?u:c,od(l[h?c:u],D,!h&&d));!h&&d&&y&&l[c].componentProviders++}}}function km(o,a,l,d){const h=Pc(a);if(h||function(o){return!!o.useClass}(a)){const E=(a.useClass||a).prototype.ngOnDestroy;if(E){const w=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const D=w.indexOf(l);-1===D?w.push(l,[d,E]):w[D+1].push(d,E)}else w.push(l,E)}}}function od(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function vE(o,a,l,d){for(let h=l;h<d;h++)if(a[h]===o)return h;return-1}function Fm(o,a,l,d){return ur(this.multi,[])}function Lm(o,a,l,d){const h=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,w=Xs(l,l[1],this.providerFactory.index,d);g=w.slice(0,E),ur(h,g);for(let D=E;D<w.length;D++)g.push(w[D])}else g=[],ur(h,g);return g}function ur(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function tI(o,a=[]){return l=>{l.providersResolver=(d,h)=>function(o,a,l){const d=dt();if(d.firstCreatePass){const h=ri(o);_E(l,d.data,d.blueprint,h,!0),_E(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class nI{}const rI="ngComponent";class zA{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${F(o)}. Did you add it to @NgModule.entryComponents?`);return a[rI]=o,a}(a)}}class il{}function No(...o){}function sl(o,a){return new Nr(Dr(o,a))}il.NULL=new zA;const sI=function(){return sl(pn(),ye())};let Nr=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=sI,o})();function Of(o){return o instanceof Nr?o.nativeElement:o}class ud{}let bE=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Mi(),o})();const Mi=function(){const o=ye(),l=or(pn().index,o);return function(o){return o[11]}(ni(l)?l:o)};let Um=(()=>{class o{}return o.\u0275prov=Yt({token:o,providedIn:"root",factory:()=>null}),o})();class Bm{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const ol=new Bm("12.2.3");class IE{constructor(){}supports(a){return Zu(a)}create(a){return new aI(a)}}const YA=(o,a)=>a;class aI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||YA}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const E=!d||l&&l.currentIndex<cI(d,h,g)?l:d,w=cI(E,h,g),D=E.currentIndex;if(E===d)h--,d=d._nextRemoved;else if(l=l._next,null==E.previousIndex)h++;else{g||(g=[]);const A=w-h,s=D-h;if(A!=s){for(let i=0;i<A;i++){const u=i<g.length?g[i]:g[i]=0,c=u+i;s<=c&&c<A&&(g[i]=u+1)}g[E.previousIndex]=s-A}}w!==D&&a(E,w,D)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Zu(a))throw new Error(`Error trying to diff '${F(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,E,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],E=this._trackByFn(w,g),null!==l&&Object.is(l.trackById,E)?(d&&(l=this._verifyReinsertion(l,g,E,w)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,E,w),d=!0),l=l._next}else h=0,function(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Aa()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,w=>{E=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,E)?(d&&(l=this._verifyReinsertion(l,w,E,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,E,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,h)):a=this._addAfter(new uI(l,d),g,h),a}_verifyReinsertion(a,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new lI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class uI{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jm{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class lI{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new jm,this.map.set(l,d)),d.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cI(o,a,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+a+h}class DE{constructor(){}supports(a){return a instanceof Map||gv(a)}create(){return new ld}}class ld{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||gv(a)))throw new Error(`Error trying to diff '${F(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const g=h._prev,E=h._next;return g&&(g._next=E),E&&(E._prev=g),h._next=null,h._prev=null,h}const d=new al(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class al{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TE(){return new Vs([new IE])}let Vs=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||TE()),deps:[[o,new uo,new Ai]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(o){return o.name||typeof o}(l)}'`)}}return o.\u0275prov=Yt({token:o,providedIn:"root",factory:TE}),o})();function ul(){return new Ff([new DE])}let Ff=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||ul()),deps:[[o,new uo,new Ai]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return o.\u0275prov=Yt({token:o,providedIn:"root",factory:ul}),o})();function Lf(o,a,l,d,h=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&d.push(qt(g)),ln(g))for(let w=10;w<g.length;w++){const D=g[w],A=D[1].firstChild;null!==A&&Lf(D[1],D,A,d)}const E=l.type;if(8&E)Lf(o,a,l.child,d);else if(32&E){const w=Ig(l,a);let D;for(;D=w();)d.push(D)}else if(16&E){const w=A_(a,l);if(Array.isArray(w))d.push(...w);else{const D=Kh(a[16]);Lf(D[1],D,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class Ro{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Lf(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ln(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(I_(a,d),gn(l,d))}this._attachedToViewContainer=!1}D_(this._lView[1],this._lView)}onDestroy(a){Eb(this._lView[1],this._lView,null,a)}markForCheck(){K_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Q_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,l){ps(!0);try{Q_(o,a,l)}finally{ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Ta(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class JA extends Ro{constructor(a){super(a),this._view=a}detectChanges(){J_(this._view)}checkNoChanges(){!function(o){ps(!0);try{J_(o)}finally{ps(!1)}}(this._view)}get context(){return null}}const Hm=function(o){return function(o,a,l){if(Rl(o)&&!l){const d=or(o.index,a);return new Ro(d,d)}return 47&o.type?new Ro(a[16],a):null}(pn(),ye(),16==(16&o))};let $m=(()=>{class o{}return o.__NG_ELEMENT_ID__=Hm,o})();const tS=[new DE],fI=new Vs([new IE]),Vf=new Ff(tS),pI=function(){return dn(pn(),ye())};let cd=(()=>{class o{}return o.__NG_ELEMENT_ID__=pI,o})();const Uf=cd,SE=class extends Uf{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a){const l=this._declarationTContainer.tViews,d=Nc(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Rc(l,d,a),new Ro(d)}};function dn(o,a){return 4&o.type?new SE(a,o,sl(o,a)):null}class pt{}class xE{}const Gm=function(){return qm(pn(),ye())};let Fn=(()=>{class o{}return o.__NG_ELEMENT_ID__=Gm,o})();const mI=Fn,yI=class extends mI{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const a=tc(this._hostTNode,this._hostLView);if(ph(a)){const l=ea(a,this._hostLView),d=_u(a);return new Tr(l[1].data[d+8],l)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=yi(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){const h=a.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(a,l,d,h,g){const E=d||this.parentInjector;if(!g&&null==a.ngModule&&E){const D=E.get(pt,null);D&&(g=D)}const w=a.create(E,h,void 0,g);return this.insert(w.hostView,l),w}insert(a,l){const d=a._lView,h=d[1];if(ln(d[3])){const s=this.indexOf(a);if(-1!==s)this.detach(s);else{const r=d[3],i=new yI(r,r[6],r[3]);i.detach(i.indexOf(a))}}const g=this._adjustIndex(l),E=this._lContainer;!function(o,a,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=a),d<g-10?(a[4]=l[h],ac(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const E=a[17];null!==E&&l!==E&&function(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(E,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(h,d,E,g);const w=Cc(g,E),D=d[11],A=Ca(D,E[7]);return null!==A&&function(o,a,l,d,h,g){d[0]=h,d[6]=a,Ta(o,d,l,1,h,g)}(h,E[6],D,d,A,w),a.attachToViewContainerRef(),ac(NE(E),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=yi(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=I_(this._lContainer,l);d&&(gn(NE(this._lContainer),l),D_(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=I_(this._lContainer,l);return d&&null!=gn(NE(this._lContainer),l)?new Ro(d):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function yi(o){return o[8]}function NE(o){return o[8]||(o[8]=[])}function qm(o,a){let l;const d=a[o.index];if(ln(d))l=d;else{let h;if(8&o.type)h=qt(d);else{const g=a[11];h=g.createComment("");const E=Dr(o,a);wa(g,Ca(g,E),h,function(o,a){return Gt(o)?o.nextSibling(a):a.nextSibling}(g,E),!1)}a[o.index]=l=Vg(d,a,h,o),Io(a,l)}return new yI(l,o,a)}const wi={};class ko extends il{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Vn(a);return new LI(l,this.ngModule)}}function Wa(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}const FI=new Jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zh});class LI extends nI{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(DT).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Wa(this.componentDef.inputs)}get outputs(){return Wa(this.componentDef.outputs)}create(a,l,d,h){const g=(h=h||this.ngModule)?function(o,a){return{get:(l,d,h)=>{const g=o.get(l,wi,h);return g!==wi||d===wi?g:a.get(l,d,h)}}}(a,h.injector):a,E=g.get(ud,jl),w=g.get(Um,null),D=E.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",s=d?function(o,a,l){if(Gt(o))return o.selectRootElement(a,l===Vt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(D,d,this.componentDef.encapsulation):xi(E.createRenderer(null,this.componentDef),A,function(o){const a=o.toLowerCase();return"svg"===a?Vl:"math"===a?cu:null}(A)),r=this.componentDef.onPush?576:528,i=function(o,a){return{components:[],scheduler:o||zh,clean:Ug,playerHandler:a||null,flags:0}}(),u=rf(0,null,null,1,0,null,null,null,null,null),c=Nc(null,u,i,r,null,null,E,D,w,g);let f,y;mu(c);try{const b=function(o,a,l,d,h,g){const E=l[1];l[20]=o;const D=Ns(E,20,2,"#host",null),A=D.mergedAttrs=a.hostAttrs;null!==A&&(Hg(D,A,!0),null!==o&&(Es(h,o,A),null!==D.classes&&Ic(h,o,D.classes),null!==D.styles&&Xw(h,o,D.styles)));const s=d.createRenderer(o,a),r=Nc(l,_b(a),null,a.onPush?64:16,l[20],D,d,s,g||null,null);return E.firstCreatePass&&(ra(qi(D,l),E,a.type),q_(E,D),Z_(D,l.length,1)),Io(l,r),l[20]=r}(s,this.componentDef,c,E,D);if(s)if(d)Es(D,s,["ng-version",ol.full]);else{const{attrs:T,classes:x}=function(o){const a=[],l=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++d]):8===h&&l.push(g);else{if(!fi(h))break;h=g}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);T&&Es(D,s,T),x&&x.length>0&&Ic(D,s,x.join(" "))}if(y=cs(u,20),void 0!==l){const T=y.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const N=l[x];T.push(null!=N?Array.from(N):null)}}f=function(o,a,l,d,h){const g=l[1],E=function(o,a,l){const d=pn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),W_(o,d,a,Co(o,a,1,null),l));const h=Xs(a,o,d.directiveStart,d);Ot(h,a);const g=Dr(d,a);return g&&Ot(g,a),h}(g,l,a);if(d.components.push(E),o[8]=E,h&&h.forEach(D=>D(E,a)),a.contentQueries){const D=pn();a.contentQueries(1,E,D.directiveStart)}const w=pn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(gr(w.index),G_(l[1],w,0,w.directiveStart,w.directiveEnd,a),Cb(a,E)),E}(b,this.componentDef,c,i,[pe]),Rc(u,c,null)}finally{jp()}return new ey(this.componentType,f,sl(y,c),c,y)}}class ey extends class{}{constructor(a,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new JA(h),this.componentType=a}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const gl=new Map;class vS extends pt{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ko(this);const d=Dt(a),h=a[an]||null;h&&Am(h),this._bootstrapComponents=Si(d.bootstrap),this._r3Injector=ev(a,l,[{provide:pt,useValue:this},{provide:il,useValue:this.componentFactoryResolver}],F(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=Ft.THROW_IF_NOT_FOUND,d=Ee.Default){return a===Ft||a===pt||a===Gu?this:this._r3Injector.get(a,l,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ty extends xE{constructor(a){super(),this.moduleType=a,null!==Dt(a)&&function(o){const a=new Set;!function l(d){const h=Dt(d,!0),g=h.id;null!==g&&(function(o,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${o} - ${F(a)} vs ${F(a.name)}`)}(g,gl.get(g),d),gl.set(g,d));const E=Si(h.imports);for(const w of E)a.has(w)||(a.add(w),l(w))}(o)}(a)}create(a){return new vS(this.moduleType,a)}}function YE(o,a,l){const d=pr()+o,h=ye();return h[d]===Ye?zt(h,d,l?a.call(l):a()):Sa(h,d)}function ny(o,a,l,d){return XE(ye(),pr(),o,a,l,d)}function zf(o,a,l,d,h){return iy(ye(),pr(),o,a,l,d,h)}function ry(o,a,l,d,h,g){return HI(ye(),pr(),o,a,l,d,h,g)}function QE(o,a,l,d,h,g,E){return e0(ye(),pr(),o,a,l,d,h,g,E)}function ES(o,a,l,d,h,g,E,w){const D=pr()+o,A=ye(),s=Ri(A,D,l,d,h,g);return St(A,D+4,E)||s?zt(A,D+5,w?a.call(w,l,d,h,g,E):a(l,d,h,g,E)):Sa(A,D+5)}function BI(o,a,l,d,h,g,E,w,D){const A=pr()+o,s=ye(),r=Ri(s,A,l,d,h,g);return Kr(s,A+4,E,w)||r?zt(s,A+6,D?a.call(D,l,d,h,g,E,w):a(l,d,h,g,E,w)):Sa(s,A+6)}function JE(o,a,l,d,h,g,E,w,D,A){const s=pr()+o,r=ye();let i=Ri(r,s,l,d,h,g);return Wg(r,s+4,E,w,D)||i?zt(r,s+7,A?a.call(A,l,d,h,g,E,w,D):a(l,d,h,g,E,w,D)):Sa(r,s+7)}function jI(o,a,l,d,h,g,E,w,D,A,s){const r=pr()+o,i=ye(),u=Ri(i,r,l,d,h,g);return Ri(i,r+4,E,w,D,A)||u?zt(i,r+8,s?a.call(s,l,d,h,g,E,w,D,A):a(l,d,h,g,E,w,D,A)):Sa(i,r+8)}function wS(o,a,l,d){return $I(ye(),pr(),o,a,l,d)}function Td(o,a){const l=o[a];return l===Ye?void 0:l}function XE(o,a,l,d,h,g){const E=a+l;return St(o,E,h)?zt(o,E+1,g?d.call(g,h):d(h)):Td(o,E+1)}function iy(o,a,l,d,h,g,E){const w=a+l;return Kr(o,w,h,g)?zt(o,w+2,E?d.call(E,h,g):d(h,g)):Td(o,w+2)}function HI(o,a,l,d,h,g,E,w){const D=a+l;return Wg(o,D,h,g,E)?zt(o,D+3,w?d.call(w,h,g,E):d(h,g,E)):Td(o,D+3)}function e0(o,a,l,d,h,g,E,w,D){const A=a+l;return Ri(o,A,h,g,E,w)?zt(o,A+4,D?d.call(D,h,g,E,w):d(h,g,E,w)):Td(o,A+4)}function $I(o,a,l,d,h,g){let E=a+l,w=!1;for(let D=0;D<h.length;D++)St(o,E++,h[D])&&(w=!0);return w?zt(o,E,d.apply(g,h)):Td(o,E)}function GI(o,a){const l=dt();let d;const h=o+20;l.firstCreatePass?(d=function(o,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(o===d.name)return d}throw new be("302",`The pipe '${o}' could not be found!`)}(a,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=ls(d.type)),E=Ht(Yu);try{const w=na(!1),D=g();return na(w),function(o,a,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=d}(l,ye(),h,D),D}finally{Ht(E)}}function Ad(o,a,l){const d=o+20,h=ye(),g=ds(h,d);return Kf(h,xd(h,d)?XE(h,pr(),a,g.transform,l,g):g.transform(l))}function Sd(o,a,l,d){const h=o+20,g=ye(),E=ds(g,h);return Kf(g,xd(g,h)?iy(g,pr(),a,E.transform,l,d,E):E.transform(l,d))}function t0(o,a,l,d,h){const g=o+20,E=ye(),w=ds(E,g);return Kf(E,xd(E,g)?HI(E,pr(),a,w.transform,l,d,h,w):w.transform(l,d,h))}function sy(o,a,l,d,h,g){const E=o+20,w=ye(),D=ds(w,E);return Kf(w,xd(w,E)?e0(w,pr(),a,D.transform,l,d,h,g,D):D.transform(l,d,h,g))}function qI(o,a,l){const d=o+20,h=ye(),g=ds(h,d);return Kf(h,xd(h,d)?$I(h,pr(),a,g.transform,l,g):g.transform.apply(g,l))}function xd(o,a){return o[1].data[a].pure}function Kf(o,a){return es.isWrapped(a)&&(a=es.unwrap(a),o[Hr()]=Ye),a}function r0(o){return a=>{setTimeout(o,void 0,a)}}const ki=class extends m.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){var h,g,E;let w=a,D=l||(()=>null),A=d;if(a&&"object"==typeof a){const r=a;w=null===(h=r.next)||void 0===h?void 0:h.bind(r),D=null===(g=r.error)||void 0===g?void 0:g.bind(r),A=null===(E=r.complete)||void 0===E?void 0:E.bind(r)}this.__isAsync&&(D=r0(D),w&&(w=r0(w)),A&&(A=r0(A)));const s=super.subscribe({next:w,error:D,complete:A});return a instanceof ee.w&&a.add(s),s}};function CS(){return this._results[Aa()]()}class Nd{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Aa(),d=Nd.prototype;d[l]||(d[l]=CS)}get changes(){return this._changes||(this._changes=new ki)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const h=ai(a);(this._changesDetected=!function(o,a,l){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=a[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class o0{constructor(a){this.queryList=a,this.matches=null}clone(){return new o0(this.queryList)}setDirty(){this.queryList.setDirty()}}class a0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const E=l.getByIndex(g);h.push(this.queries[E.indexInDeclarationView].clone())}return new a0(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==QI(a,l).matches&&this.queries[l].setDirty()}}class ZI{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class u0{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new u0(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class l0{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new l0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,l,DS(l,g)),this.matchTNodeWithReadOption(a,l,Eu(l,a,g,!1,!1))}else d===cd?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Eu(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Nr||h===Fn||h===cd&&4&l.type)this.addMatch(l.index,-2);else{const g=Eu(l,a,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function DS(o,a){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function WI(o,a,l,d){return-1===l?function(o,a){return 11&o.type?sl(o,a):4&o.type?dn(o,a):null}(a,o):-2===l?function(o,a,l){return l===Nr?sl(a,o):l===cd?dn(a,o):l===Fn?qm(a,o):void 0}(o,a,d):Xs(o,o[1],l,a)}function oy(o,a,l,d){const h=a[19].queries[d];if(null===h.matches){const g=o.data,E=l.matches,w=[];for(let D=0;D<E.length;D+=2){const A=E[D];w.push(A<0?null:WI(a,g[A],E[D+1],l.metadata.read))}h.matches=w}return h.matches}function Rd(o,a,l,d){const h=o.queries.getByIndex(l),g=h.matches;if(null!==g){const E=oy(o,a,h,l);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)d.push(E[w/2]);else{const A=g[w+1],s=a[-D];for(let r=10;r<s.length;r++){const i=s[r];i[17]===i[3]&&Rd(i[1],i,A,d)}if(null!==s[9]){const r=s[9];for(let i=0;i<r.length;i++){const u=r[i];Rd(u[1],u,A,d)}}}}}return d}function Md(o){const a=ye(),l=dt(),d=Vp();Up(d+1);const h=QI(l,d);if(o.dirty&&hu(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Rd(l,a,d,[]):oy(l,a,h,d);o.reset(g,Of),o.notifyOnChanges()}return!0}return!1}function ay(o,a,l){const d=dt();d.firstCreatePass&&(KI(d,new ZI(o,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),h0(d,ye(),a)}function uy(o,a,l,d){const h=dt();if(h.firstCreatePass){const g=pn();KI(h,new ZI(a,l,d),g.index),function(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}h0(h,ye(),l)}function ly(){return o=ye(),a=Vp(),o[19].queries[a].queryList;var o,a}function h0(o,a,l){const d=new Nd(4==(4&l));Eb(o,a,d,d.destroy),null===a[19]&&(a[19]=new a0),a[19].queries.push(new o0(d))}function KI(o,a,l){null===o.queries&&(o.queries=new u0),o.queries.track(new l0(a,l))}function QI(o,a){return o.queries.getByIndex(a)}function TS(o,a){return dn(o,a)}const vr=(()=>({\u0275\u0275attribute:zg,\u0275\u0275attributeInterpolate1:mv,\u0275\u0275attributeInterpolate2:yv,\u0275\u0275attributeInterpolate3:Kg,\u0275\u0275attributeInterpolate4:_v,\u0275\u0275attributeInterpolate5:vv,\u0275\u0275attributeInterpolate6:Ev,\u0275\u0275attributeInterpolate7:Yg,\u0275\u0275attributeInterpolate8:Qb,\u0275\u0275attributeInterpolateV:Jb,\u0275\u0275defineComponent:$o,\u0275\u0275defineDirective:Ip,\u0275\u0275defineInjectable:Yt,\u0275\u0275defineInjector:Ui,\u0275\u0275defineNgModule:ji,\u0275\u0275definePipe:Kd,\u0275\u0275directiveInject:Yu,\u0275\u0275getInheritedFactory:Wp,\u0275\u0275inject:Xt,\u0275\u0275injectAttribute:rc,\u0275\u0275invalidFactory:Rv,\u0275\u0275invalidFactoryDep:cc,\u0275\u0275templateRefExtractor:TS,\u0275\u0275NgOnChangesFeature:Cr,\u0275\u0275ProvidersFeature:tI,\u0275\u0275CopyDefinitionFeature:et,\u0275\u0275InheritDefinitionFeature:To,\u0275\u0275nextContext:lm,\u0275\u0275namespaceHTML:Kl,\u0275\u0275namespaceMathML:Ky,\u0275\u0275namespaceSVG:zl,\u0275\u0275enableBindings:Ys,\u0275\u0275disableBindings:Pp,\u0275\u0275elementStart:om,\u0275\u0275elementEnd:am,\u0275\u0275element:Ov,\u0275\u0275elementContainerStart:gC,\u0275\u0275elementContainerEnd:Qu,\u0275\u0275elementContainer:xA,\u0275\u0275pureFunction0:YE,\u0275\u0275pureFunction1:ny,\u0275\u0275pureFunction2:zf,\u0275\u0275pureFunction3:ry,\u0275\u0275pureFunction4:QE,\u0275\u0275pureFunction5:ES,\u0275\u0275pureFunction6:BI,\u0275\u0275pureFunction7:JE,\u0275\u0275pureFunction8:jI,\u0275\u0275pureFunctionV:wS,\u0275\u0275getCurrentView:NA,\u0275\u0275restoreView:kp,\u0275\u0275listener:um,\u0275\u0275projection:_C,\u0275\u0275syntheticHostProperty:Cf,\u0275\u0275syntheticHostListener:Hc,\u0275\u0275pipeBind1:Ad,\u0275\u0275pipeBind2:Sd,\u0275\u0275pipeBind3:t0,\u0275\u0275pipeBind4:sy,\u0275\u0275pipeBindV:qI,\u0275\u0275projectionDef:Lv,\u0275\u0275hostProperty:bf,\u0275\u0275property:sm,\u0275\u0275propertyInterpolate:Vv,\u0275\u0275propertyInterpolate1:Ma,\u0275\u0275propertyInterpolate2:cm,\u0275\u0275propertyInterpolate3:dm,\u0275\u0275propertyInterpolate4:hm,\u0275\u0275propertyInterpolate5:pf,\u0275\u0275propertyInterpolate6:$c,\u0275\u0275propertyInterpolate7:Uv,\u0275\u0275propertyInterpolate8:vC,\u0275\u0275propertyInterpolateV:fm,\u0275\u0275pipe:GI,\u0275\u0275queryRefresh:Md,\u0275\u0275viewQuery:ay,\u0275\u0275loadQuery:ly,\u0275\u0275contentQuery:uy,\u0275\u0275reference:eC,\u0275\u0275classMap:TC,\u0275\u0275classMapInterpolate1:PA,\u0275\u0275classMapInterpolate2:kA,\u0275\u0275classMapInterpolate3:wm,\u0275\u0275classMapInterpolate4:_f,\u0275\u0275classMapInterpolate5:bm,\u0275\u0275classMapInterpolate6:Jv,\u0275\u0275classMapInterpolate7:MC,\u0275\u0275classMapInterpolate8:vf,\u0275\u0275classMapInterpolateV:Ef,\u0275\u0275styleMap:gi,\u0275\u0275styleMapInterpolate1:FA,\u0275\u0275styleMapInterpolate2:Pn,\u0275\u0275styleMapInterpolate3:OC,\u0275\u0275styleMapInterpolate4:LA,\u0275\u0275styleMapInterpolate5:VA,\u0275\u0275styleMapInterpolate6:UA,\u0275\u0275styleMapInterpolate7:BA,\u0275\u0275styleMapInterpolate8:PC,\u0275\u0275styleMapInterpolateV:kC,\u0275\u0275styleProp:Ps,\u0275\u0275stylePropInterpolate1:Xv,\u0275\u0275stylePropInterpolate2:wf,\u0275\u0275stylePropInterpolate3:eE,\u0275\u0275stylePropInterpolate4:ks,\u0275\u0275stylePropInterpolate5:tE,\u0275\u0275stylePropInterpolate6:FC,\u0275\u0275stylePropInterpolate7:Cm,\u0275\u0275stylePropInterpolate8:Jc,\u0275\u0275stylePropInterpolateV:nE,\u0275\u0275classProp:zc,\u0275\u0275advance:R_,\u0275\u0275template:Xb,\u0275\u0275text:NC,\u0275\u0275textInterpolate:ym,\u0275\u0275textInterpolate1:Wv,\u0275\u0275textInterpolate2:zv,\u0275\u0275textInterpolate3:Kv,\u0275\u0275textInterpolate4:_m,\u0275\u0275textInterpolate5:vm,\u0275\u0275textInterpolate6:Yv,\u0275\u0275textInterpolate7:Qv,\u0275\u0275textInterpolate8:Em,\u0275\u0275textInterpolateV:RC,\u0275\u0275i18n:XC,\u0275\u0275i18nAttributes:Pm,\u0275\u0275i18nExp:sd,\u0275\u0275i18nStart:Om,\u0275\u0275i18nEnd:yE,\u0275\u0275i18nApply:_r,\u0275\u0275i18nPostprocess:eI,\u0275\u0275resolveWindow:hi,\u0275\u0275resolveDocument:bc,\u0275\u0275resolveBody:Vu,\u0275\u0275setComponentScope:Cp,\u0275\u0275setNgModuleScope:iu,\u0275\u0275sanitizeHtml:vc,\u0275\u0275sanitizeStyle:Ar,\u0275\u0275sanitizeResourceUrl:$h,\u0275\u0275sanitizeScript:Vw,\u0275\u0275sanitizeUrl:po,\u0275\u0275sanitizeUrlOrResourceUrl:Ec,\u0275\u0275trustConstantHtml:ya,\u0275\u0275trustConstantResourceUrl:_a,forwardRef:Y,resolveForwardRef:K}))(),Qf=[];function XI(o){return function(o){return void 0!==o.ngModule}(o)?o.ngModule:o}const BS=oa("NgModule",o=>o,void 0,void 0,(o,a)=>jS(o,a)),jS=function(o,a={}){(function(o,a,l=!1){const d=ai(a.declarations||ge);let h=null;Object.defineProperty(o,ct,{configurable:!0,get:()=>(null===h&&(h=rn().compileNgModule(vr,`ng:///${o.name}/\u0275mod.js`,{type:o,bootstrap:ai(a.bootstrap||ge).map(K),declarations:d.map(K),imports:ai(a.imports||ge).map(K).map(XI),exports:ai(a.exports||ge).map(K).map(XI),schemas:a.schemas?ai(a.schemas):null,id:a.id||null}),h.schemas||(h.schemas=[])),h)});let g=null;Object.defineProperty(o,nn,{get:()=>{if(null===g){const w=rn();g=w.compileFactory(vr,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,deps:fc(o),target:w.FactoryTarget.NgModule,typeArgumentCount:0})}return g},configurable:!1});let E=null;Object.defineProperty(o,ei,{get:()=>{if(null===E){const w={name:o.name,type:o,providers:a.providers||ge,imports:[(a.imports||ge).map(K),(a.exports||ge).map(K)]};E=rn().compileInjector(vr,`ng:///${o.name}/\u0275inj.js`,w)}return E},configurable:!1})})(o,a),function(o,a){Qf.push({moduleType:o,ngModule:a})}(o,a)},up=new Jt("Application Initializer");let Pd=(()=>{class o{constructor(l){this.appInits=l,this.resolve=No,this.reject=No,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(So(g))l.push(g);else if(jc(g)){const E=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});l.push(E)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Xt(up,8))},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();const yy=new Jt("AppId"),T0={provide:yy,useFactory:function(){return`${_y()}${_y()}${_y()}`},deps:[]};function _y(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yD=new Jt("Platform Initializer"),vy=new Jt("Platform ID"),_D=new Jt("appBootstrapListener");let ED=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();const kd=new Jt("LocaleId"),wD=new Jt("DefaultCurrencyCode");class $S{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const lp=function(o){return new ty(o)},GS=lp,qS=function(o){return Promise.resolve(lp(o))},SD=function(o){const a=lp(o),d=Si(Dt(o).declarations).reduce((h,g)=>{const E=Vn(g);return E&&h.push(new LI(E)),h},[]);return new $S(a,d)},A0=SD,ZS=function(o){return Promise.resolve(SD(o))};let _l=(()=>{class o{constructor(){this.compileModuleSync=GS,this.compileModuleAsync=qS,this.compileModuleAndAllComponentsSync=A0,this.compileModuleAndAllComponentsAsync=ZS}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();const RD=(()=>Promise.resolve(0))();function x0(o){"undefined"==typeof Zone?RD.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Mr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ki(!1),this.onMicrotaskEmpty=new ki(!1),this.onStable=new ki(!1),this.onError=new ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=k.requestAnimationFrame,a=k.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(k,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,M0(o),o.isCheckStableRunning=!0,cp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),M0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,E,w)=>{try{return O0(o),l.invokeTask(h,g,E,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),P0(o)}},onInvoke:(l,d,h,g,E,w,D)=>{try{return O0(o),l.invoke(h,g,E,w,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),P0(o)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,M0(o),cp(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,h){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+h,a,zS,No,No);try{return g.runTask(E,l,d)}finally{g.cancelTask(E)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const zS={};function cp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function M0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function O0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function P0(o){o._nesting--,cp(o)}class KS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki,this.onMicrotaskEmpty=new ki,this.onStable=new ki,this.onError=new ki}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,h){return a.apply(l,d)}}let Ey=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mr.assertNotInAngularZone(),x0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())x0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(Xt(Mr))},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})(),k0=(()=>{class o{constructor(){this._applications=new Map,F0.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return F0.findTestabilityInTree(this,l,d)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();class wy{addToWindow(a){}findTestabilityInTree(a,l,d){return null}}function YS(o){F0=o}let F0=new wy,MD=!0,OD=!1;function by(){return OD=!0,MD}function L0(){if(OD)throw new Error("Cannot enable prod mode after platform setup.");MD=!1}let Fi;const vl=new Jt("AllowMultipleToken");class G0{constructor(a,l){this.name=a,this.token=l}}function FD(o,a,l=[]){const d=`Platform: ${a}`,h=new Jt(d);return(g=[])=>{let E=LD();if(!E||E.injector.get(vl,!1))if(o)o(l.concat(g).concat({provide:h,useValue:!0}));else{const w=l.concat(g).concat({provide:h,useValue:!0},{provide:Gg,useValue:"platform"});!function(o){if(Fi&&!Fi.destroyed&&!Fi.injector.get(vl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fi=o.get(q0);const a=o.get(yD,null);a&&a.forEach(l=>l())}(Ft.create({providers:w,name:d}))}return function(o){const a=LD();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(h)}}function LD(){return Fi&&!Fi.destroyed?Fi:null}let q0=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function(o,a){let l;return l="noop"===o?new KS:("zone.js"===o?void 0:o)||new Mr({enableLongStackTrace:by(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:Mr,useValue:w}];return w.run(()=>{const A=Ft.create({providers:D,parent:this.injector,name:l.moduleType.name}),s=l.create(A),r=s.injector.get(Te,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const i=w.onError.subscribe({next:u=>{r.handleError(u)}});s.onDestroy(()=>{Z0(this._modules,s),i.unsubscribe()})}),function(o,a,l){try{const d=l();return So(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(r,w,()=>{const i=s.injector.get(Pd);return i.runInitializers(),i.donePromise.then(()=>(Am(s.injector.get(kd,Fs)||Fs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(l,d=[]){const h=VD({},d);return function(o,a,l){const d=new ty(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(dp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${F(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Xt(Ft))},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();function VD(o,a){return Array.isArray(a)?a.reduce(VD,o):Object.assign(Object.assign({},o),a)}let dp=(()=>{class o{constructor(l,d,h,g,E){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new V.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new V.y(A=>{let s;this._zone.runOutsideAngular(()=>{s=this._zone.onStable.subscribe(()=>{Mr.assertNotInAngularZone(),x0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const r=this._zone.onUnstable.subscribe(()=>{Mr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{s.unsubscribe(),r.unsubscribe()}});this.isStable=(0,Q.T)(w,D.pipe(o=>(0,ue.x)()(function(o,a){return function(d){let h;h="function"==typeof o?o:function(){return o};const g=Object.create(d,le.N);return g.source=d,g.subjectFactory=h,g}}(G)(o))))}bootstrap(l,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof nI?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(pt),w=h.create(Ft.NULL,[],d||h.selector,g),D=w.location.nativeElement,A=w.injector.get(Ey,null),s=A&&w.injector.get(k0);return A&&s&&s.registerApplication(D,A),w.onDestroy(()=>{this.detachView(w.hostView),Z0(this.components,w),s&&s.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Z0(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(_D,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(Xt(Mr),Xt(Ft),Xt(Te),Xt(il),Xt(Pd))},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();function Z0(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}class W0{}class jD{}const fp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ox=(()=>{class o{constructor(l,d){this._compiler=l,this._config=d||fp}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[d,h]=l.split("#");return void 0===h&&(h="default"),O(8255)(d).then(g=>g[h]).then(g=>Kt(g,d,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[d,h]=l.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),O(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(E=>E[h+g]).then(E=>Kt(E,d,h))}}return o.\u0275fac=function(l){return new(l||o)(Xt(_l),Xt(jD,8))},o.\u0275prov=Yt({token:o,factory:o.\u0275fac}),o})();function Kt(o,a,l){if(!o)throw new Error(`Cannot find '${l}' in '${a}'`);return o}const fx=function(o){return null},gx=FD(null,"core",[{provide:vy,useValue:"unknown"},{provide:q0,deps:[Ft]},{provide:k0,deps:[]},{provide:ED,deps:[]}]),wl=[{provide:dp,useClass:dp,deps:[Mr,Ft,Te,il,Pd]},{provide:FI,deps:[Mr],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}},{provide:Pd,useClass:Pd,deps:[[new Ai,up]]},{provide:_l,useClass:_l,deps:[]},T0,{provide:Vs,useFactory:function(){return fI},deps:[]},{provide:Ff,useFactory:function(){return Vf},deps:[]},{provide:kd,useFactory:function(o){return Am(o=o||"undefined"!=typeof $localize&&$localize.locale||Fs),o},deps:[[new fa(kd),new Ai,new uo]]},{provide:wD,useValue:"USD"}];let gp=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Xt(dp))},o.\u0275mod=ji({type:o}),o.\u0275inj=Ui({providers:wl}),o})()},8939:(Ve,me,O)=>{"use strict";O.d(me,{hO:()=>F,xv:()=>G,Dh:()=>ue,GT:()=>X,on:()=>P,pX:()=>le});var m=O(3018),ee=O(7841),V=O(9126);Ve=O.hmd(Ve);const Q=["ngOnDestroy"],le=(H,ie,Y,K={})=>new Proxy(H,{get:(Ce,ve)=>Y.runOutsideAngular(()=>{var be;if(H[ve])return(null===(be=null==K?void 0:K.spy)||void 0===be?void 0:be.get)&&K.spy.get(ve,H[ve]),H[ve];if(Q.indexOf(ve)>-1)return()=>{};const Ae=ie.toPromise().then(Ne=>{const xe=Ne&&Ne[ve];return"function"==typeof xe?xe.bind(Ne):xe&&xe.then?xe.then(se=>Y.run(()=>se)):Y.run(()=>xe)});return new Proxy(()=>{},{get:(Ne,xe)=>Ae[xe],apply:(Ne,xe,se)=>Ae.then(wt=>{var Je;const ne=wt&&wt(...se);return(null===(Je=null==K?void 0:K.spy)||void 0===Je?void 0:Je.apply)&&K.spy.apply(ve,se,ne),ne})})})}),X=(H,ie)=>{ie.forEach(Y=>{Object.getOwnPropertyNames(Y.prototype||Y).forEach(K=>{Object.defineProperty(H.prototype,K,Object.getOwnPropertyDescriptor(Y.prototype||Y,K))})})};class he{constructor(ie){return ie}}const ue=new m.OlP("angularfire2.app.options"),G=new m.OlP("angularfire2.app.name");function P(H,ie,Y){const Ce="object"==typeof Y&&Y||{};Ce.name=Ce.name||"string"==typeof Y&&Y||"[DEFAULT]";const be=ee.Z.apps.filter(Ae=>Ae&&Ae.name===Ce.name)[0]||ie.runOutsideAngular(()=>ee.Z.initializeApp(H,Ce));try{JSON.stringify(H)!==JSON.stringify(be.options)&&L("error",`${be.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ae){}return new he(be)}const L=(H,...ie)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[H](...ie)},U={provide:he,useFactory:P,deps:[ue,m.R0b,[new m.FiY,G]]};let F=(()=>{class H{constructor(Y){ee.Z.registerVersion("angularfire",V.q4.full,"core"),ee.Z.registerVersion("angularfire",V.q4.full,"app-compat"),ee.Z.registerVersion("angular",m.q4F.full,Y.toString())}static initializeApp(Y,K){return{ngModule:H,providers:[{provide:ue,useValue:Y},{provide:G,useValue:K}]}}}return H.\u0275fac=function(Y){return new(Y||H)(m.LFG(m.Lbi))},H.\u0275mod=m.oAB({type:H}),H.\u0275inj=m.cJS({providers:[U]}),H})()},9126:(Ve,me,O)=>{"use strict";O.d(me,{q4:()=>P,iC:()=>ne,f6:()=>Je,HU:()=>Ae,cc:()=>F});var m=O(3018);(0,O(5452).registerVersion)("firebase","9.0.1","app");var le=O(7771),X=O(3637),he=O(3342),ue=O(309),G=O(3101);Ve=O.hmd(Ve);const P=new m.GfV("7.0.3"),L=!!Ve.hot,U=(re,...W)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[re](...W)};function F(re,W,Ie,je,gt){const[,He,rt]=globalThis.\u0275AngularfireInstanceCache.find(Lt=>Lt[0]===re)||[];if(He)return function(re,W){try{return re.toString()===W.toString()}catch(Ie){return re===W}}(gt,rt)||(U("error",`${W} was already initialized on the ${Ie} Firebase App with different settings.${L?" You may need to reload as Firebase is not HMR aware.":""}`),U("warn",{is:gt,was:rt})),He;{const Lt=je();return globalThis.\u0275AngularfireInstanceCache.push([re,Lt,gt]),Lt}}function Ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ve{constructor(W,Ie=le.N){this.zone=W,this.delegate=Ie}now(){return this.delegate.now()}schedule(W,Ie,je){const gt=this.zone;return this.delegate.schedule(function(rt){gt.runGuarded(()=>{W.apply(this,[rt])})},Ie,je)}}class be{constructor(W){this.zone=W,this.task=null}call(W,Ie){const je=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ce,{},Ce,Ce)),Ie.pipe((0,he.b)({next:je,complete:je,error:je})).subscribe(W).add(je)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ae=(()=>{class re{constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new ve(Zone.current)),this.insideAngular=Ie.run(()=>new ve(Zone.current,X.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return re.\u0275fac=function(Ie){return new(Ie||re)(m.LFG(m.R0b))},re.\u0275prov=m.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})();function Ne(){const re=globalThis.\u0275AngularFireScheduler;if(!re)throw new Error("AngularFireModule has not been provided");return re}function Je(re){return re.pipe((0,ue.QV)(Ne().insideAngular))}function ne(re){return Ne(),function(re){return function(Ie){return(Ie=Ie.lift(new be(re.ngZone))).pipe((0,G.R)(re.outsideAngular),(0,ue.QV)(re.insideAngular))}}(Ne())(re)}},4486:(Ve,me,O)=>{"use strict";O.d(me,{Z:()=>Y});var m=O(4685),ee=O(6034),V=O(5452),Q=O(300);class le{constructor(Ce,ve){this._delegate=Ce,this.firebase=ve,(0,V._addComponent)(Ce,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Ce,ve=V._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(Ce);return!Ae.isInitialized()&&"EXPLICIT"===(null===(be=Ae.getComponent())||void 0===be?void 0:be.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:ve})}_removeServiceInstance(Ce,ve=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ve)}_addComponent(Ce){(0,V._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,V._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function G(){const K=function(K){const Ce={},ve={__esModule:!0,initializeApp:function(Je,ne={}){const J=V.initializeApp(Je,ne);if((0,m.r3)(Ce,J.name))return Ce[J.name];const oe=new K(J,ve);return Ce[J.name]=oe,oe},app:Ae,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function(Je){const ne=Je.name,J=ne.replace("-compat","");if(V._registerComponent(Je)&&"PUBLIC"===Je.type){const oe=(ce=Ae())=>{if("function"!=typeof ce[J])throw he.create("invalid-app-argument",{appName:ne});return ce[J]()};void 0!==Je.serviceProps&&(0,m.ZB)(oe,Je.serviceProps),ve[J]=oe,K.prototype[J]=function(...ce){return this._getService.bind(this,ne).apply(this,Je.multipleInstances?ce:[])}}return"PUBLIC"===Je.type?ve[J]:null},removeApp:function(Je){delete Ce[Je]},useAsService:function(Je,ne){return"serverAuth"===ne?null:ne},modularAPIs:V}};function Ae(Je){if(!(0,m.r3)(Ce,Je=Je||V._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Je});return Ce[Je]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function(){return Object.keys(Ce).map(Je=>Ce[Je])}}),Ae.App=K,ve}(le);return K.INTERNAL=Object.assign(Object.assign({},K.INTERNAL),{createFirebaseNamespace:G,extendNamespace:function(ve){(0,m.ZB)(K,ve)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),K}(),L=new Q.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const K=self.firebase.SDK_VERSION;K&&K.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=P;(0,V.registerVersion)("@firebase/app-compat","0.1.1",undefined);const Y=ie},5452:(Ve,me,O)=>{"use strict";O.r(me),O.d(me,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>nu,_DEFAULT_ENTRY_NAME:()=>gt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Ci,_apps:()=>rt,_clearComponents:()=>ir,_components:()=>Lt,_getProvider:()=>lt,_registerComponent:()=>Ut,_removeServiceInstance:()=>vt,deleteApp:()=>Ho,getApp:()=>qn,getApps:()=>Hs,initializeApp:()=>Ui,onLog:()=>An,registerVersion:()=>Bi,setLogLevel:()=>ei});var m=O(8239),ee=O(6034),V=O(300),Q=O(4685);class le{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function(it){const Ee=it.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(At)){const Bt=At.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(At=>At).join(" ")}}const he="@firebase/app",G=new V.Yd("@firebase/app"),gt="[DEFAULT]",He={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Lt=new Map;function hn(it,Ee){try{it.container.addComponent(Ee)}catch(At){G.debug(`Component ${Ee.name} failed to register with FirebaseApp ${it.name}`,At)}}function Ci(it,Ee){it.container.addOrOverwriteComponent(Ee)}function Ut(it){const Ee=it.name;if(Lt.has(Ee))return G.debug(`There were multiple attempts to register component ${Ee}.`),!1;Lt.set(Ee,it);for(const At of rt.values())hn(At,it);return!0}function lt(it,Ee){return it.container.getProvider(Ee)}function vt(it,Ee,At=gt){lt(it,Ee).clearInstance(At)}function ir(){Lt.clear()}const dr=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Yt{constructor(Ee,At,Bt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const nu="9.0.0";function Ui(it,Ee={}){"object"!=typeof Ee&&(Ee={name:Ee});const At=Object.assign({name:gt,automaticDataCollectionEnabled:!1},Ee),Bt=At.name;if("string"!=typeof Bt||!Bt)throw dr.create("bad-app-name",{appName:String(Bt)});const Ht=rt.get(Bt);if(Ht){if((0,Q.vZ)(it,Ht.options)&&(0,Q.vZ)(At,Ht.config))return Ht;throw dr.create("duplicate-app",{appName:Bt})}const Mt=new ee.H0(Bt);for(const Fe of Lt.values())Mt.addComponent(Fe);const Pe=new Yt(it,At,Mt);return rt.set(Bt,Pe),Pe}function qn(it=gt){const Ee=rt.get(it);if(!Ee)throw dr.create("no-app",{appName:it});return Ee}function Hs(){return Array.from(rt.values())}function Ho(it){return $s.apply(this,arguments)}function $s(){return($s=(0,m.Z)(function*(it){const Ee=it.name;rt.has(Ee)&&(rt.delete(Ee),yield Promise.all(it.container.getProviders().map(At=>At.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Bi(it,Ee,At){var Bt;let Ht=null!==(Bt=He[it])&&void 0!==Bt?Bt:it;At&&(Ht+=`-${At}`);const Mt=Ht.match(/\s|\//),Pe=Ee.match(/\s|\//);if(Mt||Pe){const Fe=[`Unable to register library "${Ht}" with version "${Ee}":`];return Mt&&Fe.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Mt&&Pe&&Fe.push("and"),Pe&&Fe.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void G.warn(Fe.join(" "))}Ut(new ee.wA(`${Ht}-version`,()=>({library:Ht,version:Ee}),"VERSION"))}function An(it,Ee){if(null!==it&&"function"!=typeof it)throw dr.create("invalid-log-argument");(0,V.Am)(it,Ee)}function ei(it){(0,V.Ub)(it)}Ut(new ee.wA("platform-logger",Ee=>new le(Ee),"PRIVATE")),Bi(he,"0.7.0",undefined),Bi("fire-js","")},6034:(Ve,me,O)=>{"use strict";O.d(me,{wA:()=>V,H0:()=>ue});var m=O(4762),ee=O(4685),V=function(){function G(P,L,U){this.name=P,this.instanceFactory=L,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},G.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},G.prototype.setServiceProps=function(P){return this.serviceProps=P,this},G.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},G}(),Q="[DEFAULT]",le=function(){function G(P,L){this.name=P,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return G.prototype.get=function(P){var L=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(L)){var U=new ee.BH;if(this.instancesDeferred.set(L,U),this.isInitialized(L)||this.shouldAutoInitialize())try{var F=this.getOrInitializeService({instanceIdentifier:L});F&&U.resolve(F)}catch(H){}}return this.instancesDeferred.get(L).promise},G.prototype.getImmediate=function(P){var L,U=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),F=null!==(L=null==P?void 0:P.optional)&&void 0!==L&&L;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(F)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(H){if(F)return null;throw H}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(P){var L,U;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:Q})}catch(be){}try{for(var F=(0,m.XA)(this.instancesDeferred.entries()),H=F.next();!H.done;H=F.next()){var ie=(0,m.CR)(H.value,2),K=ie[1],Ce=this.normalizeInstanceIdentifier(ie[0]);try{var ve=this.getOrInitializeService({instanceIdentifier:Ce});K.resolve(ve)}catch(be){}}}catch(be){L={error:be}}finally{try{H&&!H.done&&(U=F.return)&&U.call(F)}finally{if(L)throw L.error}}}},G.prototype.clearInstance=function(P){void 0===P&&(P=Q),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},G.prototype.delete=function(){return(0,m.mG)(this,void 0,void 0,function(){var P;return(0,m.Jh)(this,function(L){switch(L.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,m.ev)((0,m.ev)([],(0,m.CR)(P.filter(function(U){return"INTERNAL"in U}).map(function(U){return U.INTERNAL.delete()}))),(0,m.CR)(P.filter(function(U){return"_delete"in U}).map(function(U){return U._delete()}))))];case 1:return L.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(P){return void 0===P&&(P=Q),this.instances.has(P)},G.prototype.getOptions=function(P){return void 0===P&&(P=Q),this.instancesOptions.get(P)||{}},G.prototype.initialize=function(P){var L,U;void 0===P&&(P={});var F=P.options,H=void 0===F?{}:F,ie=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(ie))throw Error(this.name+"("+ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Y=this.getOrInitializeService({instanceIdentifier:ie,options:H});try{for(var K=(0,m.XA)(this.instancesDeferred.entries()),Ce=K.next();!Ce.done;Ce=K.next()){var ve=(0,m.CR)(Ce.value,2),Ae=ve[1];ie===this.normalizeInstanceIdentifier(ve[0])&&Ae.resolve(Y)}}catch(xe){L={error:xe}}finally{try{Ce&&!Ce.done&&(U=K.return)&&U.call(K)}finally{if(L)throw L.error}}return Y},G.prototype.onInit=function(P,L){var U,F=this.normalizeInstanceIdentifier(L),H=null!==(U=this.onInitCallbacks.get(F))&&void 0!==U?U:new Set;H.add(P),this.onInitCallbacks.set(F,H);var ie=this.instances.get(F);return ie&&P(ie,F),function(){H.delete(P)}},G.prototype.invokeOnInitCallbacks=function(P,L){var U,F,H=this.onInitCallbacks.get(L);if(H)try{for(var ie=(0,m.XA)(H),Y=ie.next();!Y.done;Y=ie.next()){var K=Y.value;try{K(P,L)}catch(Ce){}}}catch(Ce){U={error:Ce}}finally{try{Y&&!Y.done&&(F=ie.return)&&F.call(ie)}finally{if(U)throw U.error}}},G.prototype.getOrInitializeService=function(P){var L=P.instanceIdentifier,U=P.options,F=void 0===U?{}:U,H=this.instances.get(L);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:X(L),options:F}),this.instances.set(L,H),this.instancesOptions.set(L,F),this.invokeOnInitCallbacks(H,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,H)}catch(ie){}return H||null},G.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=Q),this.component?this.component.multipleInstances?P:Q:P},G.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},G}();function X(G){return G===Q?void 0:G}var ue=function(){function G(P){this.name=P,this.providers=new Map}return G.prototype.addComponent=function(P){var L=this.getProvider(P.name);if(L.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);L.setComponent(P)},G.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},G.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var L=new le(P,this);return this.providers.set(P,L),L},G.prototype.getProviders=function(){return Array.from(this.providers.values())},G}()},300:(Ve,me,O)=>{"use strict";function m(){for(var U=0,F=0,H=arguments.length;F<H;F++)U+=arguments[F].length;var ie=Array(U),Y=0;for(F=0;F<H;F++)for(var K=arguments[F],Ce=0,ve=K.length;Ce<ve;Ce++,Y++)ie[Y]=K[Ce];return ie}O.d(me,{in:()=>Q,Yd:()=>G,Ub:()=>P,Am:()=>L});var ee,V=[],Q=(()=>{return(U=Q||(Q={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",Q;var U})(),le={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},X=Q.INFO,he=((ee={})[Q.DEBUG]="log",ee[Q.VERBOSE]="log",ee[Q.INFO]="info",ee[Q.WARN]="warn",ee[Q.ERROR]="error",ee),ue=function(U,F){for(var H=[],ie=2;ie<arguments.length;ie++)H[ie-2]=arguments[ie];if(!(F<U.logLevel)){var Y=(new Date).toISOString(),K=he[F];if(!K)throw new Error("Attempted to log a message with an invalid logType (value: "+F+")");console[K].apply(console,m(["["+Y+"]  "+U.name+":"],H))}},G=function(){function U(F){this.name=F,this._logLevel=X,this._logHandler=ue,this._userLogHandler=null,V.push(this)}return Object.defineProperty(U.prototype,"logLevel",{get:function(){return this._logLevel},set:function(F){if(!(F in Q))throw new TypeError('Invalid value "'+F+'" assigned to `logLevel`');this._logLevel=F},enumerable:!1,configurable:!0}),U.prototype.setLogLevel=function(F){this._logLevel="string"==typeof F?le[F]:F},Object.defineProperty(U.prototype,"logHandler",{get:function(){return this._logHandler},set:function(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(F){this._userLogHandler=F},enumerable:!1,configurable:!0}),U.prototype.debug=function(){for(var F=[],H=0;H<arguments.length;H++)F[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Q.DEBUG],F)),this._logHandler.apply(this,m([this,Q.DEBUG],F))},U.prototype.log=function(){for(var F=[],H=0;H<arguments.length;H++)F[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Q.VERBOSE],F)),this._logHandler.apply(this,m([this,Q.VERBOSE],F))},U.prototype.info=function(){for(var F=[],H=0;H<arguments.length;H++)F[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Q.INFO],F)),this._logHandler.apply(this,m([this,Q.INFO],F))},U.prototype.warn=function(){for(var F=[],H=0;H<arguments.length;H++)F[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Q.WARN],F)),this._logHandler.apply(this,m([this,Q.WARN],F))},U.prototype.error=function(){for(var F=[],H=0;H<arguments.length;H++)F[H]=arguments[H];this._userLogHandler&&this._userLogHandler.apply(this,m([this,Q.ERROR],F)),this._logHandler.apply(this,m([this,Q.ERROR],F))},U}();function P(U){V.forEach(function(F){F.setLogLevel(U)})}function L(U,F){for(var H=function(Ce){var ve=null;F&&F.level&&(ve=le[F.level]),Ce.userLogHandler=null===U?null:function(be,Ae){for(var Ne=[],xe=2;xe<arguments.length;xe++)Ne[xe-2]=arguments[xe];var se=Ne.map(function(wt){if(null==wt)return null;if("string"==typeof wt)return wt;if("number"==typeof wt||"boolean"==typeof wt)return wt.toString();if(wt instanceof Error)return wt.message;try{return JSON.stringify(wt)}catch(Je){return null}}).filter(function(wt){return wt}).join(" ");Ae>=(null!=ve?ve:be.logLevel)&&U({level:Q[Ae].toLowerCase(),message:se,args:Ne,type:be.name})}},ie=0,Y=V;ie<Y.length;ie++)H(Y[ie])}},4685:(Ve,me,O)=>{"use strict";O.d(me,{BH:()=>H,LL:()=>Ie,ZR:()=>W,tV:()=>P,r3:()=>vt,Sg:()=>ie,ne:()=>$s,vZ:()=>Yt,ZB:()=>U,pd:()=>Hs,m9:()=>$t,z$:()=>Y,jU:()=>ve,ru:()=>be,d:()=>Ne,xb:()=>is,w1:()=>xe,hl:()=>ne,uI:()=>K,UG:()=>Ce,b$:()=>Ae,G6:()=>Je,Mn:()=>se,xO:()=>Ui,zd:()=>qn});var m=O(4762),le=function(B){for(var k=[],z=0,te=0;te<B.length;te++){var Z=B.charCodeAt(te);Z<128?k[z++]=Z:Z<2048?(k[z++]=Z>>6|192,k[z++]=63&Z|128):55296==(64512&Z)&&te+1<B.length&&56320==(64512&B.charCodeAt(te+1))?(Z=65536+((1023&Z)<<10)+(1023&B.charCodeAt(++te)),k[z++]=Z>>18|240,k[z++]=Z>>12&63|128,k[z++]=Z>>6&63|128,k[z++]=63&Z|128):(k[z++]=Z>>12|224,k[z++]=Z>>6&63|128,k[z++]=63&Z|128)}return k},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(B,k){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var z=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[],Z=0;Z<B.length;Z+=3){var ge=B[Z],$e=Z+1<B.length,bt=$e?B[Z+1]:0,mt=Z+2<B.length,ct=mt?B[Z+2]:0,Sn=(15&bt)<<2|ct>>6,ss=63&ct;mt||(ss=64,$e||(Sn=64)),te.push(z[ge>>2],z[(3&ge)<<4|bt>>4],z[Sn],z[ss])}return te.join("")},encodeString:function(B,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(B):this.encodeByteArray(le(B),k)},decodeString:function(B,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(B):function(B){for(var k=[],z=0,te=0;z<B.length;){var Z=B[z++];if(Z<128)k[te++]=String.fromCharCode(Z);else if(Z>191&&Z<224){var ge=B[z++];k[te++]=String.fromCharCode((31&Z)<<6|63&ge)}else if(Z>239&&Z<365){var mt=((7&Z)<<18|(63&(ge=B[z++]))<<12|(63&($e=B[z++]))<<6|63&B[z++])-65536;k[te++]=String.fromCharCode(55296+(mt>>10)),k[te++]=String.fromCharCode(56320+(1023&mt))}else{ge=B[z++];var $e=B[z++];k[te++]=String.fromCharCode((15&Z)<<12|(63&ge)<<6|63&$e)}}return k.join("")}(this.decodeStringToByteArray(B,k))},decodeStringToByteArray:function(B,k){this.init_();for(var z=k?this.charToByteMapWebSafe_:this.charToByteMap_,te=[],Z=0;Z<B.length;){var ge=z[B.charAt(Z++)],bt=Z<B.length?z[B.charAt(Z)]:0,ct=++Z<B.length?z[B.charAt(Z)]:64,nn=++Z<B.length?z[B.charAt(Z)]:64;if(++Z,null==ge||null==bt||null==ct||null==nn)throw Error();te.push(ge<<2|bt>>4),64!==ct&&(te.push(bt<<4&240|ct>>2),64!==nn&&te.push(ct<<6&192|nn))}return te},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},G=function(B){return function(B){var k=le(B);return he.encodeByteArray(k,!0)}(B).replace(/\./g,"")},P=function(B){try{return he.decodeString(B,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function U(B,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return k}for(var te in k)!k.hasOwnProperty(te)||!F(te)||(B[te]=U(B[te],k[te]));return B}function F(B){return"__proto__"!==B}var H=function(){function B(){var k=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(z,te){k.resolve=z,k.reject=te})}return B.prototype.wrapCallback=function(k){var z=this;return function(te,Z){te?z.reject(te):z.resolve(Z),"function"==typeof k&&(z.promise.catch(function(){}),1===k.length?k(te):k(te,Z))}},B}();function ie(B,k){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var te=k||"demo-project",Z=B.iat||0,ge=B.sub||B.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var $e=(0,m.pi)({iss:"https://securetoken.google.com/"+te,aud:te,iat:Z,exp:Z+3600,auth_time:Z,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},B);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify($e)),""].join(".")}function Y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ve(){return"object"==typeof self&&self.self===self}function be(){var B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Y().indexOf("Electron/")>=0}function xe(){var B=Y();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function se(){return Y().indexOf("MSAppHost/")>=0}function Je(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){return"indexedDB"in self&&null!=indexedDB}var W=function(B){function k(z,te,Z){var ge=B.call(this,te)||this;return ge.code=z,ge.customData=Z,ge.name="FirebaseError",Object.setPrototypeOf(ge,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(ge,Ie.prototype.create),ge}return(0,m.ZT)(k,B),k}(Error),Ie=function(){function B(k,z,te){this.service=k,this.serviceName=z,this.errors=te}return B.prototype.create=function(k){for(var z=[],te=1;te<arguments.length;te++)z[te-1]=arguments[te];var Z=z[0]||{},ge=this.service+"/"+k,$e=this.errors[k],bt=$e?je($e,Z):"Error",mt=this.serviceName+": "+bt+" ("+ge+").",ct=new W(ge,mt,Z);return ct},B}();function je(B,k){return B.replace(gt,function(z,te){var Z=k[te];return null!=Z?String(Z):"<"+te+"?>"})}var gt=/\{\$([^}]+)}/g;function vt(B,k){return Object.prototype.hasOwnProperty.call(B,k)}function is(B){for(var k in B)if(Object.prototype.hasOwnProperty.call(B,k))return!1;return!0}function Yt(B,k){if(B===k)return!0;for(var z=Object.keys(B),te=Object.keys(k),Z=0,ge=z;Z<ge.length;Z++){if(!te.includes($e=ge[Z]))return!1;var bt=B[$e],mt=k[$e];if(nu(bt)&&nu(mt)){if(!Yt(bt,mt))return!1}else if(bt!==mt)return!1}for(var ct=0,an=te;ct<an.length;ct++){var $e;if(!z.includes($e=an[ct]))return!1}return!0}function nu(B){return null!==B&&"object"==typeof B}function Ui(B){for(var k=[],z=function(mt,ct){Array.isArray(ct)?ct.forEach(function(an){k.push(encodeURIComponent(mt)+"="+encodeURIComponent(an))}):k.push(encodeURIComponent(mt)+"="+encodeURIComponent(ct))},te=0,Z=Object.entries(B);te<Z.length;te++){var ge=Z[te];z(ge[0],ge[1])}return k.length?"&"+k.join("&"):""}function qn(B){var k={};return B.replace(/^\?/,"").split("&").forEach(function(te){if(te){var Z=te.split("="),$e=Z[1];k[decodeURIComponent(Z[0])]=decodeURIComponent($e)}}),k}function Hs(B){var k=B.indexOf("?");if(!k)return"";var z=B.indexOf("#",k);return B.substring(k,z>0?z:void 0)}function $s(B,k){var z=new Bi(B,k);return z.subscribe.bind(z)}!function(){function B(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var k=1;k<this.blockSize;++k)this.pad_[k]=0;this.reset()}B.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},B.prototype.compress_=function(k,z){z||(z=0);var te=this.W_;if("string"==typeof k)for(var Z=0;Z<16;Z++)te[Z]=k.charCodeAt(z)<<24|k.charCodeAt(z+1)<<16|k.charCodeAt(z+2)<<8|k.charCodeAt(z+3),z+=4;else for(Z=0;Z<16;Z++)te[Z]=k[z]<<24|k[z+1]<<16|k[z+2]<<8|k[z+3],z+=4;for(Z=16;Z<80;Z++)te[Z]=4294967295&((ge=te[Z-3]^te[Z-8]^te[Z-14]^te[Z-16])<<1|ge>>>31);var nn,Sn,$e=this.chain_[0],bt=this.chain_[1],mt=this.chain_[2],ct=this.chain_[3],an=this.chain_[4];for(Z=0;Z<80;Z++){Z<40?Z<20?(nn=ct^bt&(mt^ct),Sn=1518500249):(nn=bt^mt^ct,Sn=1859775393):Z<60?(nn=bt&mt|ct&(bt|mt),Sn=2400959708):(nn=bt^mt^ct,Sn=3395469782);var ge=($e<<5|$e>>>27)+nn+an+Sn+te[Z]&4294967295;an=ct,ct=mt,mt=4294967295&(bt<<30|bt>>>2),bt=$e,$e=ge}this.chain_[0]=this.chain_[0]+$e&4294967295,this.chain_[1]=this.chain_[1]+bt&4294967295,this.chain_[2]=this.chain_[2]+mt&4294967295,this.chain_[3]=this.chain_[3]+ct&4294967295,this.chain_[4]=this.chain_[4]+an&4294967295},B.prototype.update=function(k,z){if(null!=k){void 0===z&&(z=k.length);for(var te=z-this.blockSize,Z=0,ge=this.buf_,$e=this.inbuf_;Z<z;){if(0===$e)for(;Z<=te;)this.compress_(k,Z),Z+=this.blockSize;if("string"==typeof k){for(;Z<z;)if(ge[$e]=k.charCodeAt(Z),++Z,++$e===this.blockSize){this.compress_(ge),$e=0;break}}else for(;Z<z;)if(ge[$e]=k[Z],++Z,++$e===this.blockSize){this.compress_(ge),$e=0;break}}this.inbuf_=$e,this.total_+=z}},B.prototype.digest=function(){var k=[],z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&z,z/=256;this.compress_(this.buf_);var Z=0;for(te=0;te<5;te++)for(var ge=24;ge>=0;ge-=8)k[Z]=this.chain_[te]>>ge&255,++Z;return k}}();var Bi=function(){function B(k,z){var te=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(function(){k(te)}).catch(function(Z){te.error(Z)})}return B.prototype.next=function(k){this.forEachObserver(function(z){z.next(k)})},B.prototype.error=function(k){this.forEachObserver(function(z){z.error(k)}),this.close(k)},B.prototype.complete=function(){this.forEachObserver(function(k){k.complete()}),this.close()},B.prototype.subscribe=function(k,z,te){var ge,Z=this;if(void 0===k&&void 0===z&&void 0===te)throw new Error("Missing Observer.");void 0===(ge=function(B,k){if("object"!=typeof B||null===B)return!1;for(var z=0,te=["next","error","complete"];z<te.length;z++){var Z=te[z];if(Z in B&&"function"==typeof B[Z])return!0}return!1}(k)?k:{next:k,error:z,complete:te}).next&&(ge.next=Fr),void 0===ge.error&&(ge.error=Fr),void 0===ge.complete&&(ge.complete=Fr);var $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Z.finalError?ge.error(Z.finalError):ge.complete()}catch(bt){}}),this.observers.push(ge),$e},B.prototype.unsubscribeOne=function(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},B.prototype.forEachObserver=function(k){if(!this.finalized)for(var z=0;z<this.observers.length;z++)this.sendOne(z,k)},B.prototype.sendOne=function(k,z){var te=this;this.task.then(function(){if(void 0!==te.observers&&void 0!==te.observers[k])try{z(te.observers[k])}catch(Z){"undefined"!=typeof console&&console.error&&console.error(Z)}})},B.prototype.close=function(k){var z=this;this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(function(){z.observers=void 0,z.onNoObservers=void 0}))},B}();function Fr(){}function $t(B){return B&&B._delegate?B._delegate:B}},7841:(Ve,me,O)=>{"use strict";O.d(me,{Z:()=>m.Z});var m=O(4486);m.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Ve,me,O)=>{"use strict";O.r(me);var m=O(8239),ee=O(4486),V=O(4685),Q=O(5452),le=O(4762),X=O(300),he=O(6034);const ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},K=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new X.Yd("@firebase/auth");function be(C,..._){ve.logLevel<=X.in.ERROR&&ve.error(`Auth (${Q.SDK_VERSION}): ${C}`,..._)}function Ae(C,..._){throw xe(C,..._)}function Ne(C,..._){return xe(C,..._)}function xe(C,..._){if("string"!=typeof C){const v=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(v,...I)}return K.create(C,..._)}function se(C,_,...v){if(!C)throw xe(_,...v)}function wt(C){const _="INTERNAL ASSERTION FAILED: "+C;throw be(_),new Error(_)}function Je(C,_){C||wt(_)}const ne=new Map;function J(C){Je(C instanceof Function,"Expected a class definition");let _=ne.get(C);return _?(Je(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,ne.set(C,_),_)}function re(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function W(){return"http:"===Ie()||"https:"===Ie()}function Ie(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class He{constructor(_,v){this.shortDelay=_,this.longDelay=v,Je(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(W()||(0,V.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function rt(C,_){Je(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Lt{static initialize(_,v,I){this.fetchImpl=_,v&&(this.headersImpl=v),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},Ci=new He(3e4,6e4);function Ut(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function lt(C,_,v,I){return vt.apply(this,arguments)}function vt(){return(vt=(0,m.Z)(function*(C,_,v,I,S={}){return ir(C,S,()=>{let R={},$={};I&&("GET"===_?$=I:R={body:JSON.stringify(I)});const de=(0,V.xO)(Object.assign({key:C.config.apiKey},$)).slice(1),Te=new(Lt.headers());return Te.set("Content-Type","application/json"),Te.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Te.set("X-Firebase-Locale",C.languageCode),Lt.fetch()(nu(C,C.config.apiHost,v,de),Object.assign({method:_,headers:Te,referrerPolicy:"no-referrer"},R))})})).apply(this,arguments)}function ir(C,_,v){return is.apply(this,arguments)}function is(){return(is=(0,m.Z)(function*(C,_,v){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},hn),_);try{const S=new Ui(C),R=yield Promise.race([v(),S.promise]);S.clearNetworkTimeout();const $=yield R.json();if("needConfirmation"in $)throw qn(C,"account-exists-with-different-credential",$);if(R.ok&&!("errorMessage"in $))return $;{const Te=(R.ok?$.errorMessage:$.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw qn(C,"credential-already-in-use",$);if("EMAIL_EXISTS"===Te)throw qn(C,"email-already-in-use",$);Ae(C,I[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(S){if(S instanceof V.ZR)throw S;Ae(C,"network-request-failed")}})).apply(this,arguments)}function dr(C,_,v,I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,m.Z)(function*(C,_,v,I,S={}){const R=yield lt(C,_,v,I,S);return"mfaPendingCredential"in R&&Ae(C,"multi-factor-auth-required",{serverResponse:R}),R})).apply(this,arguments)}function nu(C,_,v,I){const S=`${_}${v}?${I}`;return C.config.emulator?rt(C.config,S):`${C.config.apiScheme}://${S}`}class Ui{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,I)=>{this.timer=setTimeout(()=>I(Ne(this.auth,"timeout")),Ci.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(C,_,v){const I={appName:C.name};v.email&&(I.email=v.email),v.phoneNumber&&(I.phoneNumber=v.phoneNumber);const S=Ne(C,_,I);return S.customData._tokenResponse=v,S}function Ho(){return(Ho=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function $s(C,_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function An(C,_){return ei.apply(this,arguments)}function ei(){return(ei=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Fr(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function At(){return(At=(0,m.Z)(function*(C,_=!1){const v=(0,V.m9)(C),I=yield v.getIdToken(_),S=Ht(I);se(S&&S.exp&&S.auth_time&&S.iat,v.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,$=null==R?void 0:R.sign_in_provider;return{claims:S,token:I,authTime:Fr(Bt(S.auth_time)),issuedAtTime:Fr(Bt(S.iat)),expirationTime:Fr(Bt(S.exp)),signInProvider:$||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Bt(C){return 1e3*Number(C)}function Ht(C){const[_,v,I]=C.split(".");if(void 0===_||void 0===v||void 0===I)return be("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(v);return S?JSON.parse(S):(be("Failed to decode base64 JWT payload"),null)}catch(S){return be("Caught error parsing JWT payload as JSON",S),null}}function Pe(C,_){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,m.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(I){throw I instanceof V.ZR&&hr(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function hr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ru{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const S=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,m.Z)(function*(){yield v.iteration()}),I)}iteration(){var _=this;return(0,m.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class ti{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(C){return fr.apply(this,arguments)}function fr(){return(fr=(0,m.Z)(function*(C){var _;const v=C.auth,I=yield C.getIdToken(),S=yield Pe(C,An(v,{idToken:I}));se(null==S?void 0:S.users.length,v,"internal-error");const R=S.users[0];C._notifyReloadListener(R);const $=(null===(_=R.providerUserInfo)||void 0===_?void 0:_.length)?k(R.providerUserInfo):[],de=B(C.providerData,$),Ke=!!C.isAnonymous&&!(C.email&&R.passwordHash||(null==de?void 0:de.length)),Ge={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new ti(R.createdAt,R.lastLoginAt),isAnonymous:Ke};Object.assign(C,Ge)})).apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(C){const _=(0,V.m9)(C);yield Vt(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(C,_){return[...C.filter(I=>!_.some(S=>S.providerId===I.providerId)),..._]}function k(C){return C.map(_=>{var{providerId:v}=_,I=(0,le._T)(_,["providerId"]);return{providerId:v,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function te(){return(te=(0,m.Z)(function*(C,_){const v=yield ir(C,{},()=>{const I=(0,V.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:S,apiKey:R}=C.config,$=nu(C,S,"/v1/token",`key=${R}`);return Lt.fetch()($,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){se(_.idToken,"internal-error"),se(void 0!==_.idToken,"internal-error"),se(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(C){const _=Ht(C);return se(_,"internal-error"),se(void 0!==_.exp,"internal-error"),se(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var I=this;return(0,m.Z)(function*(){return se(!I.accessToken||I.refreshToken,_,"user-token-expired"),v||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var I=this;return(0,m.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:$}=yield function(C,_){return te.apply(this,arguments)}(_,v);I.updateTokensAndExpiration(S,R,Number($))})()}updateTokensAndExpiration(_,v,I){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,v){const{refreshToken:I,accessToken:S,expirationTime:R}=v,$=new Z;return I&&(se("string"==typeof I,"internal-error",{appName:_}),$.refreshToken=I),S&&(se("string"==typeof S,"internal-error",{appName:_}),$.accessToken=S),R&&(se("number"==typeof R,"internal-error",{appName:_}),$.expirationTime=R),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return wt("not implemented")}}function ge(C,_){se("string"==typeof C||void 0===C,"internal-error",{appName:_})}class $e{constructor(_){var{uid:v,auth:I,stsTokenManager:S}=_,R=(0,le._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=I,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.metadata=new ti(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,m.Z)(function*(){const I=yield Pe(v,v.stsTokenManager.getToken(v.auth,_));return se(I,v.auth,"internal-error"),v.accessToken!==I&&(v.accessToken=I,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),I})()}getIdTokenResult(_){return function(C){return At.apply(this,arguments)}(this,_)}reload(){return function(C){return $t.apply(this,arguments)}(this)}_assign(_){this!==_&&(se(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new $e(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var I=this;return(0,m.Z)(function*(){let S=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),S=!0),v&&(yield Vt(I)),yield I.auth._persistUserIfCurrent(I),S&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,m.Z)(function*(){const v=yield _.getIdToken();return yield Pe(_,function(C,_){return Ho.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var I,S,R,$,de,Te,Le,Ke;const Ge=null!==(I=v.displayName)&&void 0!==I?I:void 0,wn=null!==(S=v.email)&&void 0!==S?S:void 0,Wr=null!==(R=v.phoneNumber)&&void 0!==R?R:void 0,_o=null!==($=v.photoURL)&&void 0!==$?$:void 0,bn=null!==(de=v.tenantId)&&void 0!==de?de:void 0,Zn=null!==(Te=v._redirectEventId)&&void 0!==Te?Te:void 0,bg=null!==(Le=v.createdAt)&&void 0!==Le?Le:void 0,Wh=null!==(Ke=v.lastLoginAt)&&void 0!==Ke?Ke:void 0,{uid:wc,emailVerified:E_,isAnonymous:zh,providerData:hi,stsTokenManager:bc}=v;se(wc&&bc,_,"internal-error");const Vu=Z.fromJSON(this.name,bc);se("string"==typeof wc,_,"internal-error"),ge(Ge,_.name),ge(wn,_.name),se("boolean"==typeof E_,_,"internal-error"),se("boolean"==typeof zh,_,"internal-error"),ge(Wr,_.name),ge(_o,_.name),ge(bn,_.name),ge(Zn,_.name),ge(bg,_.name),ge(Wh,_.name);const Yi=new $e({uid:wc,auth:_,email:wn,emailVerified:E_,displayName:Ge,isAnonymous:zh,photoURL:_o,phoneNumber:Wr,tenantId:bn,stsTokenManager:Vu,createdAt:bg,lastLoginAt:Wh});return hi&&Array.isArray(hi)&&(Yi.providerData=hi.map(Si=>Object.assign({},Si))),Zn&&(Yi._redirectEventId=Zn),Yi}static _fromIdTokenResponse(_,v,I=!1){return(0,m.Z)(function*(){const S=new Z;S.updateFromServerResponse(v);const R=new $e({uid:v.localId,auth:_,stsTokenManager:S,isAnonymous:I});return yield Vt(R),R})()}}const mt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(v,I){var S=this;return(0,m.Z)(function*(){S.storage[v]=I})()}_get(v){var I=this;return(0,m.Z)(function*(){const S=I.storage[v];return void 0===S?null:S})()}_remove(v){var I=this;return(0,m.Z)(function*(){delete I.storage[v]})()}_addListener(v,I){}_removeListener(v,I){}}return C.type="NONE",C})();function ct(C,_,v){return`firebase:${C}:${_}:${v}`}class an{constructor(_,v,I){this.persistence=_,this.auth=v,this.userKey=I;const{config:S,name:R}=this.auth;this.fullUserKey=ct(this.userKey,S.apiKey,R),this.fullPersistenceKey=ct("persistence",S.apiKey,R),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,m.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?$e._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,m.Z)(function*(){if(v.persistence===_)return;const I=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,I?v.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,I="authUser"){return(0,m.Z)(function*(){if(!v.length)return new an(J(mt),_,I);const S=(yield Promise.all(v.map(function(){var Le=(0,m.Z)(function*(Ke){if(yield Ke._isAvailable())return Ke});return function(Ke){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let R=S[0]||J(mt);const $=ct(I,_.config.apiKey,_.name);let de=null;for(const Le of v)try{const Ke=yield Le._get($);if(Ke){const Ge=$e._fromJSON(_,Ke);Le!==R&&(de=Ge),R=Le;break}}catch(Ke){}const Te=S.filter(Le=>Le._shouldAllowMigration);return R._shouldAllowMigration&&Te.length?(R=Te[0],de&&(yield R._set($,de.toJSON())),yield Promise.all(v.map(function(){var Le=(0,m.Z)(function*(Ke){if(Ke!==R)try{yield Ke._remove($)}catch(Ge){}});return function(Ke){return Le.apply(this,arguments)}}())),new an(R,_,I)):new an(R,_,I)})()}}function nn(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Cp(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Sn(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(xl(_))return"Blackberry";if(zd(_))return"Webos";if(ss(_))return"Safari";if((_.includes("chrome/")||$o(_))&&!_.includes("edge/"))return"Chrome";if(Go(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Sn(C=(0,V.z$)()){return/firefox\//i.test(C)}function ss(C=(0,V.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function $o(C=(0,V.z$)()){return/crios\//i.test(C)}function Cp(C=(0,V.z$)()){return/iemobile/i.test(C)}function Go(C=(0,V.z$)()){return/android/i.test(C)}function xl(C=(0,V.z$)()){return/blackberry/i.test(C)}function zd(C=(0,V.z$)()){return/webos/i.test(C)}function ji(C=(0,V.z$)()){return/iphone|ipad|ipod/i.test(C)}function Kd(C=(0,V.z$)()){return ji(C)||Go(C)||zd(C)||xl(C)||/windows phone/i.test(C)||Cp(C)}function Ii(C,_=[]){let v;switch(C){case"Browser":v=nn((0,V.z$)());break;case"Worker":v=`${nn((0,V.z$)())}-${C}`;break;default:v=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${Q.SDK_VERSION}/${I}`}class Gs{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var I=this;return v&&(this._popupRedirectResolver=J(v)),this._initializationPromise=this.queue((0,m.Z)(function*(){var S;I._deleted||(I.persistenceManager=yield an.create(I,_),!I._deleted&&((null===(S=I._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(v),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,m.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,m.Z)(function*(){var I;let S=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const R=null===(I=v.redirectUser)||void 0===I?void 0:I._redirectEventId,$=null==S?void 0:S._redirectEventId,de=yield v.tryRedirectSignIn(_);(!R||R===$)&&(null==de?void 0:de.user)&&(S=de.user)}return S?S._redirectEventId?(se(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===S._redirectEventId?v.directlySetCurrentUser(S):v.reloadAndSetCurrentUserOrClear(S)):v.reloadAndSetCurrentUserOrClear(S):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,m.Z)(function*(){let I=null;try{I=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(S){yield v._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,m.Z)(function*(){try{yield Vt(_)}catch(I){if("auth/network-request-failed"!==I.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,m.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,m.Z)(function*(){const I=_?(0,V.m9)(_):null;return I&&se(I.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(I&&I._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,m.Z)(function*(){if(!v._deleted)return _&&se(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,m.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,m.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,m.Z)(function*(){yield v.assertedPersistence.setPersistence(J(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new V.LL("auth","Firebase",_())}onAuthStateChanged(_,v,I){return this.registerStateListener(this.authStateSubscription,_,v,I)}onIdTokenChanged(_,v,I){return this.registerStateListener(this.idTokenSubscription,_,v,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var I=this;return(0,m.Z)(function*(){const S=yield I.getOrInitRedirectPersistenceManager(v);return null===_?S.removeCurrentUser():S.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,m.Z)(function*(){if(!v.redirectPersistenceManager){const I=_&&J(_)||v._popupRedirectResolver;se(I,v,"argument-error"),v.redirectPersistenceManager=yield an.create(v,[J(I._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,m.Z)(function*(){var I,S;return v._isInitialized&&(yield v.queue((0,m.Z)(function*(){}))),(null===(I=v._currentUser)||void 0===I?void 0:I._redirectEventId)===_?v._currentUser:(null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,m.Z)(function*(){if(_===v.currentUser)return v.queue((0,m.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,I,S){if(this._deleted)return()=>{};const R="function"==typeof v?v:v.next.bind(v),$=this._isInitialized?Promise.resolve():this._initializationPromise;return se($,this,"internal-error"),$.then(()=>R(this.currentUser)),"function"==typeof v?_.addObserver(v,I,S):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,m.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Dt(C){return(0,V.m9)(C)}class Dp{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,V.ne)(v=>this.observer=v)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Me(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function jt(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Vr{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return wt("not implemented")}_getIdTokenResponse(_){return wt("not implemented")}_linkToIdToken(_,v){return wt("not implemented")}_getReauthenticationResolver(_){return wt("not implemented")}}function un(C,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:resetPassword",Ut(C,_))})).apply(this,arguments)}function Qt(C,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function su(C,_){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:update",Ut(C,_))})).apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithPassword",Ut(C,_))})).apply(this,arguments)}function Zo(C,_){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:sendOobCode",Ut(C,_))})).apply(this,arguments)}function sr(C,_){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,m.Z)(function*(C,_){return Zo(C,_)})).apply(this,arguments)}function Wo(C,_){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(C,_){return Zo(C,_)})).apply(this,arguments)}function kt(C,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,m.Z)(function*(C,_){return Zo(C,_)})).apply(this,arguments)}function Yd(C,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,m.Z)(function*(C,_){return Zo(C,_)})).apply(this,arguments)}function Ko(){return(Ko=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithEmailLink",Ut(C,_))})).apply(this,arguments)}function Hi(){return(Hi=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithEmailLink",Ut(C,_))})).apply(this,arguments)}class fn extends Vr{constructor(_,v,I,S=null){super("password",I),this._email=_,this._password=v,this._tenantId=S}static _fromEmailAndPassword(_,v){return new fn(_,v,"password")}static _fromEmailAndCode(_,v,I=null){return new fn(_,v,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,m.Z)(function*(){switch(v.signInMethod){case"password":return function(C,_){return os.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,_){return Ko.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Ae(_,"internal-error")}})()}_linkToIdToken(_,v){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return Qt(_,{idToken:v,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,_){return Hi.apply(this,arguments)}(_,{idToken:v,email:I._email,oobCode:I._password});default:Ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function $i(C,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithIdp",Ut(C,_))})).apply(this,arguments)}class Br extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Br(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Ae("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:S}=v,R=(0,le._T)(v,["providerId","signInMethod"]);if(!I||!S)return null;const $=new Br(I,S);return Object.assign($,R),$}_getIdTokenResponse(_){return $i(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,$i(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,$i(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,V.xO)(v)}return _}}function Rl(C,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:sendVerificationCode",Ut(C,_))})).apply(this,arguments)}function Jd(){return(Jd=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithPhoneNumber",Ut(C,_))})).apply(this,arguments)}function Xd(){return(Xd=(0,m.Z)(function*(C,_){const v=yield dr(C,"POST","/v1/accounts:signInWithPhoneNumber",Ut(C,_));if(v.temporaryProof)throw qn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Uy={USER_NOT_FOUND:"user-not-found"};function Tp(){return(Tp=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithPhoneNumber",Ut(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Uy)})).apply(this,arguments)}class Qo extends Vr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Qo({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Qo({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(C,_){return Jd.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(C,_){return Xd.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(C,_){return Tp.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:I,verificationCode:S}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:I,code:S}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:I,phoneNumber:S,temporaryProof:R}=_;return I||v||S||R?new Qo({verificationId:v,verificationCode:I,phoneNumber:S,temporaryProof:R}):null}}class Ml{constructor(_){var v,I,S,R,$,de;const Te=(0,V.zd)((0,V.pd)(_)),Le=null!==(v=Te.apiKey)&&void 0!==v?v:null,Ke=null!==(I=Te.oobCode)&&void 0!==I?I:null,Ge=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Te.mode)&&void 0!==S?S:null);se(Le&&Ke&&Ge,"argument-error"),this.apiKey=Le,this.operation=Ge,this.code=Ke,this.continueUrl=null!==(R=Te.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==($=Te.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(de=Te.tenantId)&&void 0!==de?de:null}static parseLink(_){const v=function(C){const _=(0,V.zd)((0,V.pd)(C)).link,v=_?(0,V.zd)((0,V.pd)(_)).deep_link_id:null,I=(0,V.zd)((0,V.pd)(C)).deep_link_id;return(I?(0,V.zd)((0,V.pd)(I)).link:null)||I||v||_||C}(_);try{return new Ml(v)}catch(I){return null}}}let Ap=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,I){return fn._fromEmailAndPassword(v,I)}static credentialWithLink(v,I){const S=Ml.parseLink(I);return se(S,"argument-error"),fn._fromEmailAndCode(v,S.code,S.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class us{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class uu extends us{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class lu extends uu{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return se("providerId"in v&&"signInMethod"in v,"argument-error"),Br._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return se(_.idToken||_.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return lu.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return lu.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:I,oauthTokenSecret:S,pendingToken:R,nonce:$,providerId:de}=_;if(!I&&!S&&!v&&!R||!de)return null;try{return new lu(de)._credential({idToken:v,accessToken:I,rawNonce:$,pendingToken:R})}catch(Te){return null}}}let By=(()=>{class C extends uu{constructor(){super("facebook.com")}static credential(v){return Br._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),eh=(()=>{class C extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(v,I){return Br._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:I,oauthAccessToken:S}=v;if(!I&&!S)return null;try{return C.credential(I,S)}catch(R){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),th=(()=>{class C extends uu{constructor(){super("github.com")}static credential(v){return Br._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ws extends Vr{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return $i(_,this.buildRequest())}_linkToIdToken(_,v){const I=this.buildRequest();return I.idToken=v,$i(_,I)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,$i(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:S,pendingToken:R}=v;return I&&S&&R&&I===S?new Ws(I,R):null}static _create(_,v){return new Ws(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let jy=(()=>{class C extends uu{constructor(){super("twitter.com")}static credential(v,I){return Br._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:I})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:I,oauthTokenSecret:S}=v;if(!I||!S)return null;try{return C.credential(I,S)}catch(R){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function ls(C,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signUp",Ut(C,_))})).apply(this,arguments)}class Cr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,I,S=!1){return(0,m.Z)(function*(){const R=yield $e._fromIdTokenResponse(_,I,S),$=Pl(I);return new Cr({user:R,providerId:$,_tokenResponse:I,operationType:v})})()}static _forOperation(_,v,I){return(0,m.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const S=Pl(I);return new Cr({user:_,providerId:S,_tokenResponse:I,operationType:v})})()}}function Pl(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function xp(){return(xp=(0,m.Z)(function*(C){var _;const v=Dt(C);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Cr({user:v.currentUser,providerId:null,operationType:"signIn"});const I=yield ls(v,{returnSecureToken:!0}),S=yield Cr._fromIdTokenResponse(v,"signIn",I,!0);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}class kl extends V.ZR{constructor(_,v,I,S){var R;super(v.code,v.message),this.operationType=I,this.user=S,this.name="FirebaseError",Object.setPrototypeOf(this,kl.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(R=_.tenantId)&&void 0!==R?R:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,I,S){return new kl(_,v,I,S)}}function Fl(C,_,v,I){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?kl._fromErrorAndOperation(C,R,_,I):R})}function Np(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function rh(){return(rh=(0,m.Z)(function*(C,_){const v=(0,V.m9)(C);yield cu(!0,v,_);const{providerUserInfo:I}=yield $s(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),S=Np(I||[]);return v.providerData=v.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ir(C,_){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,m.Z)(function*(C,_,v=!1){const I=yield Pe(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return Cr._forOperation(C,"link",I)})).apply(this,arguments)}function cu(C,_,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(C,_,v){yield Vt(_);const S=!1===C?"provider-already-linked":"no-such-provider";se(Np(_.providerData).has(v)===C,_.auth,S)})).apply(this,arguments)}function Jo(C,_){return du.apply(this,arguments)}function du(){return(du=(0,m.Z)(function*(C,_,v=!1){const{auth:I}=C,S="reauthenticate";try{const R=yield Pe(C,Fl(I,S,_,C),v);se(R.idToken,I,"internal-error");const $=Ht(R.idToken);se($,I,"internal-error");const{sub:de}=$;return se(C.uid===de,I,"user-mismatch"),Cr._forOperation(C,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ae(I,"user-mismatch"),R}})).apply(this,arguments)}function Ul(C,_){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(function*(C,_,v=!1){const I="signIn",S=yield Fl(C,I,_),R=yield Cr._fromIdTokenResponse(C,I,S);return v||(yield C._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Bl(C,_){return jl.apply(this,arguments)}function jl(){return(jl=(0,m.Z)(function*(C,_){return Ul(Dt(C),_)})).apply(this,arguments)}function Rp(C,_){return qt.apply(this,arguments)}function qt(){return(qt=(0,m.Z)(function*(C,_){const v=(0,V.m9)(C);return yield cu(!1,v,_.providerId),Ir(v,_)})).apply(this,arguments)}function Mp(C,_){return Op.apply(this,arguments)}function Op(){return(Op=(0,m.Z)(function*(C,_){return Jo((0,V.m9)(C),_)})).apply(this,arguments)}function Hl(C,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,m.Z)(function*(C,_){return dr(C,"POST","/v1/accounts:signInWithCustomToken",Ut(C,_))})).apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(C,_){const v=Dt(C),I=yield Hl(v,{token:_,returnSecureToken:!0}),S=yield Cr._fromIdTokenResponse(v,"signIn",I);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}class ds{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?or._fromServerResponse(_,v):Ae(_,"internal-error")}}class or extends ds{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new or(v)}}function hu(C,_,v){var I;se((null===(I=v.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),se(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(se(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iosBundleId=v.iOS.bundleId),v.android&&(se(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function $l(){return($l=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C),S={requestType:"PASSWORD_RESET",email:_};v&&hu(I,S,v),yield Wo(I,S)})).apply(this,arguments)}function Gl(){return(Gl=(0,m.Z)(function*(C,_,v){yield un((0,V.m9)(C),{oobCode:_,newPassword:v})})).apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(C,_){yield su((0,V.m9)(C),{oobCode:_})})).apply(this,arguments)}function Hy(C,_){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,m.Z)(function*(C,_){const v=(0,V.m9)(C),I=yield un(v,{oobCode:_}),S=I.requestType;switch(se(S,v,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(I.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(I.mfaInfo,v,"internal-error");default:se(I.email,v,"internal-error")}let R=null;return I.mfaInfo&&(R=ds._fromServerResponse(Dt(v),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function fu(){return(fu=(0,m.Z)(function*(C,_){const{data:v}=yield Hy((0,V.m9)(C),_);return v.email})).apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(C,_,v){const I=Dt(C),S=yield ls(I,{returnSecureToken:!0,email:_,password:v}),R=yield Cr._fromIdTokenResponse(I,"signIn",S);return yield I._updateCurrentUser(R.user),R})).apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C),S={requestType:"EMAIL_SIGNIN",email:_};se(v.handleCodeInApp,I,"argument-error"),v&&hu(I,S,v),yield kt(I,S)})).apply(this,arguments)}function Zl(){return(Zl=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C),S=Ap.credentialWithLink(_,v||re());return se(S._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Bl(I,S)})).apply(this,arguments)}function pu(C,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:createAuthUri",Ut(C,_))})).apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(C,_){const I={identifier:_,continueUri:W()?re():"http://localhost"},{signinMethods:S}=yield pu((0,V.m9)(C),I);return S||[]})).apply(this,arguments)}function Fp(){return(Fp=(0,m.Z)(function*(C,_){const v=(0,V.m9)(C),S={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&hu(v.auth,S,_);const{email:R}=yield sr(v.auth,S);R!==C.email&&(yield C.reload())})).apply(this,arguments)}function ps(){return(ps=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&hu(I.auth,R,v);const{email:$}=yield Yd(I.auth,R);$!==C.email&&(yield C.reload())})).apply(this,arguments)}function pr(C,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(C,_){return lt(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function gs(){return(gs=(0,m.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const I=(0,V.m9)(C),R={idToken:yield I.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},$=yield Pe(I,pr(I.auth,R));I.displayName=$.displayName||null,I.photoURL=$.photoUrl||null;const de=I.providerData.find(({providerId:Te})=>"password"===Te);de&&(de.displayName=I.displayName,de.photoURL=I.photoURL),yield I._updateTokensIfNecessary($)})).apply(this,arguments)}function lh(C,_,v){return gu.apply(this,arguments)}function gu(){return(gu=(0,m.Z)(function*(C,_,v){const{auth:I}=C,R={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(R.email=_),v&&(R.password=v);const $=yield Pe(C,Qt(I,R));yield C._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class ms{constructor(_,v,I={}){this.isNewUser=_,this.providerId=v,this.profile=I}}class Wl extends ms{constructor(_,v,I,S){super(_,v,I),this.username=S}}class Vp extends ms{constructor(_,v){super(_,"facebook.com",v)}}class Up extends Wl{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class qy extends ms{constructor(_,v){super(_,"google.com",v)}}class Zy extends Wl{constructor(_,v,I){super(_,"twitter.com",v,I)}}function mu(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var _,v;if(!C)return null;const{providerId:I}=C,S=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},R=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const $=null===(v=null===(_=Ht(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if($)return new ms(R,"anonymous"!==$&&"custom"!==$?$:null)}if(!I)return null;switch(I){case"facebook.com":return new Vp(R,S);case"github.com":return new Up(R,S);case"google.com":return new qy(R,S);case"twitter.com":return new Zy(R,S,C.screenName||null);case"custom":case"anonymous":return new ms(R,null);default:return new ms(R,I,S)}}(v)}class gr{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new gr("enroll",_)}static _fromMfaPendingCredential(_){return new gr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,I;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return gr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return gr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Zt{constructor(_,v,I){this.session=_,this.hints=v,this.signInResolver=I}static _fromError(_,v){const I=Dt(_),S=(v.serverResponse.mfaInfo||[]).map($=>ds._fromServerResponse(I,$));se(v.serverResponse.mfaPendingCredential,I,"internal-error");const R=gr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Zt(R,S,function(){var $=(0,m.Z)(function*(de){const Te=yield de._process(I,R);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const Le=Object.assign(Object.assign({},v.serverResponse),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(v.operationType){case"signIn":const Ke=yield Cr._fromIdTokenResponse(I,v.operationType,Le);return yield I._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return se(v.user,I,"internal-error"),Cr._forOperation(v.user,v.operationType,Le);default:Ae(I,"internal-error")}});return function(de){return $.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,m.Z)(function*(){return v.signInResolver(_)})()}}function Ky(C,_){return lt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},_))}class ch{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(I=>ds._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new ch(_)}getSession(){var _=this;return(0,m.Z)(function*(){return gr._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var I=this;return(0,m.Z)(function*(){const S=_,R=yield I.getSession(),$=yield Pe(I.user,S._process(I.user.auth,R,v));return yield I.user._updateTokensIfNecessary($),I.user.reload()})()}unenroll(_){var v=this;return(0,m.Z)(function*(){const I="string"==typeof _?_:_.uid,S=yield v.user.getIdToken(),R=yield Pe(v.user,function(C,_){return lt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},_))}(v.user.auth,{idToken:S,mfaEnrollmentId:I}));v.enrolledFactors=v.enrolledFactors.filter(({uid:$})=>$!==I),yield v.user._updateTokensIfNecessary(R);try{yield v.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const dh=new WeakMap,Qs="__sak";class Ql{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Qs,"1"),this.storage.removeItem(Qs),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const ys=(()=>{class C extends Ql{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,V.z$)();return ss(C)||ji(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Kd(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const I of Object.keys(this.listeners)){const S=this.storage.getItem(I),R=this.localCache[I];S!==R&&v(I,R,S)}}onStorageEvent(v,I=!1){if(!v.key)return void this.forAllChangedKeys((de,Te,Le)=>{this.notifyListeners(de,Le)});const S=v.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(S);if(v.newValue!==de)null!==v.newValue?this.storage.setItem(S,v.newValue):this.storage.removeItem(S);else if(this.localCache[S]===v.newValue&&!I)return}const R=()=>{const de=this.storage.getItem(S);!I&&this.localCache[S]===de||this.notifyListeners(S,de)},$=this.storage.getItem(S);(0,V.w1)()&&10===document.documentMode&&$!==v.newValue&&v.newValue!==v.oldValue?setTimeout(R,10):R()}notifyListeners(v,I){this.localCache[v]=I;const S=this.listeners[v];if(S)for(const R of Array.from(S))R(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,I,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:I,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,I){var S=()=>super._set,R=this;return(0,m.Z)(function*(){yield S().call(R,v,I),R.localCache[v]=JSON.stringify(I)})()}_get(v){var I=()=>super._get,S=this;return(0,m.Z)(function*(){const R=yield I().call(S,v);return S.localCache[v]=JSON.stringify(R),R})()}_remove(v){var I=()=>super._remove,S=this;return(0,m.Z)(function*(){yield I().call(S,v),delete S.localCache[v]})()}}return C.type="LOCAL",C})(),_s=(()=>{class C extends Ql{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,I){}_removeListener(v,I){}}return C.type="SESSION",C})();let Gp=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const I=this.receivers.find(R=>R.isListeningto(v));if(I)return I;const S=new C(v);return this.receivers.push(S),S}isListeningto(v){return this.eventTarget===v}handleEvent(v){var I=this;return(0,m.Z)(function*(){const S=v,{eventId:R,eventType:$,data:de}=S.data,Te=I.handlersMap[$];if(!(null==Te?void 0:Te.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:$});const Le=Array.from(Te).map(function(){var Ge=(0,m.Z)(function*(wn){return wn(S.origin,de)});return function(wn){return Ge.apply(this,arguments)}}()),Ke=yield function(C){return Promise.all(C.map(function(){var _=(0,m.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(I){return{fulfilled:!1,reason:I}}});return function(v){return _.apply(this,arguments)}}()))}(Le);S.ports[0].postMessage({status:"done",eventId:R,eventType:$,response:Ke})})()}_subscribe(v,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(I)}_unsubscribe(v,I){this.handlersMap[v]&&I&&this.handlersMap[v].delete(I),(!I||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function yu(C="",_=10){let v="";for(let I=0;I<_;I++)v+=Math.floor(10*Math.random());return C+v}class vs{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,I=50){var S=this;return(0,m.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let $,de;return new Promise((Te,Le)=>{const Ke=yu("",20);R.port1.start();const Ge=setTimeout(()=>{Le(new Error("unsupported_event"))},I);de={messageChannel:R,onMessage(wn){const Wr=wn;if(Wr.data.eventId===Ke)switch(Wr.data.status){case"ack":clearTimeout(Ge),$=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Te(Wr.data.response);break;default:clearTimeout(Ge),clearTimeout($),Le(new Error("invalid_response"))}}},S.handlers.add(de),R.port1.addEventListener("message",de.onMessage),S.target.postMessage({eventType:_,eventId:Ke,data:v},[R.port2])}).finally(()=>{de&&S.removeMessageHandler(de)})})()}}function xn(){return window}function Es(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function Xl(){return(Xl=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ph="firebaseLocalStorageDb",ec="firebaseLocalStorage",ea="fbase_key";class ta{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function na(C,_){return C.transaction([ec],_?"readwrite":"readonly").objectStore(ec)}function gh(){const C=indexedDB.open(ph,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(ec,{keyPath:ea})}catch(S){v(S)}}),C.addEventListener("success",(0,m.Z)(function*(){const I=C.result;I.objectStoreNames.contains(ec)?_(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(ph);return new ta(C).toPromise()}(),_(yield gh()))}))})}function mh(C,_,v){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(function*(C,_,v){const I=na(C,!0).put({[ea]:_,value:v});return new ta(I).toPromise()})).apply(this,arguments)}function qi(){return(qi=(0,m.Z)(function*(C,_){const v=na(C,!1).get(_),I=yield new ta(v).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function nt(C,_){const v=na(C,!0).delete(_);return new ta(v).toPromise()}const ia=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,m.Z)(function*(){return v.db||(v.db=yield gh()),v.db})()}_withRetries(v){var I=this;return(0,m.Z)(function*(){let S=0;for(;;)try{const R=yield I._openDb();return yield v(R)}catch(R){if(S++>3)throw R;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,m.Z)(function*(){return Es()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,m.Z)(function*(){v.receiver=Gp._getInstance(Es()?self:null),v.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(S,R){return{keyProcessed:(yield v._poll()).includes(R.key)}});return function(S,R){return I.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return I.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,m.Z)(function*(){var I,S;if(v.activeServiceWorker=yield function(){return Xl.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new vs(v.activeServiceWorker);const R=yield v.sender._send("ping",{},800);!R||(null===(I=R[0])||void 0===I?void 0:I.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:v},I.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const v=yield gh();return yield mh(v,Qs,"1"),yield nt(v,Qs),!0}catch(v){}return!1})()}_withPendingWrite(v){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield v()}finally{I.pendingWrites--}})()}_set(v,I){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(R=>mh(R,v,I)),S.localCache[v]=I,S.notifyServiceWorker(v)}))})()}_get(v){var I=this;return(0,m.Z)(function*(){const S=yield I._withRetries(R=>function(C,_){return qi.apply(this,arguments)}(R,v));return I.localCache[v]=S,S})()}_remove(v){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(S=>nt(S,v)),delete I.localCache[v],I.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,m.Z)(function*(){const I=yield v._withRetries($=>{const de=na($,!1).getAll();return new ta(de).toPromise()});if(!I)return[];if(0!==v.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:$,value:de}of I)R.add($),JSON.stringify(v.localCache[$])!==JSON.stringify(de)&&(v.notifyListeners($,de),S.push($));for(const $ of Object.keys(v.localCache))v.localCache[$]&&!R.has($)&&(v.notifyListeners($,null),S.push($));return S})()}notifyListeners(v,I){this.localCache[v]=I;const S=this.listeners[v];if(S)for(const R of Array.from(S))R(I)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(I)}_removeListener(v,I){this.listeners[v]&&(this.listeners[v].delete(I),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function ws(C,_){return lt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},_))}function vu(){return(vu=(0,m.Z)(function*(C){return(yield lt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zp(C){return new Promise((_,v)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=S=>{const R=Ne("internal-error");R.customData=S,v(R)},I.type="text/javascript",I.charset="UTF-8",function(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function Eu(C){return`__${C}${Math.floor(1e6*Math.random())}`}const sa=1e12;class Bn{constructor(_){this.auth=_,this.counter=sa,this._widgets=new Map}render(_,v){const I=this.counter;return this._widgets.set(I,new Tr(_,this.auth.name,v||{})),this.counter++,I}reset(_){var v;const I=_||sa;null===(v=this._widgets.get(I))||void 0===v||v.delete(),this._widgets.delete(I)}getResponse(_){var v;return(null===(v=this._widgets.get(_||sa))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,m.Z)(function*(){var I;return null===(I=v._widgets.get(_||sa))||void 0===I||I.execute(),""})()}}class Tr{constructor(_,v,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof _?document.getElementById(_):_;se(S,"argument-error",{appName:v}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nc=Eu("rcb"),rc=new He(3e4,6e4);class to{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(_,v=""){return se((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(xn().grecaptcha):new Promise((I,S)=>{const R=xn().setTimeout(()=>{S(Ne(_,"network-request-failed"))},rc.get());xn()[nc]=()=>{xn().clearTimeout(R),delete xn()[nc];const de=xn().grecaptcha;if(!de)return void S(Ne(_,"internal-error"));const Te=de.render;de.render=(Le,Ke)=>{const Ge=Te(Le,Ke);return this.counter++,Ge},this.hostLanguage=v,I(de)},Zp(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:nc,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(R),S(Ne(_,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!xn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oa{load(_){return(0,m.Z)(function*(){return new Bn(_)})()}clearedOneInstance(){}}const wu="recaptcha",Cs={theme:"light",type:"image"};class e_{constructor(_,v=Object.assign({},Cs),I){this.parameters=v,this.type=wu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(I),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof _?document.getElementById(_):_;se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oa:new to,this.validateStartingState()}verify(){var _=this;return(0,m.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(v)||new Promise(R=>{const $=de=>{!de||(_.tokenChangeListeners.delete($),R(de))};_.tokenChangeListeners.add($),_.isInvisible&&I.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(I=>I(v)),"function"==typeof _)_(v);else if("string"==typeof _){const I=xn()[_];"function"==typeof I&&I(v)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,m.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const I=document.createElement("div");v.appendChild(I),v=I}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,m.Z)(function*(){se(W()&&!Es(),_.auth,"internal-error"),yield function(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(C){return vu.apply(this,arguments)}(_.auth);se(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Qo._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function sc(){return(sc=(0,m.Z)(function*(C,_,v){const I=Dt(C),S=yield bu(I,_,(0,V.m9)(v));return new ic(S,R=>Bl(I,R))})).apply(this,arguments)}function _h(){return(_h=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C);yield cu(!1,I,"phone");const S=yield bu(I.auth,_,(0,V.m9)(v));return new ic(S,R=>Rp(I,R))})).apply(this,arguments)}function Eh(){return(Eh=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C),S=yield bu(I.auth,_,(0,V.m9)(v));return new ic(S,R=>Mp(I,R))})).apply(this,arguments)}function bu(C,_,v){return wh.apply(this,arguments)}function wh(){return(wh=(0,m.Z)(function*(C,_,v){var I;const S=yield v.verify();try{let R;if(se("string"==typeof S,C,"argument-error"),se(v.type===wu,C,"argument-error"),R="string"==typeof _?{phoneNumber:_}:_,"session"in R){const $=R.session;if("phoneNumber"in R)return se("enroll"===$.type,C,"internal-error"),(yield Ky(C,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{se("signin"===$.type,C,"internal-error");const de=(null===(I=R.multiFactorHint)||void 0===I?void 0:I.uid)||R.multiFactorUid;return se(de,C,"missing-multi-factor-info"),(yield ws(C,{mfaPendingCredential:$.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Rl(C,{phoneNumber:R.phoneNumber,recaptchaToken:S});return $}}finally{v._reset()}})).apply(this,arguments)}function bh(){return(bh=(0,m.Z)(function*(C,_){yield Ir((0,V.m9)(C),_)})).apply(this,arguments)}let Cu=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Dt(v)}verifyPhoneNumber(v,I){return bu(this.auth,v,(0,V.m9)(I))}static credential(v,I){return Qo._fromVerification(v,I)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:I,temporaryProof:S}=v;return I&&S?Qo._fromTokenResponse(I,S):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function io(C,_){return _?J(_):(se(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class oc extends Vr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return $i(_,this._buildIdpRequest())}_linkToIdToken(_,v){return $i(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return $i(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Ch(C){return Ul(C.auth,new oc(C),C.bypassAuthState)}function aa(C){const{auth:_,user:v}=C;return se(v,_,"internal-error"),Jo(v,new oc(C),C.bypassAuthState)}function n_(C){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(C){const{auth:_,user:v}=C;return se(v,_,"internal-error"),Ir(v,new oc(C),C.bypassAuthState)})).apply(this,arguments)}class En{constructor(_,v,I,S,R=!1){this.auth=_,this.resolver=I,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,m.Z)(function*(I,S){_.pendingPromise={resolve:I,reject:S};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(R){_.reject(R)}});return function(I,S){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:S,postBody:R,tenantId:$,error:de,type:Te}=_;if(de)return void v.reject(de);const Le={auth:v.auth,requestUri:I,sessionId:S,tenantId:$||void 0,postBody:R||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Te)(Le))}catch(Ke){v.reject(Ke)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ch;case"linkViaPopup":case"linkViaRedirect":return n_;case"reauthViaPopup":case"reauthViaRedirect":return aa;default:Ae(this.auth,"internal-error")}}resolve(_){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oi=new He(2e3,1e4);function Kp(){return(Kp=(0,m.Z)(function*(C,_,v){const I=Dt(C);se(_ instanceof us,C,"argument-error");const S=io(I,v);return new Di(I,"signInViaPopup",_,S).executeNotNull()})).apply(this,arguments)}function $r(){return($r=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C);se(_ instanceof us,I.auth,"argument-error");const S=io(I.auth,v);return new Di(I.auth,"reauthViaPopup",_,S,I).executeNotNull()})).apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C);se(_ instanceof us,I.auth,"argument-error");const S=io(I.auth,v);return new Di(I.auth,"linkViaPopup",_,S,I).executeNotNull()})).apply(this,arguments)}let Di=(()=>{class C extends En{constructor(v,I,S,R,$){super(v,I,R,$),this.provider=S,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,m.Z)(function*(){const I=yield v.execute();return se(I,v.auth,"internal-error"),I})()}onExecution(){var v=this;return(0,m.Z)(function*(){Je(1===v.filter.length,"Popup operations only handle one event");const I=yu();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],I),v.authWindow.associatedEvent=I,v.resolver._originValidation(v.auth).catch(S=>{v.reject(S)}),v.resolver._isIframeWebStorageSupported(v.auth,S=>{S||v.reject(Ne(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var I,S;this.pollId=(null===(S=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,oi.get())};v()}}return C.currentPopupAction=null,C})();const so=new Map;class uc extends En{constructor(_,v,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,m.Z)(function*(){let I=so.get(v.auth._key());if(!I){try{const R=(yield function(C,_){return Yp.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;I=()=>Promise.resolve(R)}catch(S){I=()=>Promise.reject(S)}so.set(v.auth._key(),I)}return I()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(I,_);if("unknown"!==_.type){if(_.eventId){const S=yield I.auth._redirectUserForId(_.eventId);if(S)return I.user=S,v().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Yp(){return(Yp=(0,m.Z)(function*(C,_){const v=Qp(_),I="true"===(yield Is(C)._get(v));return yield Is(C)._remove(v),I})).apply(this,arguments)}function ua(C,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(C,_){return Is(C)._set(Qp(_),"true")})).apply(this,arguments)}function Is(C){return J(C._redirectPersistence)}function Qp(C){return ct("pendingRedirect",C.config.apiKey,C.name)}function Th(){return(Th=(0,m.Z)(function*(C,_,v){const I=Dt(C);se(_ instanceof us,C,"argument-error");const S=io(I,v);return yield ua(S,I),S._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function Du(){return(Du=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C);se(_ instanceof us,I.auth,"argument-error");const S=io(I.auth,v);yield ua(S,I.auth);const R=yield oo(I);return S._openRedirect(I.auth,_,"reauthViaRedirect",R)})).apply(this,arguments)}function Ds(){return(Ds=(0,m.Z)(function*(C,_,v){const I=(0,V.m9)(C);se(_ instanceof us,I.auth,"argument-error");const S=io(I.auth,v);yield cu(!1,I,_.providerId),yield ua(S,I.auth);const R=yield oo(I);return S._openRedirect(I.auth,_,"linkViaRedirect",R)})).apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(C,_){return yield Dt(C)._initializationPromise,Ti(C,_,!1)})).apply(this,arguments)}function Ti(C,_){return ui.apply(this,arguments)}function ui(){return(ui=(0,m.Z)(function*(C,_,v=!1){const I=Dt(C),S=io(I,_),$=yield new uc(I,S,v).execute();return $&&!v&&(delete $.user._redirectEventId,yield I._persistUserIfCurrent($.user),yield I._setRedirectUser(null,_)),$})).apply(this,arguments)}function oo(C){return ao.apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(C){const _=yu(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class ca{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(v=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var I;if(_.error&&!da(_)){const S=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";v.onError(Ne(this.auth,S))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const I=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eg(_))}saveEventToCache(_){this.cachedEventUids.add(eg(_)),this.lastProcessedEventTime=Date.now()}}function eg(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function da({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Zi(C){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(C,_={}){return lt(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Xt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cc=/^https?/;function Wi(){return(Wi=(0,m.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Zi(C);for(const v of _)try{if(dc(v))return}catch(I){}Ae(C,"unauthorized-domain")})).apply(this,arguments)}function dc(C){const _=re(),{protocol:v,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const $=new URL(C);return""===$.hostname&&""===I?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&$.hostname===I}if(!cc.test(v))return!1;if(Xt.test(C))return I===C;const S=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)}const Su=new He(3e4,6e4);function xu(){const C=xn().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let tg=null;function fa(C){return tg=tg||function(C){return new Promise((_,v)=>{var I,S,R;function $(){xu(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{xu(),v(Ne(C,"network-request-failed"))},timeout:Su.get()})}if(null===(S=null===(I=xn().gapi)||void 0===I?void 0:I.iframes)||void 0===S?void 0:S.Iframe)_(gapi.iframes.getContext());else{if(!(null===(R=xn().gapi)||void 0===R?void 0:R.load)){const de=Eu("iframefcb");return xn()[de]=()=>{gapi.load?$():v(Ne(C,"network-request-failed"))},Zp(`https://apis.google.com/js/api.js?onload=${de}`)}$()}}).catch(_=>{throw tg=null,_})}(C),tg}const Ai=new He(5e3,15e3),ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nh(C){const _=C.config;se(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?rt(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:Q.SDK_VERSION},S=xh.get(C.config.apiHost);S&&(I.eid=S);const R=C._getFrameworks();return R.length&&(I.fw=R.join(",")),`${v}?${(0,V.xO)(I).slice(1)}`}function Nu(){return(Nu=(0,m.Z)(function*(C){const _=yield fa(C),v=xn().gapi;return se(v,C,"internal-error"),_.open({where:document.body,url:Nh(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ng,dontclear:!0},I=>new Promise(function(){var S=(0,m.Z)(function*(R,$){yield I.restyle({setHideOnLeave:!1});const de=Ne(C,"network-request-failed"),Te=xn().setTimeout(()=>{$(de)},Ai.get());function Le(){xn().clearTimeout(Te),R(I)}I.ping(Le).then(Le,()=>{$(de)})});return function(R,$){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const o_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a_{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Oh(C,_,v,I,S,R){se(C.config.authDomain,C,"auth-domain-config-required"),se(C.config.apiKey,C,"invalid-api-key");const $={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:I,v:Q.SDK_VERSION,eventId:S};if(_ instanceof us){_.setDefaultLanguage(C.languageCode),$.providerId=_.providerId||"",(0,V.xb)(_.getCustomParameters())||($.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Te,Le]of Object.entries(R||{}))$[Te]=Le}if(_ instanceof uu){const Te=_.getScopes().filter(Le=>""!==Le);Te.length>0&&($.scopes=Te.join(","))}C.tenantId&&($.tid=C.tenantId);const de=$;for(const Te of Object.keys(de))void 0===de[Te]&&delete de[Te];return`${function({config:C}){return C.emulator?rt(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,V.xO)(de).slice(1)}`}const pa="webStorageSupport";class pc extends class{constructor(_){this.factorId=_}_process(_,v,I){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,I);case"signin":return this._finalizeSignIn(_,v.credential);default:return wt("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new pc(_)}_finalizeEnroll(_,v,I){return function(C,_){return lt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{idToken:v,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(C,_){return lt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kw{constructor(){}static assertion(_){return pc._fromCredential(_)}}var C;class Lh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,m.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(I=>{var S;_((null===(S=I)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ho(){return window}function ag(){return(ag=(0,m.Z)(function*(C,_,v){var I;const{BuildInfo:S}=ho();Je(_.sessionId,"AuthEvent did not contain a session ID");const R=yield l_(_.sessionId),$={};return ji()?$.ibi=S.packageName:Go()?$.apn=S.packageName:Ae(C,"operation-not-supported-in-this-environment"),S.displayName&&($.appDisplayName=S.displayName),$.sessionId=R,Oh(C,v,_.type,void 0,null!==(I=_.eventId)&&void 0!==I?I:void 0,$)})).apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(C){const{BuildInfo:_}=ho(),v={};ji()?v.iosBundleId=_.packageName:Go()?v.androidPackageName=_.packageName:Ae(C,"operation-not-supported-in-this-environment"),yield Zi(C,v)})).apply(this,arguments)}function Bh(){return(Bh=(0,m.Z)(function*(C,_,v){const{cordova:I}=ho();let S=()=>{};try{yield new Promise((R,$)=>{let de=null;function Te(){var Ge;R();const wn=null===(Ge=I.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof wn&&wn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Le(){de||(de=window.setTimeout(()=>{$(Ne(C,"redirect-cancelled-by-user"))},2e3))}function Ke(){"visible"===(null==document?void 0:document.visibilityState)&&Le()}_.addPassiveListener(Te),document.addEventListener("resume",Le,!1),Go()&&document.addEventListener("visibilitychange",Ke,!1),S=()=>{_.removePassiveListener(Te),document.removeEventListener("resume",Le,!1),document.removeEventListener("visibilitychange",Ke,!1),de&&window.clearTimeout(de)}})}finally{S()}})).apply(this,arguments)}function l_(C){return mc.apply(this,arguments)}function mc(){return(mc=(0,m.Z)(function*(C){const _=c_(C),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function c_(C){if(Je(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),v=new Uint8Array(_);for(let I=0;I<C.length;I++)v[I]=C.charCodeAt(I);return v}C="Browser",(0,Q._registerComponent)(new he.wA("auth",(_,{options:v})=>{const I=_.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=I.options;return($=>{se(S&&!S.includes(":"),"invalid-api-key",{appName:$.name}),se(!(null==R?void 0:R.includes(":")),"argument-error",{appName:$.name});const de={apiKey:S,authDomain:R,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(C)},Te=new Gs($,de);return function(C,_){const v=(null==_?void 0:_.persistence)||[],I=(Array.isArray(v)?v:[v]).map(J);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(Te,v),Te})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,I)=>{_.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new he.wA("auth-internal",_=>{const v=Dt(_.getProvider("auth").getImmediate());return new Lh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)("@firebase/auth","0.17.1",void 0);class jh extends ca{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,m.Z)(function*(){yield _.initPromise})()}}function Hh(C){return dg.apply(this,arguments)}function dg(){return(dg=(0,m.Z)(function*(C){const _=yield ku()._get(Gr(C));return _&&(yield ku()._remove(Gr(C))),_})).apply(this,arguments)}function Pu(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const I=Math.floor(Math.random()*_.length);C.push(_.charAt(I))}return C.join("")}function ku(){return J(ys)}function Gr(C){return ct("authEvent",C.config.apiKey,C.name)}function yc(C){if(!(null==C?void 0:C.includes("?")))return{};const[_,...v]=C.split("?");return(0,V.zd)(v.join("?"))}function Lw(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function ci(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function zi(C=(0,V.z$)()){return!("file:"!==ci()&&"ionic:"!==ci()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fu(){try{const C=self.localStorage,_=yu();if(C)return C.setItem(_,"1"),C.removeItem(_),!function(C=(0,V.z$)()){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,V.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,V.hl)()}catch(C){return _c()&&(0,V.hl)()}return!1}function _c(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lu(){return("http:"===ci()||"https:"===ci()||(0,V.ru)()||zi())&&!((0,V.b$)()||(0,V.UG)())&&Fu()&&!_c()}function _g(){return zi()&&"undefined"!=typeof document}function vc(){return(vc=(0,m.Z)(function*(){return!!_g()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},po=se,$h="persistence";function ya(C){return _a.apply(this,arguments)}function _a(){return(_a=(0,m.Z)(function*(C){yield C._initializationPromise;const _=Ec(),v=ct($h,C.config.apiKey,C.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,C._getPersistence())})).apply(this,arguments)}function Ec(){return"undefined"!=typeof window?window:null}const go=se;class Ts{constructor(){this.browserResolver=J(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Ti}_openPopup(_,v,I,S){var R=this;return(0,m.Z)(function*(){var $;Je(null===($=R.eventManagers[_._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const de=Oh(_,v,I,re(),S);return function(C,_,v,I=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-I)/2,0).toString();let de="";const Te=Object.assign(Object.assign({},o_),{width:I.toString(),height:S.toString(),top:R,left:$}),Le=(0,V.z$)().toLowerCase();v&&(de=$o(Le)?"_blank":v),Sn(Le)&&(_=_||"http://localhost",Te.scrollbars="yes");const Ke=Object.entries(Te).reduce((wn,[Wr,_o])=>`${wn}${Wr}=${_o},`,"");if(function(C=(0,V.z$)()){var _;return ji(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(Le)&&"_self"!==de)return function(C,_){const v=document.createElement("a");v.href=C,v.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(I)}(_||"",de),new a_(null);const Ge=window.open(_||"",de,Ke);se(Ge,C,"popup-blocked");try{Ge.focus()}catch(wn){}return new a_(Ge)}(_,de,yu())})()}_openRedirect(_,v,I,S){var R=this;return(0,m.Z)(function*(){return yield R._originValidation(_),C=Oh(_,v,I,re(),S),xn().location.href=C,new Promise(()=>{});var C})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:S,promise:R}=this.eventManagers[v];return S?Promise.resolve(S):(Je(R,"If manager is not set, promise should be"),R)}const I=this.initAndGetManager(_);return this.eventManagers[v]={promise:I},I}initAndGetManager(_){var v=this;return(0,m.Z)(function*(){const I=yield function(C){return Nu.apply(this,arguments)}(_),S=new ca(_);return I.register("authEvent",R=>(se(null==R?void 0:R.authEvent,_,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:S},v.iframes[_._key()]=I,S})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(pa,{type:pa},S=>{var R;const $=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[pa];void 0!==$&&v(!!$),Ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return Wi.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Kd()||ss()||ji()}}),this.cordovaResolver=J(class{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ti}_initialize(_){var v=this;return(0,m.Z)(function*(){const I=_._key();let S=v.eventManagers.get(I);return S||(S=new jh(_),v.eventManagers.set(I,S),v.attachCallbackListeners(_,S)),S})()}_openPopup(_){Ae(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,I,S){var R=this;return(0,m.Z)(function*(){!function(C){var _,v,I,S,R,$,de,Te,Le,Ke;const Ge=ho();se("function"==typeof(null===(_=null==Ge?void 0:Ge.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(v=null==Ge?void 0:Ge.BuildInfo)||void 0===v?void 0:v.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(R=null===(S=null===(I=null==Ge?void 0:Ge.cordova)||void 0===I?void 0:I.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Te=null===(de=null===($=null==Ge?void 0:Ge.cordova)||void 0===$?void 0:$.plugins)||void 0===de?void 0:de.browsertab)||void 0===Te?void 0:Te.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ke=null===(Le=null==Ge?void 0:Ge.cordova)||void 0===Le?void 0:Le.InAppBrowser)||void 0===Ke?void 0:Ke.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const $=yield R._initialize(_);yield $.initialized(),$.resetRedirect(),so.clear(),yield R._originValidation(_);const de=function(C,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Pu(),postBody:null,tenantId:C.tenantId,error:Ne(C,"no-auth-event")}}(_,I,S);yield function(C,_){return ku()._set(Gr(C),_)}(_,de);const Te=yield function(C,_,v){return ag.apply(this,arguments)}(_,de,v),Le=yield function(C){const{cordova:_}=ho();return new Promise(v=>{_.plugins.browsertab.isAvailable(I=>{let S=null;I?_.plugins.browsertab.openUrl(C):S=_.InAppBrowser.open(C,function(C=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(S)})})}(Te);return function(C,_,v){return Bh.apply(this,arguments)}(_,$,Le)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return li.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:I,handleOpenURL:S,BuildInfo:R}=ho(),$=setTimeout((0,m.Z)(function*(){yield Hh(_),v.onEvent(Lw())}),500),de=function(){var Ke=(0,m.Z)(function*(Ge){clearTimeout($);const wn=yield Hh(_);let Wr=null;wn&&(null==Ge?void 0:Ge.url)&&(Wr=function(C,_){var v,I;const S=function(C){const _=yc(C),v=_.link?decodeURIComponent(_.link):void 0,I=yc(v).link,S=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return yc(S).link||S||I||v||C}(_);if(S.includes("/__/auth/callback")){const R=yc(S),$=R.firebaseError?function(C){try{return JSON.parse(C)}catch(_){return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(I=null===(v=null==$?void 0:$.code)||void 0===v?void 0:v.split("auth/"))||void 0===I?void 0:I[1],Te=de?Ne(de):null;return Te?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:S,postBody:null}}return null}(wn,Ge.url)),v.onEvent(Wr||Lw())});return function(wn){return Ke.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,de);const Te=S,Le=`${R.packageName.toLowerCase()}://`;ho().handleOpenURL=function(){var Ke=(0,m.Z)(function*(Ge){if(Ge.toLowerCase().startsWith(Le)&&de({url:Ge}),"function"==typeof Te)try{Te(Ge)}catch(wn){console.error(wn)}});return function(Ge){return Ke.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Ti}_initialize(_){var v=this;return(0,m.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,I,S){var R=this;return(0,m.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(_,v,I,S)})()}_openRedirect(_,v,I,S){var R=this;return(0,m.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(_,v,I,S)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return _g()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return go(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,m.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return vc.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function va(C){return C.unwrap()}function Rn(C){return Gh(C)}function vg(C,_){var v;const I=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new y_(C,function(C,_){var v;const I=(0,V.m9)(C),S=_;return se(_.operationType,I,"argument-error"),se(null===(v=S.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,I,"argument-error"),Zt._fromError(I,S)}(C,_));else if(I){const S=Gh(_),R=_;S&&(R.credential=S,R.tenantId=I.tenantId||void 0,R.email=I.email||void 0,R.phoneNumber=I.phoneNumber||void 0)}}function Gh(C){const{_tokenResponse:_}=C instanceof V.ZR?C.customData:C;if(!_)return null;if(!(C instanceof V.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return Cu.credentialFromResult(C);const v=_.providerId;if(!v||"password"===v)return null;let I;switch(v){case"google.com":I=eh;break;case"facebook.com":I=By;break;case"github.com":I=th;break;case"twitter.com":I=jy;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:$,pendingToken:de,nonce:Te}=_;return R||$||S||de?de?v.startsWith("saml.")?Ws._create(v,de):Br._fromParams({providerId:v,signInMethod:v,pendingToken:de,idToken:S,accessToken:R}):new lu(v).credential({idToken:S,accessToken:R,rawNonce:Te}):null}return C instanceof V.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function Ot(C,_){return As.apply(this,arguments)}function As(){return(As=(0,m.Z)(function*(C,_){let v;try{v=yield _}catch(R){throw R instanceof V.ZR&&vg(C,R),R}const{operationType:I,user:S}=v;return{operationType:I,credential:Rn(v),additionalUserInfo:mu(v),user:Sr.getOrCreate(S)}})).apply(this,arguments)}function mo(C,_){return qh.apply(this,arguments)}function qh(){return(qh=(0,m.Z)(function*(C,_){const v=yield _;return{verificationId:v.verificationId,confirm:I=>Ot(C,v.confirm(I))}})).apply(this,arguments)}class y_{constructor(_,v){this.resolver=v,this.auth=function(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Ot(va(this.auth),this.resolver.resolveSignIn(_))}}class Sr{constructor(_){this._delegate=_,this.multiFactor=function(C){const _=(0,V.m9)(C);return dh.has(_)||dh.set(_,ch._fromUser(_)),dh.get(_)}(_)}static getOrCreate(_){return Sr.USER_MAP.has(_)||Sr.USER_MAP.set(_,new Sr(_)),Sr.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,m.Z)(function*(){return Ot(v.auth,Rp(v._delegate,_))})()}linkWithPhoneNumber(_,v){var I=this;return(0,m.Z)(function*(){return mo(I.auth,function(C,_,v){return _h.apply(this,arguments)}(I._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,m.Z)(function*(){return Ot(v.auth,function(C,_,v){return gn.apply(this,arguments)}(v._delegate,_,Ts))})()}linkWithRedirect(_){var v=this;return(0,m.Z)(function*(){return yield ya(Dt(v.auth)),function(C,_,v){return function(C,_,v){return Ds.apply(this,arguments)}(C,_,v)}(v._delegate,_,Ts)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,m.Z)(function*(){return Ot(v.auth,Mp(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return mo(this.auth,function(C,_,v){return Eh.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Ot(this.auth,function(C,_,v){return $r.apply(this,arguments)}(this._delegate,_,Ts))}reauthenticateWithRedirect(_){var v=this;return(0,m.Z)(function*(){return yield ya(Dt(v.auth)),function(C,_,v){return function(C,_,v){return Du.apply(this,arguments)}(C,_,v)}(v._delegate,_,Ts)})()}sendEmailVerification(_){return function(C,_){return Fp.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,m.Z)(function*(){return yield function(C,_){return rh.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(C,_){return lh((0,V.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function(C,_){return lh((0,V.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(C,_){return bh.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(C,_){return gs.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(C,_,v){return ps.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sr.USER_MAP=new WeakMap;const Ki=se;let Zh=(()=>{class C{constructor(v,I){if(this.app=v,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=v.options;Ki(S,"invalid-api-key",{appName:v.name});let R=[mt];if("undefined"!=typeof window){R=function(C,_){const v=Ec();if(!(null==v?void 0:v.sessionStorage))return[];const I=ct($h,C,_);switch(v.sessionStorage.getItem(I)){case Ar.NONE:return[mt];case Ar.LOCAL:return[ia,_s];case Ar.SESSION:return[_s];default:return[]}}(S,v.name);for(const de of[ia,ys,_s])R.includes(de)||R.push(de)}Ki(S,"invalid-api-key",{appName:v.name});const $="undefined"!=typeof window?Ts:void 0;this._delegate=I.initialize({options:{persistence:R,popupRedirectResolver:$}}),this._delegate._updateErrorMap(ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,I){!function(C,_,v){const I=Dt(C);se(I._canInitEmulator,I,"emulator-config-failed"),se(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const S=!!(null==v?void 0:v.disableWarnings),R=Me(_),{host:$,port:de}=function(C){const _=Me(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const I=v[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(I);if(S){const R=S[1];return{host:R,port:jt(I.substr(R.length+1))}}{const[R,$]=I.split(":");return{host:R,port:jt($)}}}(_);I.config.emulator={url:`${R}//${$}${null===de?"":`:${de}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:$,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),function(C){function _(){const v=document.createElement("p"),I=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(S)}(this._delegate,v,I)}applyActionCode(v){return function(C,_){return We.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Hy(this._delegate,v)}confirmPasswordReset(v,I){return function(C,_,v){return Gl.apply(this,arguments)}(this._delegate,v,I)}createUserWithEmailAndPassword(v,I){var S=this;return(0,m.Z)(function*(){return Ot(S._delegate,function(C,_,v){return Ys.apply(this,arguments)}(S._delegate,v,I))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(C,_){return fs.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(C,_){const v=Ml.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,m.Z)(function*(){Ki(Lu(),v._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,_){return la.apply(this,arguments)}(v._delegate,Ts);return I?Ot(v._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(C,_){Dt(C)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,I,S){const{next:R,error:$,complete:de}=Eg(v,I,S);return this._delegate.onAuthStateChanged(R,$,de)}onIdTokenChanged(v,I,S){const{next:R,error:$,complete:de}=Eg(v,I,S);return this._delegate.onIdTokenChanged(R,$,de)}sendSignInLinkToEmail(v,I){return function(C,_,v){return dt.apply(this,arguments)}(this._delegate,v,I)}sendPasswordResetEmail(v,I){return function(C,_,v){return $l.apply(this,arguments)}(this._delegate,v,I||void 0)}setPersistence(v){var I=this;return(0,m.Z)(function*(){let S;switch(function(C,_){po(Object.values(Ar).includes(_),C,"invalid-persistence-type"),(0,V.b$)()?po(_!==Ar.SESSION,C,"unsupported-persistence-type"):(0,V.UG)()?po(_===Ar.NONE,C,"unsupported-persistence-type"):_c()?po(_===Ar.NONE||_===Ar.LOCAL&&(0,V.hl)(),C,"unsupported-persistence-type"):po(_===Ar.NONE||Fu(),C,"unsupported-persistence-type")}(I._delegate,v),v){case Ar.SESSION:S=_s;break;case Ar.LOCAL:S=(yield J(ia)._isAvailable())?ia:ys;break;case Ar.NONE:S=mt;break;default:return Ae("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Ot(this._delegate,function(C){return xp.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Ot(this._delegate,Bl(this._delegate,v))}signInWithCustomToken(v){return Ot(this._delegate,function(C,_){return cs.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,I){return Ot(this._delegate,function(C,_,v){return Bl((0,V.m9)(C),Ap.credential(_,v))}(this._delegate,v,I))}signInWithEmailLink(v,I){return Ot(this._delegate,function(C,_,v){return Zl.apply(this,arguments)}(this._delegate,v,I))}signInWithPhoneNumber(v,I){return mo(this._delegate,function(C,_,v){return sc.apply(this,arguments)}(this._delegate,v,I))}signInWithPopup(v){var I=this;return(0,m.Z)(function*(){return Ki(Lu(),I._delegate,"operation-not-supported-in-this-environment"),Ot(I._delegate,function(C,_,v){return Kp.apply(this,arguments)}(I._delegate,v,Ts))})()}signInWithRedirect(v){var I=this;return(0,m.Z)(function*(){return Ki(Lu(),I._delegate,"operation-not-supported-in-this-environment"),yield ya(I._delegate),function(C,_,v){return function(C,_,v){return Th.apply(this,arguments)}(C,_,v)}(I._delegate,v,Ts)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(C,_){return fu.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Ar,C})();function Eg(C,_,v){let I=C;"function"!=typeof C&&({next:I,error:_,complete:v}=C);const S=I;return{next:$=>S($&&Sr.getOrCreate($)),error:_,complete:v}}class Zr{constructor(){this.providerId="phone",this._delegate=new Cu(va(ee.Z.auth()))}static credential(_,v){return Cu.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}Zr.PHONE_SIGN_IN_METHOD=Cu.PHONE_SIGN_IN_METHOD,Zr.PROVIDER_ID=Cu.PROVIDER_ID;const __=se;class v_{constructor(_,v,I=ee.Z.app()){var S;__(null===(S=I.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new e_(_,v,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new he.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),I=_.getProvider("auth");return new Zh(v,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ap,FacebookAuthProvider:By,GithubAuthProvider:th,GoogleAuthProvider:eh,OAuthProvider:lu,PhoneAuthProvider:Zr,PhoneMultiFactorGenerator:kw,RecaptchaVerifier:v_,TwitterAuthProvider:jy,Auth:Zh,AuthCredential:Vr,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(ee.Z)},7574:(Ve,me,O)=>{"use strict";O.d(me,{y:()=>L});var m=O(7393),V=O(9181),Q=O(6490),X=O(6554),he=O(4487);var P=O(2494);let L=(()=>{class F{constructor(ie){this._isScalar=!1,ie&&(this._subscribe=ie)}lift(ie){const Y=new F;return Y.source=this,Y.operator=ie,Y}subscribe(ie,Y,K){const{operator:Ce}=this,ve=function(F,H,ie){if(F){if(F instanceof m.L)return F;if(F[V.b])return F[V.b]()}return F||H||ie?new m.L(F,H,ie):new m.L(Q.c)}(ie,Y,K);if(ve.add(Ce?Ce.call(ve,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ve.syncErrorThrowable?this._subscribe(ve):this._trySubscribe(ve)),P.v.useDeprecatedSynchronousErrorHandling&&ve.syncErrorThrowable&&(ve.syncErrorThrowable=!1,ve.syncErrorThrown))throw ve.syncErrorValue;return ve}_trySubscribe(ie){try{return this._subscribe(ie)}catch(Y){P.v.useDeprecatedSynchronousErrorHandling&&(ie.syncErrorThrown=!0,ie.syncErrorValue=Y),function(F){for(;F;){const{closed:H,destination:ie,isStopped:Y}=F;if(H||Y)return!1;F=ie&&ie instanceof m.L?ie:null}return!0}(ie)?ie.error(Y):console.warn(Y)}}forEach(ie,Y){return new(Y=U(Y))((K,Ce)=>{let ve;ve=this.subscribe(be=>{try{ie(be)}catch(Ae){Ce(Ae),ve&&ve.unsubscribe()}},Ce,K)})}_subscribe(ie){const{source:Y}=this;return Y&&Y.subscribe(ie)}[X.L](){return this}pipe(...ie){return 0===ie.length?this:function(F){return 0===F.length?he.y:1===F.length?F[0]:function(ie){return F.reduce((Y,K)=>K(Y),ie)}}(ie)(this)}toPromise(ie){return new(ie=U(ie))((Y,K)=>{let Ce;this.subscribe(ve=>Ce=ve,ve=>K(ve),()=>Y(Ce))})}}return F.create=H=>new F(H),F})();function U(F){if(F||(F=P.v.Promise||Promise),!F)throw new Error("no Promise impl found");return F}},6490:(Ve,me,O)=>{"use strict";O.d(me,{c:()=>V});var m=O(2494),ee=O(4449);const V={closed:!0,next(Q){},error(Q){if(m.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ee.z)(Q)},complete(){}}},9765:(Ve,me,O)=>{"use strict";O.d(me,{Yc:()=>he,xQ:()=>ue});var m=O(7574),ee=O(7393),V=O(5319),Q=O(7971),le=O(8858),X=O(9181);class he extends ee.L{constructor(L){super(L),this.destination=L}}let ue=(()=>{class P extends m.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new he(this)}lift(U){const F=new G(this,this);return F.operator=U,F}next(U){if(this.closed)throw new Q.N;if(!this.isStopped){const{observers:F}=this,H=F.length,ie=F.slice();for(let Y=0;Y<H;Y++)ie[Y].next(U)}}error(U){if(this.closed)throw new Q.N;this.hasError=!0,this.thrownError=U,this.isStopped=!0;const{observers:F}=this,H=F.length,ie=F.slice();for(let Y=0;Y<H;Y++)ie[Y].error(U);this.observers.length=0}complete(){if(this.closed)throw new Q.N;this.isStopped=!0;const{observers:U}=this,F=U.length,H=U.slice();for(let ie=0;ie<F;ie++)H[ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(U){if(this.closed)throw new Q.N;return super._trySubscribe(U)}_subscribe(U){if(this.closed)throw new Q.N;return this.hasError?(U.error(this.thrownError),V.w.EMPTY):this.isStopped?(U.complete(),V.w.EMPTY):(this.observers.push(U),new le.W(this,U))}asObservable(){const U=new m.y;return U.source=this,U}}return P.create=(L,U)=>new G(L,U),P})();class G extends ue{constructor(L,U){super(),this.destination=L,this.source=U}next(L){const{destination:U}=this;U&&U.next&&U.next(L)}error(L){const{destination:U}=this;U&&U.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:U}=this;return U?this.source.subscribe(L):V.w.EMPTY}}},8858:(Ve,me,O)=>{"use strict";O.d(me,{W:()=>ee});var m=O(5319);class ee extends m.w{constructor(Q,le){super(),this.subject=Q,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Q=this.subject,le=Q.observers;if(this.subject=null,!le||0===le.length||Q.isStopped||Q.closed)return;const X=le.indexOf(this.subscriber);-1!==X&&le.splice(X,1)}}},7393:(Ve,me,O)=>{"use strict";O.d(me,{L:()=>he});var m=O(9105),ee=O(6490),V=O(5319),Q=O(9181),le=O(2494),X=O(4449);class he extends V.w{constructor(P,L,U){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!P){this.destination=ee.c;break}if("object"==typeof P){P instanceof he?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,P,L,U)}}[Q.b](){return this}static create(P,L,U){const F=new he(P,L,U);return F.syncErrorThrowable=!1,F}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class ue extends he{constructor(P,L,U,F){super(),this._parentSubscriber=P;let H,ie=this;(0,m.m)(L)?H=L:L&&(H=L.next,U=L.error,F=L.complete,L!==ee.c&&(ie=Object.create(L),(0,m.m)(ie.unsubscribe)&&this.add(ie.unsubscribe.bind(ie)),ie.unsubscribe=this.unsubscribe.bind(this))),this._context=ie,this._next=H,this._error=U,this._complete=F}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;le.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:U}=le.v;if(this._error)U&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(L.syncErrorThrowable)U?(L.syncErrorValue=P,L.syncErrorThrown=!0):(0,X.z)(P),this.unsubscribe();else{if(this.unsubscribe(),U)throw P;(0,X.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const L=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,L){try{P.call(this._context,L)}catch(U){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw U;(0,X.z)(U)}}__tryOrSetError(P,L,U){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,U)}catch(F){return le.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=F,P.syncErrorThrown=!0,!0):((0,X.z)(F),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Ve,me,O)=>{"use strict";O.d(me,{w:()=>X});var m=O(9796),ee=O(1555),V=O(9105);const le=(()=>{function ue(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((P,L)=>`${L+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return ue.prototype=Object.create(Error.prototype),ue})();class X{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:L,_unsubscribe:U,_subscriptions:F}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof X)P.remove(this);else if(null!==P)for(let H=0;H<P.length;++H)P[H].remove(this);if((0,V.m)(U)){L&&(this._unsubscribe=void 0);try{U.call(this)}catch(H){G=H instanceof le?he(H.errors):[H]}}if((0,m.k)(F)){let H=-1,ie=F.length;for(;++H<ie;){const Y=F[H];if((0,ee.K)(Y))try{Y.unsubscribe()}catch(K){G=G||[],K instanceof le?G=G.concat(he(K.errors)):G.push(K)}}}if(G)throw new le(G)}add(G){let P=G;if(!G)return X.EMPTY;switch(typeof G){case"function":P=new X(G);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof X)){const F=P;P=new X,P._subscriptions=[F]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:L}=P;if(null===L)P._parentOrParents=this;else if(L instanceof X){if(L===this)return P;P._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return P;L.push(this)}const U=this._subscriptions;return null===U?this._subscriptions=[P]:U.push(P),P}remove(G){const P=this._subscriptions;if(P){const L=P.indexOf(G);-1!==L&&P.splice(L,1)}}}var ue;function he(ue){return ue.reduce((G,P)=>G.concat(P instanceof le?P.errors:P),[])}X.EMPTY=((ue=new X).closed=!0,ue)},2494:(Ve,me,O)=>{"use strict";O.d(me,{v:()=>ee});let m=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const Q=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Q.stack)}else m&&console.log("RxJS: Back to a better error behavior. Thank you. <3");m=V},get useDeprecatedSynchronousErrorHandling(){return m}}},5345:(Ve,me,O)=>{"use strict";O.d(me,{IY:()=>Q,Ds:()=>X,ft:()=>ue});var m=O(7393),ee=O(7574),V=O(7444);class Q extends m.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends m.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function ue(G,P){if(P.closed)return;if(G instanceof ee.y)return G.subscribe(P);let L;try{L=(0,V.s)(G)(P)}catch(U){P.error(U)}return L}},2441:(Ve,me,O)=>{"use strict";O.d(me,{c:()=>le,N:()=>X});var m=O(9765),ee=O(7574),V=O(5319),Q=O(1307);class le extends ee.y{constructor(L,U){super(),this.source=L,this.subjectFactory=U,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new V.w,L.add(this.source.subscribe(new he(this.getSubject(),this))),L.closed&&(this._connection=null,L=V.w.EMPTY)),L}refCount(){return(0,Q.x)()(this)}}const X=(()=>{const P=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class he extends m.Yc{constructor(L,U){super(L),this.connectable=U}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const U=L._connection;L._refCount=0,L._subject=null,L._connection=null,U&&U.unsubscribe()}}}},9193:(Ve,me,O)=>{"use strict";O.d(me,{E:()=>ee,c:()=>V});var m=O(7574);const ee=new m.y(le=>le.complete());function V(le){return le?function(le){return new m.y(X=>le.schedule(()=>X.complete()))}(le):ee}},4402:(Ve,me,O)=>{"use strict";O.d(me,{D:()=>ie});var m=O(7574),ee=O(7444),V=O(5319),Q=O(6554),he=O(4087),ue=O(377),L=O(4072),U=O(9489);function ie(Y,K){return K?function(Y,K){if(null!=Y){if(function(Y){return Y&&"function"==typeof Y[Q.L]}(Y))return function(Y,K){return new m.y(Ce=>{const ve=new V.w;return ve.add(K.schedule(()=>{const be=Y[Q.L]();ve.add(be.subscribe({next(Ae){ve.add(K.schedule(()=>Ce.next(Ae)))},error(Ae){ve.add(K.schedule(()=>Ce.error(Ae)))},complete(){ve.add(K.schedule(()=>Ce.complete()))}}))})),ve})}(Y,K);if((0,L.t)(Y))return function(Y,K){return new m.y(Ce=>{const ve=new V.w;return ve.add(K.schedule(()=>Y.then(be=>{ve.add(K.schedule(()=>{Ce.next(be),ve.add(K.schedule(()=>Ce.complete()))}))},be=>{ve.add(K.schedule(()=>Ce.error(be)))}))),ve})}(Y,K);if((0,U.z)(Y))return(0,he.r)(Y,K);if(function(Y){return Y&&"function"==typeof Y[ue.hZ]}(Y)||"string"==typeof Y)return function(Y,K){if(!Y)throw new Error("Iterable cannot be null");return new m.y(Ce=>{const ve=new V.w;let be;return ve.add(()=>{be&&"function"==typeof be.return&&be.return()}),ve.add(K.schedule(()=>{be=Y[ue.hZ](),ve.add(K.schedule(function(){if(Ce.closed)return;let Ae,Ne;try{const xe=be.next();Ae=xe.value,Ne=xe.done}catch(xe){return void Ce.error(xe)}Ne?Ce.complete():(Ce.next(Ae),this.schedule())}))})),ve})}(Y,K)}throw new TypeError((null!==Y&&typeof Y||Y)+" is not observable")}(Y,K):Y instanceof m.y?Y:new m.y((0,ee.s)(Y))}},6693:(Ve,me,O)=>{"use strict";O.d(me,{n:()=>Q});var m=O(7574),ee=O(5015),V=O(4087);function Q(le,X){return X?(0,V.r)(le,X):new m.y((0,ee.V)(le))}},6682:(Ve,me,O)=>{"use strict";O.d(me,{T:()=>le});var m=O(7574),ee=O(4869),V=O(3282),Q=O(6693);function le(...X){let he=Number.POSITIVE_INFINITY,ue=null,G=X[X.length-1];return(0,ee.K)(G)?(ue=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(he=X.pop())):"number"==typeof G&&(he=X.pop()),null===ue&&1===X.length&&X[0]instanceof m.y?X[0]:(0,V.J)(he)((0,Q.n)(X,ue))}},5917:(Ve,me,O)=>{"use strict";O.d(me,{of:()=>Q});var m=O(4869),ee=O(6693),V=O(4087);function Q(...le){let X=le[le.length-1];return(0,m.K)(X)?(le.pop(),(0,V.r)(le,X)):(0,ee.n)(le)}},8002:(Ve,me,O)=>{"use strict";O.d(me,{U:()=>ee});var m=O(7393);function ee(le,X){return function(ue){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new V(le,X))}}class V{constructor(X,he){this.project=X,this.thisArg=he}call(X,he){return he.subscribe(new Q(X,this.project,this.thisArg))}}class Q extends m.L{constructor(X,he,ue){super(X),this.project=he,this.count=0,this.thisArg=ue||this}_next(X){let he;try{he=this.project.call(this.thisArg,X,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(he)}}},3282:(Ve,me,O)=>{"use strict";O.d(me,{J:()=>V});var m=O(9773),ee=O(4487);function V(Q=Number.POSITIVE_INFINITY){return(0,m.zg)(ee.y,Q)}},9773:(Ve,me,O)=>{"use strict";O.d(me,{zg:()=>Q});var m=O(8002),ee=O(4402),V=O(5345);function Q(ue,G,P=Number.POSITIVE_INFINITY){return"function"==typeof G?L=>L.pipe(Q((U,F)=>(0,ee.D)(ue(U,F)).pipe((0,m.U)((H,ie)=>G(U,H,F,ie))),P)):("number"==typeof G&&(P=G),L=>L.lift(new le(ue,P)))}class le{constructor(G,P=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=P}call(G,P){return P.subscribe(new X(G,this.project,this.concurrent))}}class X extends V.Ds{constructor(G,P,L=Number.POSITIVE_INFINITY){super(G),this.project=P,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let P;const L=this.index++;try{P=this.project(G,L)}catch(U){return void this.destination.error(U)}this.active++,this._innerSub(P)}_innerSub(G){const P=new V.IY(this),L=this.destination;L.add(P);const U=(0,V.ft)(G,P);U!==P&&L.add(U)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ve,me,O)=>{"use strict";O.d(me,{ht:()=>L,QV:()=>G});var m=O(7393),ee=O(9193),V=O(5917),Q=O(7574);class ue{constructor(H,ie,Y){this.kind=H,this.value=ie,this.error=Y,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,ie,Y){switch(this.kind){case"N":return H&&H(this.value);case"E":return ie&&ie(this.error);case"C":return Y&&Y()}}accept(H,ie,Y){return H&&"function"==typeof H.next?this.observe(H):this.do(H,ie,Y)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return F=this.error,new Q.y(ie=>ie.error(F));case"C":return(0,ee.c)()}var F;throw new Error("unexpected notification kind value")}static createNext(H){return void 0!==H?new ue("N",H):ue.undefinedValueNotification}static createError(H){return new ue("E",void 0,H)}static createComplete(){return ue.completeNotification}}function G(F,H=0){return function(Y){return Y.lift(new P(F,H))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class P{constructor(H,ie=0){this.scheduler=H,this.delay=ie}call(H,ie){return ie.subscribe(new L(H,this.scheduler,this.delay))}}class L extends m.L{constructor(H,ie,Y=0){super(H),this.scheduler=ie,this.delay=Y}static dispatch(H){const{notification:ie,destination:Y}=H;ie.observe(Y),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new U(H,this.destination)))}_next(H){this.scheduleMessage(ue.createNext(H))}_error(H){this.scheduleMessage(ue.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class U{constructor(H,ie){this.notification=H,this.destination=ie}}},1307:(Ve,me,O)=>{"use strict";O.d(me,{x:()=>ee});var m=O(7393);function ee(){return function(X){return X.lift(new V(X))}}class V{constructor(X){this.connectable=X}call(X,he){const{connectable:ue}=this;ue._refCount++;const G=new Q(X,ue),P=he.subscribe(G);return G.closed||(G.connection=ue.connect()),P}}class Q extends m.L{constructor(X,he){super(X),this.connectable=he}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const he=X._refCount;if(he<=0)return void(this.connection=null);if(X._refCount=he-1,he>1)return void(this.connection=null);const{connection:ue}=this,G=X._connection;this.connection=null,G&&(!ue||G===ue)&&G.unsubscribe()}}},3101:(Ve,me,O)=>{"use strict";O.d(me,{R:()=>K});var m=O(7574);let ee=1;const V=Promise.resolve(),Q={};function le(ve){return ve in Q&&(delete Q[ve],!0)}const X={setImmediate(ve){const be=ee++;return Q[be]=!0,V.then(()=>le(be)&&ve()),be},clearImmediate(ve){le(ve)}};var ue=O(6465),P=O(6102);const F=new class extends P.v{flush(be){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let Ne,xe=-1,se=Ae.length;be=be||Ae.shift();do{if(Ne=be.execute(be.state,be.delay))break}while(++xe<se&&(be=Ae.shift()));if(this.active=!1,Ne){for(;++xe<se&&(be=Ae.shift());)be.unsubscribe();throw Ne}}}(class extends ue.o{constructor(be,Ae){super(be,Ae),this.scheduler=be,this.work=Ae}requestAsyncId(be,Ae,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(be,Ae,Ne):(be.actions.push(this),be.scheduled||(be.scheduled=X.setImmediate(be.flush.bind(be,null))))}recycleAsyncId(be,Ae,Ne=0){if(null!==Ne&&Ne>0||null===Ne&&this.delay>0)return super.recycleAsyncId(be,Ae,Ne);0===be.actions.length&&(X.clearImmediate(Ae),be.scheduled=void 0)}});var H=O(9796);class Y extends m.y{constructor(be,Ae=0,Ne=F){var ve;super(),this.source=be,this.delayTime=Ae,this.scheduler=Ne,(!(!(0,H.k)(ve=Ae)&&ve-parseFloat(ve)+1>=0)||Ae<0)&&(this.delayTime=0),(!Ne||"function"!=typeof Ne.schedule)&&(this.scheduler=F)}static create(be,Ae=0,Ne=F){return new Y(be,Ae,Ne)}static dispatch(be){const{source:Ae,subscriber:Ne}=be;return this.add(Ae.subscribe(Ne))}_subscribe(be){return this.scheduler.schedule(Y.dispatch,this.delayTime,{source:this.source,subscriber:be})}}function K(ve,be=0){return function(Ne){return Ne.lift(new Ce(ve,be))}}class Ce{constructor(be,Ae){this.scheduler=be,this.delay=Ae}call(be,Ae){return new Y(Ae,this.delay,this.scheduler).subscribe(be)}}},3342:(Ve,me,O)=>{"use strict";O.d(me,{b:()=>Q});var m=O(7393);function ee(){}var V=O(9105);function Q(he,ue,G){return function(L){return L.lift(new le(he,ue,G))}}class le{constructor(ue,G,P){this.nextOrObserver=ue,this.error=G,this.complete=P}call(ue,G){return G.subscribe(new X(ue,this.nextOrObserver,this.error,this.complete))}}class X extends m.L{constructor(ue,G,P,L){super(ue),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=P||ee,this._tapComplete=L||ee,(0,V.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||ee,this._tapError=G.error||ee,this._tapComplete=G.complete||ee)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(G){return void this.destination.error(G)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(G){return void this.destination.error(G)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Ve,me,O)=>{"use strict";O.d(me,{r:()=>V});var m=O(7574),ee=O(5319);function V(Q,le){return new m.y(X=>{const he=new ee.w;let ue=0;return he.add(le.schedule(function(){ue!==Q.length?(X.next(Q[ue++]),X.closed||he.add(this.schedule())):X.complete()})),he})}},6465:(Ve,me,O)=>{"use strict";O.d(me,{o:()=>V});var m=O(5319);class ee extends m.w{constructor(le,X){super()}schedule(le,X=0){return this}}class V extends ee{constructor(le,X){super(le,X),this.scheduler=le,this.work=X,this.pending=!1}schedule(le,X=0){if(this.closed)return this;this.state=le;const he=this.id,ue=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ue,he,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(ue,this.id,X),this}requestAsyncId(le,X,he=0){return setInterval(le.flush.bind(le,this),he)}recycleAsyncId(le,X,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return X;clearInterval(X)}execute(le,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(le,X);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,X){let ue,he=!1;try{this.work(le)}catch(G){he=!0,ue=!!G&&G||new Error(G)}if(he)return this.unsubscribe(),ue}_unsubscribe(){const le=this.id,X=this.scheduler,he=X.actions,ue=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&he.splice(ue,1),null!=le&&(this.id=this.recycleAsyncId(X,le,null)),this.delay=null}}},6102:(Ve,me,O)=>{"use strict";O.d(me,{v:()=>ee});let m=(()=>{class V{constructor(le,X=V.now){this.SchedulerAction=le,this.now=X}schedule(le,X=0,he){return new this.SchedulerAction(this,le).schedule(he,X)}}return V.now=()=>Date.now(),V})();class ee extends m{constructor(Q,le=m.now){super(Q,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Q,le=0,X){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(Q,le,X):super.schedule(Q,le,X)}flush(Q){const{actions:le}=this;if(this.active)return void le.push(Q);let X;this.active=!0;do{if(X=Q.execute(Q.state,Q.delay))break}while(Q=le.shift());if(this.active=!1,X){for(;Q=le.shift();)Q.unsubscribe();throw X}}}},3637:(Ve,me,O)=>{"use strict";O.d(me,{z:()=>V});var m=O(6465);const V=new(O(6102).v)(m.o)},7771:(Ve,me,O)=>{"use strict";O.d(me,{c:()=>X,N:()=>le});var m=O(6465),V=O(6102);const le=new class extends V.v{}(class extends m.o{constructor(ue,G){super(ue,G),this.scheduler=ue,this.work=G}schedule(ue,G=0){return G>0?super.schedule(ue,G):(this.delay=G,this.state=ue,this.scheduler.flush(this),this)}execute(ue,G){return G>0||this.closed?super.execute(ue,G):this._execute(ue,G)}requestAsyncId(ue,G,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(ue,G,P):ue.flush(this)}}),X=le},377:(Ve,me,O)=>{"use strict";O.d(me,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ve,me,O)=>{"use strict";O.d(me,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ve,me,O)=>{"use strict";O.d(me,{b:()=>m});const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ve,me,O)=>{"use strict";O.d(me,{N:()=>ee});const ee=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(Ve,me,O)=>{"use strict";function m(ee){setTimeout(()=>{throw ee},0)}O.d(me,{z:()=>m})},4487:(Ve,me,O)=>{"use strict";function m(ee){return ee}O.d(me,{y:()=>m})},9796:(Ve,me,O)=>{"use strict";O.d(me,{k:()=>m});const m=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(Ve,me,O)=>{"use strict";O.d(me,{z:()=>m});const m=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(Ve,me,O)=>{"use strict";function m(ee){return"function"==typeof ee}O.d(me,{m:()=>m})},1555:(Ve,me,O)=>{"use strict";function m(ee){return null!==ee&&"object"==typeof ee}O.d(me,{K:()=>m})},4072:(Ve,me,O)=>{"use strict";function m(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}O.d(me,{t:()=>m})},4869:(Ve,me,O)=>{"use strict";function m(ee){return ee&&"function"==typeof ee.schedule}O.d(me,{K:()=>m})},7444:(Ve,me,O)=>{"use strict";O.d(me,{s:()=>L});var m=O(5015),ee=O(4449),Q=O(377),X=O(6554),ue=O(9489),G=O(4072),P=O(1555);const L=U=>{if(U&&"function"==typeof U[X.L])return(U=>F=>{const H=U[X.L]();if("function"!=typeof H.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return H.subscribe(F)})(U);if((0,ue.z)(U))return(0,m.V)(U);if((0,G.t)(U))return(U=>F=>(U.then(H=>{F.closed||(F.next(H),F.complete())},H=>F.error(H)).then(null,ee.z),F))(U);if(U&&"function"==typeof U[Q.hZ])return(U=>F=>{const H=U[Q.hZ]();for(;;){let ie;try{ie=H.next()}catch(Y){return F.error(Y),F}if(ie.done){F.complete();break}if(F.next(ie.value),F.closed)break}return"function"==typeof H.return&&F.add(()=>{H.return&&H.return()}),F})(U);{const H=`You provided ${(0,P.K)(U)?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(H)}}},5015:(Ve,me,O)=>{"use strict";O.d(me,{V:()=>m});const m=ee=>V=>{for(let Q=0,le=ee.length;Q<le&&!V.closed;Q++)V.next(ee[Q]);V.complete()}},8074:(Ve,me,O)=>{"use strict";var m=O(3018);let ee=null;function V(){return ee}const he=new m.OlP("DocumentToken");let ue=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:G,token:s,providedIn:"platform"}),s})();function G(){return(0,m.LFG)(L)}const P=new m.OlP("Location Initialized");let L=(()=>{class s extends ue{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(i){const u=V().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",i,!1),()=>u.removeEventListener("popstate",i)}onHashChange(i){const u=V().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",i,!1),()=>u.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,u,c){U()?this._history.pushState(i,u,c):this.location.hash=c}replaceState(i,u,c){U()?this._history.replaceState(i,u,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he))},s.\u0275prov=(0,m.Yz7)({factory:F,token:s,providedIn:"platform"}),s})();function U(){return!!window.history.pushState}function F(){return new L((0,m.LFG)(he))}function H(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function ie(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function Y(s){return s&&"?"!==s[0]?"?"+s:s}let K=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,m.Yz7)({factory:Ce,token:s,providedIn:"root"}),s})();function Ce(s){const r=(0,m.LFG)(he).location;return new be((0,m.LFG)(ue),r&&r.origin||"")}const ve=new m.OlP("appBaseHref");let be=(()=>{class s extends K{constructor(i,u){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==u&&(u=this._platformLocation.getBaseHrefFromDOM()),null==u)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=u}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return H(this._baseHref,i)}path(i=!1){const u=this._platformLocation.pathname+Y(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${u}${c}`:u}pushState(i,u,c,f){const y=this.prepareExternalUrl(c+Y(f));this._platformLocation.pushState(i,u,y)}replaceState(i,u,c,f){const y=this.prepareExternalUrl(c+Y(f));this._platformLocation.replaceState(i,u,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformLocation).historyGo)||void 0===c||c.call(u,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ue),m.LFG(ve,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Ae=(()=>{class s extends K{constructor(i,u){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=u&&(this._baseHref=u)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let u=this._platformLocation.hash;return null==u&&(u="#"),u.length>0?u.substring(1):u}prepareExternalUrl(i){const u=H(this._baseHref,i);return u.length>0?"#"+u:u}pushState(i,u,c,f){let y=this.prepareExternalUrl(c+Y(f));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(i,u,y)}replaceState(i,u,c,f){let y=this.prepareExternalUrl(c+Y(f));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(i,u,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformLocation).historyGo)||void 0===c||c.call(u,i)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ue),m.LFG(ve,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Ne=(()=>{class s{constructor(i,u){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=u,this._baseHref=ie(wt(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,u=""){return this.path()==this.normalize(i+Y(u))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,wt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,u="",c=null){this._platformStrategy.pushState(c,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Y(u)),c)}replaceState(i,u="",c=null){this._platformStrategy.replaceState(c,"",i,u),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Y(u)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var u,c;null===(c=(u=this._platformStrategy).historyGo)||void 0===c||c.call(u,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(u=>{this._notifyUrlChangeListeners(u.url,u.state)}))}_notifyUrlChangeListeners(i="",u){this._urlChangeListeners.forEach(c=>c(i,u))}subscribe(i,u,c){return this._subject.subscribe({next:i,error:u,complete:c})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(K),m.LFG(ue))},s.normalizeQueryParams=Y,s.joinWithSlash=H,s.stripTrailingSlash=ie,s.\u0275prov=(0,m.Yz7)({factory:xe,token:s,providedIn:"root"}),s})();function xe(){return new Ne((0,m.LFG)(K),(0,m.LFG)(ue))}function wt(s){return s.replace(/\/index.html$/,"")}var J=(()=>((J=J||{})[J.Zero=0]="Zero",J[J.One=1]="One",J[J.Two=2]="Two",J[J.Few=3]="Few",J[J.Many=4]="Many",J[J.Other=5]="Other",J))();const qn=m.kL8;class Ur{}let qs=(()=>{class s extends Ur{constructor(i){super(),this.locale=i}getPluralCategory(i,u){switch(qn(u||this.locale)(i)){case J.Zero:return"zero";case J.One:return"one";case J.Two:return"two";case J.Few:return"few";case J.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.soG))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Dw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[{provide:Ur,useClass:qs}]}),s})();function Pl(s){return"server"===s}let Fl=(()=>{class s{}return s.\u0275prov=(0,m.Yz7)({token:s,providedIn:"root",factory:()=>new Np((0,m.LFG)(he),window)}),s})();class Np{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const u=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let c=u.currentNode;for(;c;){const f=c.shadowRoot;if(f){const y=f.getElementById(r)||f.querySelector(`[name="${r}"]`);if(y)return y}c=u.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),u=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(u-f[0],c-f[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Ll(this.window.history)||Ll(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Ll(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class zs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new zs,ee||(ee=s)}onAndCancel(r,i,u){return r.addEventListener(i,u,!1),()=>{r.removeEventListener(i,u,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(Jo=Jo||document.querySelector("base"),Jo?Jo.getAttribute("href"):null);return null==i?null:function(s){Ul=Ul||document.createElement("a"),Ul.setAttribute("href",s);const r=Ul.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const u=i.indexOf("="),[c,f]=-1==u?[i,""]:[i.slice(0,u),i.slice(u+1)];if(c.trim()===r)return decodeURIComponent(f)}return null}(document.cookie,r)}}let Ul,Jo=null;const Bl=new m.OlP("TRANSITION_ID"),Rp=[{provide:m.ip1,useFactory:function(s,r,i){return()=>{i.get(m.CZH).donePromise.then(()=>{const u=V(),c=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let f=0;f<c.length;f++)u.remove(c[f])})}},deps:[Bl,he,m.zs3],multi:!0}];class qt{static init(){(0,m.VLi)(new qt)}addToWindow(r){m.dqk.getAngularTestability=(u,c=!0)=>{const f=r.findTestabilityInTree(u,c);if(null==f)throw new Error("Could not find testability for element.");return f},m.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(u=>{const c=m.dqk.getAllAngularTestabilities();let f=c.length,y=!1;const b=function(T){y=y||T,f--,0==f&&u(y)};c.forEach(function(T){T.whenStable(b)})})}findTestabilityInTree(r,i,u){if(null==i)return null;const c=r.getTestability(i);return null!=c?c:u?V().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Mp=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Ks=new m.OlP("EventManagerPlugins");let ql=(()=>{class s{constructor(i,u){this._zone=u,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,u,c){return this._findPluginFor(u).addEventListener(i,u,c)}addGlobalEventListener(i,u,c){return this._findPluginFor(u).addGlobalEventListener(i,u,c)}getZone(){return this._zone}_findPluginFor(i){const u=this._eventNameToPlugin.get(i);if(u)return u;const c=this._plugins;for(let f=0;f<c.length;f++){const y=c[f];if(y.supports(i))return this._eventNameToPlugin.set(i,y),y}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Ks),m.LFG(m.R0b))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class fu{constructor(r){this._doc=r}addGlobalEventListener(r,i,u){const c=V().getGlobalEventTarget(this._doc,r);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,u)}}let oh=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const u=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),u.add(c))}),this.onStylesAdded(u)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),Ys=(()=>{class s extends oh{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,u,c){i.forEach(f=>{const y=this._doc.createElement("style");y.textContent=f,c.push(u.appendChild(y))})}addHost(i){const u=[];this._addStylesToHost(this._stylesSet,i,u),this._hostNodes.set(i,u)}removeHost(i){const u=this._hostNodes.get(i);u&&u.forEach(Pp),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((u,c)=>{this._addStylesToHost(i,c,u)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Pp))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function Pp(s){V().remove(s)}const ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g;function fs(s,r,i){for(let u=0;u<r.length;u++){let c=r[u];Array.isArray(c)?fs(s,c,i):(c=c.replace(dt,s),i.push(c))}return i}function $y(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Xo=(()=>{class s{constructor(i,u,c){this.eventManager=i,this.sharedStylesHost=u,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new ps(i)}createRenderer(i,u){if(!i||!u)return this.defaultRenderer;switch(u.encapsulation){case m.ifc.Emulated:{let c=this.rendererByCompId.get(u.id);return c||(c=new gs(this.eventManager,this.sharedStylesHost,u,this.appId),this.rendererByCompId.set(u.id,c)),c.applyToHost(i),c}case 1:case m.ifc.ShadowDom:return new Gi(this.eventManager,this.sharedStylesHost,i,u);default:if(!this.rendererByCompId.has(u.id)){const c=fs(u.id,u.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(u.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(ql),m.LFG(Ys),m.LFG(m.AFp))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();class ps{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(ye[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,u){r&&r.insertBefore(i,u)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let u="string"==typeof r?document.querySelector(r):r;if(!u)throw new Error(`The selector "${r}" did not match any elements`);return i||(u.textContent=""),u}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,u,c){if(c){i=c+":"+i;const f=ye[c];f?r.setAttributeNS(f,i,u):r.setAttribute(i,u)}else r.setAttribute(i,u)}removeAttribute(r,i,u){if(u){const c=ye[u];c?r.removeAttributeNS(c,i):r.removeAttribute(`${u}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,u,c){c&(m.JOm.DashCase|m.JOm.Important)?r.style.setProperty(i,u,c&m.JOm.Important?"important":""):r.style[i]=u}removeStyle(r,i,u){u&m.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,u){r[i]=u}setValue(r,i){r.nodeValue=i}listen(r,i,u){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,$y(u)):this.eventManager.addEventListener(r,i,$y(u))}}class gs extends ps{constructor(r,i,u,c){super(r),this.component=u;const f=fs(c+"-"+u.id,u.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(dt,c+"-"+u.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(dt,s)}(c+"-"+u.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const u=super.createElement(r,i);return super.setAttribute(u,this.contentAttr,""),u}}class Gi extends ps{constructor(r,i,u,c){super(r),this.sharedStylesHost=i,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=fs(c.id,c.styles,[]);for(let y=0;y<f.length;y++){const b=document.createElement("style");b.textContent=f[y],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,u){return super.insertBefore(this.nodeOrShadowRoot(r),i,u)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Gy=(()=>{class s extends fu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,u,c){return i.addEventListener(u,c,!1),()=>this.removeEventListener(i,u,c)}removeEventListener(i,u,c){return i.removeEventListener(u,c)}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const mu=["alt","control","meta","shift"],zy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Un={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let gr=(()=>{class s extends fu{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,u,c){const f=s.parseEventName(u),y=s.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(i,f.domEventName,y))}static parseEventName(i){const u=i.toLowerCase().split("."),c=u.shift();if(0===u.length||"keydown"!==c&&"keyup"!==c)return null;const f=s._normalizeKey(u.pop());let y="";if(mu.forEach(T=>{const x=u.indexOf(T);x>-1&&(u.splice(x,1),y+=T+".")}),y+=f,0!=u.length||0===f.length)return null;const b={};return b.domEventName=c,b.fullKey=y,b}static getEventFullKey(i){let u="",c=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Bp.hasOwnProperty(r)&&(r=Bp[r]))}return zy[r]||r}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),mu.forEach(f=>{f!=c&&Un[f](i)&&(u+=f+".")}),u+=c,u}static eventCallback(i,u,c){return f=>{s.getEventFullKey(f)===i&&c.runGuarded(()=>u(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(he))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Qy=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function(){zs.makeCurrent(),qt.init()},multi:!0},{provide:he,useFactory:function(){return(0,m.RDi)(document),document},deps:[]}]),Js=[[],{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function(){return new m.qLn},deps:[]},{provide:Ks,useClass:Gy,multi:!0,deps:[he,m.R0b,m.Lbi]},{provide:Ks,useClass:gr,multi:!0,deps:[he]},[],{provide:Xo,useClass:Xo,deps:[ql,Ys,m.AFp]},{provide:m.FYo,useExisting:Xo},{provide:oh,useExisting:Ys},{provide:Ys,useClass:Ys,deps:[he]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:ql,useClass:ql,deps:[Ks,m.R0b]},{provide:class{},useClass:Mp,deps:[]},[]];let ys=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:m.AFp,useValue:i.appId},{provide:Bl,useExisting:m.AFp},Rp]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(s,12))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:Js,imports:[Dw,m.hGG]}),s})();"undefined"!=typeof window&&window;var mh=O(4762),Wt=O(4402),ii=O(7574),qi=O(9796),nt=O(8002);O(1555);let lo=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})(),p_=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[lo]]}),s})(),Fw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[p_]}),s})(),g_=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-error"]],decls:2,vars:0,template:function(i,u){1&i&&(m.TgZ(0,"p"),m._uU(1,"error works!"),m.qZA())},styles:[""]}),s})();class ci{static obtenerNumero(){let r=Math.floor(3*Math.random())+1,i=localStorage.getItem("bk");for(;null!=i&&r.toString()==i;)r=Math.floor(3*Math.random())+1;return localStorage.setItem("bk",r.toString()),r}static getUrlLoginBK(){return"url('/assets/images/loginBackgrounds/background"+ci.opcion+".jpg')"}static getUrlappBK(){return"url('/assets/images/appBackground/arcades1.jpg')"}}ci.opcion=ci.obtenerNumero();var Ze=O(5917),zi=O(9765),mg=O(7971);class di extends zi.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mg.N;return this._value}next(r){super.next(this._value=r)}}var yg=O(4869),qr=O(7393);class Fu extends qr.L{notifyNext(r,i,u,c,f){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class _c extends qr.L{constructor(r,i,u){super(),this.parent=r,this.outerValue=i,this.outerIndex=u,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lu=O(7444);function _g(s,r,i,u,c=new _c(s,i,u)){if(!c.closed)return r instanceof ii.y?r.subscribe(c):(0,Lu.s)(r)(c)}var sn=O(6693);const vc={};class po{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new $h(r,this.resultSelector))}}class $h extends Fu{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(vc),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let u=0;u<i;u++)this.add(_g(this,r[u],void 0,u))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,u){const c=this.values,y=this.toRespond?c[u]===vc?--this.toRespond:this.toRespond:0;c[u]=i,0===y&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(u){return void this.destination.error(u)}this.destination.next(i)}}const ya=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var _a=O(3282);function Ec(...s){return(0,_a.J)(1)((0,Ze.of)(...s))}var go=O(9193);function Ts(s){return new ii.y(r=>{let i;try{i=s()}catch(c){return void r.error(c)}return(i?(0,Wt.D)(i):(0,go.c)()).subscribe(r)})}var va=O(2441),mn=O(5345);function Rn(s,r){return"function"==typeof r?i=>i.pipe(Rn((u,c)=>(0,Wt.D)(s(u,c)).pipe((0,nt.U)((f,y)=>r(u,f,c,y))))):i=>i.lift(new vg(s))}class vg{constructor(r){this.project=r}call(r,i){return i.subscribe(new Gh(r,this.project))}}class Gh extends mn.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const u=this.index++;try{i=this.project(r,u)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const u=new mn.IY(this),c=this.destination;c.add(u),this.innerSubscription=(0,mn.ft)(r,u),this.innerSubscription!==u&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const As=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function mo(s){return r=>0===s?(0,go.c)():r.lift(new qh(s))}class qh{constructor(r){if(this.total=r,this.total<0)throw new As}call(r,i){return i.subscribe(new y_(r,this.total))}}class y_ extends qr.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,u=++this.count;u<=i&&(this.destination.next(r),u===i&&(this.destination.complete(),this.unsubscribe()))}}function Sr(...s){const r=s[s.length-1];return(0,yg.K)(r)?(s.pop(),i=>Ec(s,i,r)):i=>Ec(s,i)}function Ki(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new Zh(s,r,i))}}class Zh{constructor(r,i,u=!1){this.accumulator=r,this.seed=i,this.hasSeed=u}call(r,i){return i.subscribe(new Eg(r,this.accumulator,this.seed,this.hasSeed))}}class Eg extends qr.L{constructor(r,i,u,c){super(r),this.accumulator=i,this._seed=u,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let u;try{u=this.accumulator(this.seed,r,i)}catch(c){this.destination.error(c)}this.seed=u,this.destination.next(u)}}function Zr(s,r){return function(u){return u.lift(new __(s,r))}}class __{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new v_(r,this.predicate,this.thisArg))}}class v_ extends qr.L{constructor(r,i,u){super(r),this.predicate=i,this.thisArg=u,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(u){return void this.destination.error(u)}i&&this.destination.next(r)}}function yo(s){return function(i){const u=new wg(s),c=i.lift(u);return u.caught=c}}class wg{constructor(r){this.selector=r}call(r,i){return i.subscribe(new C(r,this.selector,this.caught))}}class C extends mn.Ds{constructor(r,i,u){super(r),this.selector=i,this.caught=u}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const u=new mn.IY(this);this.add(u);const c=(0,mn.ft)(i,u);c!==u&&this.add(c)}}}var _=O(9773);function v(s,r){return(0,_.zg)(s,r,1)}function I(s){return function(i){return 0===s?(0,go.c)():i.lift(new S(s))}}class S{constructor(r){if(this.total=r,this.total<0)throw new As}call(r,i){return i.subscribe(new R(r,this.total))}}class R extends qr.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,u=this.total,c=this.count++;i.length<u?i.push(r):i[c%u]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const u=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<u;f++){const y=i++%u;r.next(c[y])}}r.complete()}}function $(s=Le){return r=>r.lift(new de(s))}class de{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new Te(r,this.errorFactory))}}class Te extends qr.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function Le(){return new ya}function Ke(s=null){return r=>r.lift(new Ge(s))}class Ge{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new wn(r,this.defaultValue))}}class wn extends qr.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Wr=O(4487);function bn(s,r){const i=arguments.length>=2;return u=>u.pipe(s?Zr((c,f)=>s(c,f,u)):Wr.y,mo(1),i?Ke(r):$(()=>new ya))}var Zn=O(3342),bg=O(1307),Wh=O(5319);class E_{constructor(r){this.callback=r}call(r,i){return i.subscribe(new zh(r,this.callback))}}class zh extends qr.L{constructor(r,i){super(r),this.add(new Wh.w(i))}}class hi{constructor(r,i){this.id=r,this.url=i}}class bc extends hi{constructor(r,i,u="imperative",c=null){super(r,i),this.navigationTrigger=u,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends hi{constructor(r,i,u){super(r,i),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yi extends hi{constructor(r,i,u){super(r,i),this.reason=u}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Si extends hi{constructor(r,i,u){super(r,i),this.error=u}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bx extends hi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jx extends hi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uw extends hi{constructor(r,i,u,c,f){super(r,i),this.urlAfterRedirects=u,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hx extends hi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends hi{constructor(r,i,u,c){super(r,i),this.urlAfterRedirects=u,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cg{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ig{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mT{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bw{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jw{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_{constructor(r,i,u){this.routerEvent=r,this.position=i,this.anchor=u}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class b_{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Uu(s){return new b_(s)}const yT="ngNavigationCancelingError";function Ea(s){const r=Error("NavigationCancelingError: "+s);return r[yT]=!0,r}function Hw(s,r,i){const u=i.path.split("/");if(u.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||u.length<s.length))return null;const c={};for(let f=0;f<u.length;f++){const y=u[f],b=s[f];if(y.startsWith(":"))c[y.substring(1)]=b;else if(y!==b.path)return null}return{consumed:s.slice(0,u.length),posParams:c}}function xi(s,r){const i=s?Object.keys(s):void 0,u=r?Object.keys(r):void 0;if(!i||!u||i.length!=u.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!$w(s[c],r[c]))return!1;return!0}function $w(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),u=[...r].sort();return i.every((c,f)=>u[f]===c)}return s===r}function Gw(s){return Array.prototype.concat.apply([],s)}function qw(s){return s.length>0?s[s.length-1]:null}function ar(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function xs(s){return(0,m.CqO)(s)?s:(0,m.QGY)(s)?(0,Wt.D)(Promise.resolve(s)):(0,Ze.of)(s)}const I_={exact:function Ww(s,r,i){if(!Ia(s.segments,r.segments)||!Yh(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const u in r.children)if(!s.children[u]||!Ww(s.children[u],r.children[u],i))return!1;return!0},subset:T_},D_={exact:function(s,r){return xi(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>$w(s[i],r[i]))},ignored:()=>!0};function Dg(s,r,i){return I_[i.paths](s.root,r.root,i.matrixParams)&&D_[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function T_(s,r,i){return wa(s,r,r.segments,i)}function wa(s,r,i,u){if(s.segments.length>i.length){const c=s.segments.slice(0,i.length);return!(!Ia(c,i)||r.hasChildren()||!Yh(c,i,u))}if(s.segments.length===i.length){if(!Ia(s.segments,i)||!Yh(s.segments,i,u))return!1;for(const c in r.children)if(!s.children[c]||!T_(s.children[c],r.children[c],u))return!1;return!0}{const c=i.slice(0,s.segments.length),f=i.slice(s.segments.length);return!!(Ia(s.segments,c)&&Yh(s.segments,c,u)&&s.children[ht])&&wa(s.children[ht],r,f,u)}}function Yh(s,r,i){return r.every((u,c)=>D_[i](s[c].parameters,u.parameters))}class ba{constructor(r,i,u){this.root=r,this.queryParams=i,this.fragment=u}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return Yw.serialize(this)}}class Et{constructor(r,i){this.segments=r,this.children=i,this.parent=null,ar(i,(u,c)=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bu(this)}}class Ca{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return S_(this)}}function Ia(s,r){return s.length===r.length&&s.every((i,u)=>i.path===r[u].path)}class Tg{}class Ag{parse(r){const i=new nb(r);return new ba(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${Da(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const u=s[i];return Array.isArray(u)?u.map(c=>`${Cc(i)}=${Cc(c)}`).join("&"):`${Cc(i)}=${Cc(u)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const Yw=new Ag;function Bu(s){return s.segments.map(r=>S_(r)).join("/")}function Da(s,r){if(!s.hasChildren())return Bu(s);if(r){const i=s.children[ht]?Da(s.children[ht],!1):"",u=[];return ar(s.children,(c,f)=>{f!==ht&&u.push(`${f}:${Da(c,!1)}`)}),u.length>0?`${i}(${u.join("//")})`:i}{const i=function(s,r){let i=[];return ar(s.children,(u,c)=>{c===ht&&(i=i.concat(r(u,c)))}),ar(s.children,(u,c)=>{c!==ht&&(i=i.concat(r(u,c)))}),i}(s,(u,c)=>c===ht?[Da(s.children[ht],!1)]:[`${c}:${Da(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[ht]?`${Bu(s)}/${i[0]}`:`${Bu(s)}/(${i.join("//")})`}}function A_(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cc(s){return A_(s).replace(/%3B/gi,";")}function Qh(s){return A_(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ta(s){return decodeURIComponent(s)}function Jw(s){return Ta(s.replace(/\+/g,"%20"))}function S_(s){return`${Qh(s.path)}${function(s){return Object.keys(s).map(r=>`;${Qh(r)}=${Qh(s[r])}`).join("")}(s.parameters)}`}const Xw=/^[^\/()?;=#]+/;function Ic(s){const r=s.match(Xw);return r?r[0]:""}const eb=/^[^=?&#]+/,tb=/^[^?&#]+/;class nb{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(u[ht]=new Et(r,i)),u}parseSegment(){const r=Ic(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Ca(Ta(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=Ic(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const c=Ic(this.remaining);c&&(u=c,this.capture(u))}r[Ta(i)]=Ta(u)}parseQueryParam(r){const i=function(s){const r=s.match(eb);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const y=function(s){const r=s.match(tb);return r?r[0]:""}(this.remaining);y&&(u=y,this.capture(u))}const c=Jw(i),f=Jw(u);if(r.hasOwnProperty(c)){let y=r[c];Array.isArray(y)||(y=[y],r[c]=y),y.push(f)}else r[c]=f}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=Ic(this.remaining),c=this.remaining[u.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;u.indexOf(":")>-1?(f=u.substr(0,u.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=ht);const y=this.parseChildren();i[f]=1===Object.keys(y).length?y[ht]:new Et([],y),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class rb{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=x_(r,this._root);return i?i.children.map(u=>u.value):[]}firstChild(r){const i=x_(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=fi(r,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==r)}pathFromRoot(r){return fi(r,this._root).map(i=>i.value)}}function x_(s,r){if(s===r.value)return r;for(const i of r.children){const u=x_(s,i);if(u)return u}return null}function fi(s,r){if(s===r.value)return[r];for(const i of r.children){const u=fi(s,i);if(u.length)return u.unshift(r),u}return[]}class vo{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Dc(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class ib extends rb{constructor(r,i){super(r),this.snapshot=i,Ye(this,r)}toString(){return this.snapshot.toString()}}function sb(s,r){const i=function(s,r){const y=new Sg([],{},{},"",{},ht,r,null,s.root,-1,{});return new ob("",new vo(y,[]))}(s,r),u=new di([new Ca("",{})]),c=new di({}),f=new di({}),y=new di({}),b=new di(""),T=new Tc(u,c,y,b,f,ht,r,i.root);return T.snapshot=i.root,new ib(new vo(T,[]),i)}class Tc{constructor(r,i,u,c,f,y,b,T){this.url=r,this.params=i,this.queryParams=u,this.fragment=c,this.data=f,this.outlet=y,this.component=b,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(r=>Uu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(r=>Uu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function N_(s,r="emptyOnly"){const i=s.pathFromRoot;let u=0;if("always"!==r)for(u=i.length-1;u>=1;){const c=i[u],f=i[u-1];if(c.routeConfig&&""===c.routeConfig.path)u--;else{if(f.component)break;u--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(u))}class Sg{constructor(r,i,u,c,f,y,b,T,x,N,M){this.url=r,this.params=i,this.queryParams=u,this.fragment=c,this.data=f,this.outlet=y,this.component=b,this.routeConfig=T,this._urlSegment=x,this._lastPathIndex=N,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ob extends rb{constructor(r,i){super(i),this.url=r,Ye(this,i)}toString(){return R_(this._root)}}function Ye(s,r){r.value._routerState=s,r.children.forEach(i=>Ye(s,i))}function R_(s){const r=s.children.length>0?` { ${s.children.map(R_).join(", ")} } `:"";return`${s.value}${r}`}function xg(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,xi(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),xi(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!xi(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),xi(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function Ac(s,r){return xi(s.params,r.params)&&function(s,r){return Ia(s,r)&&s.every((i,u)=>xi(i.parameters,r[u].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||Ac(s.parent,r.parent))}function Jh(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const u=i.value;u._futureSnapshot=r.value;const c=function(s,r,i){return r.children.map(u=>{for(const c of i.children)if(s.shouldReuseRoute(u.value,c.value.snapshot))return Jh(s,u,c);return Jh(s,u)})}(s,r,i);return new vo(u,c)}{if(s.shouldAttach(r.value)){const f=s.retrieve(r.value);if(null!==f){const y=f.route;return ab(r,y),y}}const u=function(s){return new Tc(new di(s.url),new di(s.params),new di(s.queryParams),new di(s.fragment),new di(s.data),s.outlet,s.component,s)}(r.value),c=r.children.map(f=>Jh(s,f));return new vo(u,c)}}function ab(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)ab(s.children[i],r.children[i])}function Xh(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function ju(s){return"object"==typeof s&&null!=s&&s.outlets}function ub(s,r,i,u,c){let f={};return u&&ar(u,(y,b)=>{f[b]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),new ba(i.root===s?r:P_(i.root,s,r),f,c)}function P_(s,r,i){const u={};return ar(s.children,(c,f)=>{u[f]=c===r?i:P_(c,r,i)}),new Et(s.segments,u)}class TT{constructor(r,i,u){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=u,r&&u.length>0&&Xh(u[0]))throw new Error("Root segment cannot have matrix parameters");const c=u.find(ju);if(c&&c!==qw(u))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sc{constructor(r,i,u){this.segmentGroup=r,this.processChildren=i,this.index=u}}function lb(s,r,i){if(s||(s=new Et([],{})),0===s.segments.length&&s.hasChildren())return ef(s,r,i);const u=function(s,r,i){let u=0,c=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<s.segments.length;){if(u>=i.length)return f;const y=s.segments[c],b=i[u];if(ju(b))break;const T=`${b}`,x=u<i.length-1?i[u+1]:null;if(c>0&&void 0===T)break;if(T&&x&&"object"==typeof x&&void 0===x.outlets){if(!V_(T,x,y))return f;u+=2}else{if(!V_(T,{},y))return f;u++}c++}return{match:!0,pathIndex:c,commandIndex:u}}(s,r,i),c=i.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const f=new Et(s.segments.slice(0,u.pathIndex),{});return f.children[ht]=new Et(s.segments.slice(u.pathIndex),s.children),ef(f,0,c)}return u.match&&0===c.length?new Et(s.segments,{}):u.match&&!s.hasChildren()?F_(s,r,i):u.match?ef(s,0,c):F_(s,r,i)}function ef(s,r,i){if(0===i.length)return new Et(s.segments,{});{const u=function(s){return ju(s[0])?s[0].outlets:{[ht]:s}}(i),c={};return ar(u,(f,y)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[y]=lb(s.children[y],r,f))}),ar(s.children,(f,y)=>{void 0===u[y]&&(c[y]=f)}),new Et(s.segments,c)}}function F_(s,r,i){const u=s.segments.slice(0,r);let c=0;for(;c<i.length;){const f=i[c];if(ju(f)){const T=Wx(f.outlets);return new Et(u,T)}if(0===c&&Xh(i[0])){u.push(new Ca(s.segments[r].path,L_(i[0]))),c++;continue}const y=ju(f)?f.outlets[ht]:`${f}`,b=c<i.length-1?i[c+1]:null;y&&b&&Xh(b)?(u.push(new Ca(y,L_(b))),c+=2):(u.push(new Ca(y,{})),c++)}return new Et(u,{})}function Wx(s){const r={};return ar(s,(i,u)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[u]=F_(new Et([],{}),0,i))}),r}function L_(s){const r={};return ar(s,(i,u)=>r[u]=`${i}`),r}function V_(s,r,i){return s==i.path&&xi(r,i.parameters)}class U_{constructor(r,i,u,c){this.routeReuseStrategy=r,this.futureState=i,this.currState=u,this.forwardEvent=c}activate(r){const i=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,u,r),xg(this.futureState.root),this.activateChildRoutes(i,u,r)}deactivateChildRoutes(r,i,u){const c=Dc(i);r.children.forEach(f=>{const y=f.value.outlet;this.deactivateRoutes(f,c[y],u),delete c[y]}),ar(c,(f,y)=>{this.deactivateRouteAndItsChildren(f,u)})}deactivateRoutes(r,i,u){const c=r.value,f=i?i.value:null;if(c===f)if(c.component){const y=u.getContext(c.outlet);y&&this.deactivateChildRoutes(r,i,y.children)}else this.deactivateChildRoutes(r,i,u);else f&&this.deactivateRouteAndItsChildren(i,u)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const u=i.getContext(r.value.outlet);if(u&&u.outlet){const c=u.outlet.detach(),f=u.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:c,route:r,contexts:f})}}deactivateRouteAndOutlet(r,i){const u=i.getContext(r.value.outlet),c=u&&r.value.component?u.children:i,f=Dc(r);for(const y of Object.keys(f))this.deactivateRouteAndItsChildren(f[y],c);u&&u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated(),u.attachRef=null,u.resolver=null,u.route=null)}activateChildRoutes(r,i,u){const c=Dc(i);r.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],u),this.forwardEvent(new jw(f.value.snapshot))}),r.children.length&&this.forwardEvent(new Bw(r.value.snapshot))}activateRoutes(r,i,u){const c=r.value,f=i?i.value:null;if(xg(c),c===f)if(c.component){const y=u.getOrCreateContext(c.outlet);this.activateChildRoutes(r,i,y.children)}else this.activateChildRoutes(r,i,u);else if(c.component){const y=u.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const b=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),y.children.onOutletReAttached(b.contexts),y.attachRef=b.componentRef,y.route=b.route.value,y.outlet&&y.outlet.attach(b.componentRef,b.route.value),ST(b.route)}else{const b=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),T=b?b.module.componentFactoryResolver:null;y.attachRef=null,y.route=c,y.resolver=T,y.outlet&&y.outlet.activateWith(c,T),this.activateChildRoutes(r,null,y.children)}}else this.activateChildRoutes(r,null,u)}}function ST(s){xg(s.value),s.children.forEach(ST)}class cb{constructor(r,i){this.routes=r,this.module=i}}function Hu(s){return"function"==typeof s}function xc(s){return s instanceof ba}const Rg=Symbol("INITIAL_VALUE");function Ni(){return Rn(s=>function(...s){let r,i;return(0,yg.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,qi.k)(s[0])&&(s=s[0]),(0,sn.n)(s,i).lift(new po(r))}(s.map(r=>r.pipe(mo(1),Sr(Rg)))).pipe(Ki((r,i)=>{let u=!1;return i.reduce((c,f,y)=>c!==Rg?c:(f===Rg&&(u=!0),u||!1!==f&&y!==i.length-1&&!xc(f)?c:f),r)},Rg),Zr(r=>r!==Rg),(0,nt.U)(r=>xc(r)?r:!0===r),mo(1)))}let Mg=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,u){1&i&&m._UZ(0,"router-outlet")},directives:function(){return[Ms]},encapsulation:2}),s})();function db(s,r=""){for(let i=0;i<s.length;i++){const u=s[i];hb(u,B_(r,u))}}function hb(s,r){s.children&&db(s.children,r)}function B_(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function Og(s){const r=s.children&&s.children.map(Og),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==ht&&(i.component=Mg),i}function zr(s){return s.outlet||ht}function fb(s,r){const i=s.filter(u=>zr(u)===r);return i.push(...s.filter(u=>zr(u)!==r)),i}const bo={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tf(s,r,i){var u;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},bo):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||Hw)(i,s,r);if(!f)return Object.assign({},bo);const y={};ar(f.posParams,(T,x)=>{y[x]=T.path});const b=f.consumed.length>0?Object.assign(Object.assign({},y),f.consumed[f.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:b,positionalParamSegments:null!==(u=f.posParams)&&void 0!==u?u:{}}}function Pg(s,r,i,u,c="corrected"){if(i.length>0&&function(s,r,i){return i.some(u=>kg(s,r,u)&&zr(u)!==ht)}(s,i,u)){const y=new Et(r,function(s,r,i,u){const c={};c[ht]=u,u._sourceSegment=s,u._segmentIndexShift=r.length;for(const f of i)if(""===f.path&&zr(f)!==ht){const y=new Et([],{});y._sourceSegment=s,y._segmentIndexShift=r.length,c[zr(f)]=y}return c}(s,r,u,new Et(i,s.children)));return y._sourceSegment=s,y._segmentIndexShift=r.length,{segmentGroup:y,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(u=>kg(s,r,u))}(s,i,u)){const y=new Et(s.segments,function(s,r,i,u,c,f){const y={};for(const b of u)if(kg(s,i,b)&&!c[zr(b)]){const T=new Et([],{});T._sourceSegment=s,T._segmentIndexShift="legacy"===f?s.segments.length:r.length,y[zr(b)]=T}return Object.assign(Object.assign({},c),y)}(s,r,i,u,s.children,c));return y._sourceSegment=s,y._segmentIndexShift=r.length,{segmentGroup:y,slicedSegments:i}}const f=new Et(s.segments,s.children);return f._sourceSegment=s,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:i}}function kg(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function gb(s,r,i,u){return!!(zr(s)===u||u!==ht&&kg(r,i,s))&&("**"===s.path||tf(r,s,i).matched)}function Nc(s,r,i){return 0===r.length&&!s.children[i]}class Ns{constructor(r){this.segmentGroup=r||null}}class Fg{constructor(r){this.urlTree=r}}function Co(s){return new ii.y(r=>r.error(new Ns(s)))}function Rc(s){return new ii.y(r=>r.error(new Fg(s)))}function Mc(s){return new ii.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class yb{constructor(r,i,u,c,f){this.configLoader=i,this.urlSerializer=u,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(m.h0i)}apply(){const r=Pg(this.urlTree.root,[],[],this.config).segmentGroup,i=new Et(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,ht).pipe((0,nt.U)(f=>this.createUrlTree(nf(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yo(f=>{if(f instanceof Fg)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Ns?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,ht).pipe((0,nt.U)(c=>this.createUrlTree(nf(c),r.queryParams,r.fragment))).pipe(yo(c=>{throw c instanceof Ns?this.noMatchError(c):c}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,u){const c=r.segments.length>0?new Et([],{[ht]:r}):r;return new ba(c,i,u)}expandSegmentGroup(r,i,u,c){return 0===u.segments.length&&u.hasChildren()?this.expandChildren(r,i,u).pipe((0,nt.U)(f=>new Et([],f))):this.expandSegment(r,u,i,u.segments,c,!0)}expandChildren(r,i,u){const c=[];for(const f of Object.keys(u.children))"primary"===f?c.unshift(f):c.push(f);return(0,Wt.D)(c).pipe(v(f=>{const y=u.children[f],b=fb(i,f);return this.expandSegmentGroup(r,b,y,f).pipe((0,nt.U)(T=>({segment:T,outlet:f})))}),Ki((f,y)=>(f[y.outlet]=y.segment,f),{}),function(s,r){const i=arguments.length>=2;return u=>u.pipe(s?Zr((c,f)=>s(c,f,u)):Wr.y,I(1),i?Ke(r):$(()=>new ya))}())}expandSegment(r,i,u,c,f,y){return(0,Wt.D)(u).pipe(v(b=>this.expandSegmentAgainstRoute(r,i,u,b,c,f,y).pipe(yo(x=>{if(x instanceof Ns)return(0,Ze.of)(null);throw x}))),bn(b=>!!b),yo((b,T)=>{if(b instanceof ya||"EmptyError"===b.name){if(Nc(i,c,f))return(0,Ze.of)(new Et([],{}));throw new Ns(i)}throw b}))}expandSegmentAgainstRoute(r,i,u,c,f,y,b){return gb(c,i,f,y)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(r,i,c,f,y):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,u,c,f,y):Co(i):Co(i)}expandSegmentAgainstRouteUsingRedirect(r,i,u,c,f,y){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,u,c,y):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,c,f,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,u,c){const f=this.applyRedirectCommands([],u.redirectTo,{});return u.redirectTo.startsWith("/")?Rc(f):this.lineralizeSegments(u,f).pipe((0,_.zg)(y=>{const b=new Et(y,{});return this.expandSegment(r,b,i,y,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,c,f,y){const{matched:b,consumedSegments:T,lastChild:x,positionalParamSegments:N}=tf(i,c,f);if(!b)return Co(i);const M=this.applyRedirectCommands(T,c.redirectTo,N);return c.redirectTo.startsWith("/")?Rc(M):this.lineralizeSegments(c,M).pipe((0,_.zg)(j=>this.expandSegment(r,i,u,j.concat(f.slice(x)),y,!1)))}matchSegmentAgainstRoute(r,i,u,c,f){if("**"===u.path)return u.loadChildren?(u._loadedConfig?(0,Ze.of)(u._loadedConfig):this.configLoader.load(r.injector,u)).pipe((0,nt.U)(j=>(u._loadedConfig=j,new Et(c,{})))):(0,Ze.of)(new Et(c,{}));const{matched:y,consumedSegments:b,lastChild:T}=tf(i,u,c);if(!y)return Co(i);const x=c.slice(T);return this.getChildConfig(r,u,c).pipe((0,_.zg)(M=>{const j=M.module,q=M.routes,{segmentGroup:fe,slicedSegments:Se}=Pg(i,b,x,q),Oe=new Et(fe.segments,fe.children);if(0===Se.length&&Oe.hasChildren())return this.expandChildren(j,q,Oe).pipe((0,nt.U)(Rt=>new Et(b,Rt)));if(0===q.length&&0===Se.length)return(0,Ze.of)(new Et(b,{}));const at=zr(u)===f;return this.expandSegment(j,Oe,q,Se,at?ht:f,!0).pipe((0,nt.U)(ut=>new Et(b.concat(ut.segments),ut.children)))}))}getChildConfig(r,i,u){return i.children?(0,Ze.of)(new cb(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,Ze.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,u).pipe((0,_.zg)(c=>{return c?this.configLoader.load(r.injector,i).pipe((0,nt.U)(f=>(i._loadedConfig=f,f))):(s=i,new ii.y(r=>r.error(Ea(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,Ze.of)(new cb([],r))}runCanLoadGuards(r,i,u){const c=i.canLoad;if(!c||0===c.length)return(0,Ze.of)(!0);const f=c.map(y=>{const b=r.get(y);let T;if((s=b)&&Hu(s.canLoad))T=b.canLoad(i,u);else{if(!Hu(b))throw new Error("Invalid CanLoad guard");T=b(i,u)}var s;return xs(T)});return(0,Ze.of)(f).pipe(Ni(),(0,Zn.b)(y=>{if(!xc(y))return;const b=Ea(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw b.url=y,b}),(0,nt.U)(y=>!0===y))}lineralizeSegments(r,i){let u=[],c=i.root;for(;;){if(u=u.concat(c.segments),0===c.numberOfChildren)return(0,Ze.of)(u);if(c.numberOfChildren>1||!c.children[ht])return Mc(r.redirectTo);c=c.children[ht]}}applyRedirectCommands(r,i,u){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,u)}applyRedirectCreatreUrlTree(r,i,u,c){const f=this.createSegmentGroup(r,i.root,u,c);return new ba(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const u={};return ar(r,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const b=c.substring(1);u[f]=i[b]}else u[f]=c}),u}createSegmentGroup(r,i,u,c){const f=this.createSegments(r,i.segments,u,c);let y={};return ar(i.children,(b,T)=>{y[T]=this.createSegmentGroup(r,b,u,c)}),new Et(f,y)}createSegments(r,i,u,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,c):this.findOrReturn(f,u))}findPosParam(r,i,u){const c=u[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return c}findOrReturn(r,i){let u=0;for(const c of i){if(c.path===r.path)return i.splice(u),c;u++}return r}}function nf(s){const r={};for(const u of Object.keys(s.children)){const f=nf(s.children[u]);(f.segments.length>0||f.hasChildren())&&(r[u]=f)}return function(s){if(1===s.numberOfChildren&&s.children[ht]){const r=s.children[ht];return new Et(s.segments.concat(r.segments),r.children)}return s}(new Et(s.segments,r))}class rf{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Lg{constructor(r,i){this.component=r,this.route=i}}function vb(s,r,i){const u=s._root;return of(u,r?r._root:null,i,[u.value])}function sf(s,r,i){const u=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(u?u.module.injector:i).get(s)}function of(s,r,i,u,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=Dc(r);return s.children.forEach(y=>{(function(s,r,i,u,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=s.value,y=r?r.value:null,b=i?i.getContext(s.value.outlet):null;if(y&&f.routeConfig===y.routeConfig){const T=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Ia(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Ia(s.url,r.url)||!xi(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ac(s,r)||!xi(s.queryParams,r.queryParams);case"paramsChange":default:return!Ac(s,r)}}(y,f,f.routeConfig.runGuardsAndResolvers);T?c.canActivateChecks.push(new rf(u)):(f.data=y.data,f._resolvedData=y._resolvedData),of(s,r,f.component?b?b.children:null:i,u,c),T&&b&&b.outlet&&b.outlet.isActivated&&c.canDeactivateChecks.push(new Lg(b.outlet.component,y))}else y&&af(r,b,c),c.canActivateChecks.push(new rf(u)),of(s,null,f.component?b?b.children:null:i,u,c)})(y,f[y.value.outlet],i,u.concat([y.value]),c),delete f[y.value.outlet]}),ar(f,(y,b)=>af(y,i.getContext(b),c)),c}function af(s,r,i){const u=Dc(s),c=s.value;ar(u,(f,y)=>{af(f,c.component?r?r.children.getContext(y):null:r,i)}),i.canDeactivateChecks.push(new Lg(c.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,c))}class $_{}function G_(s){return new ii.y(r=>r.error(s))}class FT{constructor(r,i,u,c,f,y){this.rootComponentType=r,this.config=i,this.urlTree=u,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=y}recognize(){const r=Pg(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,ht);if(null===i)return null;const u=new Sg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new vo(u,i),f=new ob(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const i=r.value,u=N_(i,this.paramsInheritanceStrategy);i.params=Object.freeze(u.params),i.data=Object.freeze(u.data),r.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(r,i,u){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,u)}processChildren(r,i){const u=[];for(const f of Object.keys(i.children)){const y=i.children[f],b=fb(r,f),T=this.processSegmentGroup(b,y,f);if(null===T)return null;u.push(...T)}const c=q_(u);return c.sort((r,i)=>r.value.outlet===ht?-1:i.value.outlet===ht?1:r.value.outlet.localeCompare(i.value.outlet)),c}processSegment(r,i,u,c){for(const f of r){const y=this.processSegmentAgainstRoute(f,i,u,c);if(null!==y)return y}return Nc(i,u,c)?[]:null}processSegmentAgainstRoute(r,i,u,c){if(r.redirectTo||!gb(r,i,u,c))return null;let f,y=[],b=[];if("**"===r.path){const q=u.length>0?qw(u).parameters:{};f=new Sg(u,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W_(r),zr(r),r.component,r,Ib(i),Z_(i)+u.length,Db(r))}else{const q=tf(i,r,u);if(!q.matched)return null;y=q.consumedSegments,b=u.slice(q.lastChild),f=new Sg(y,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W_(r),zr(r),r.component,r,Ib(i),Z_(i)+y.length,Db(r))}const T=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:x,slicedSegments:N}=Pg(i,y,b,T.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var s;if(0===N.length&&x.hasChildren()){const q=this.processChildren(T,x);return null===q?null:[new vo(f,q)]}if(0===T.length&&0===N.length)return[new vo(f,[])];const M=zr(r)===c,j=this.processSegment(T,x,N,M?ht:c);return null===j?null:[new vo(f,j)]}}function VT(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function q_(s){const r=[],i=new Set;for(const u of s){if(!VT(u)){r.push(u);continue}const c=r.find(f=>u.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...u.children),i.add(c)):r.push(u)}for(const u of i){const c=q_(u.children);r.push(new vo(u.value,c))}return r.filter(u=>!i.has(u))}function Ib(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Z_(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function W_(s){return s.data||{}}function Db(s){return s.resolve||{}}function Vg(s){return Rn(r=>{const i=s(r);return i?(0,Wt.D)(i).pipe((0,nt.U)(()=>r)):(0,Ze.of)(r)})}class $T extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const uf=new m.OlP("ROUTES");class Tb{constructor(r,i,u,c){this.loader=r,this.compiler=i,this.onLoadStartListener=u,this.onLoadEndListener=c}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,nt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const y=f.create(r);return new cb(Gw(y.injector.get(uf,void 0,m.XFs.Self|m.XFs.Optional)).map(Og),y)}),yo(f=>{throw i._loader$=void 0,f}));return i._loader$=new va.c(c,()=>new zi.xQ).pipe((0,bg.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Wt.D)(this.loader.load(r)):xs(r()).pipe((0,_.zg)(i=>i instanceof m.YKP?(0,Ze.of)(i):(0,Wt.D)(this.compiler.compileModuleAsync(i))))}}class GT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Io,this.attachRef=null}}class Io{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const u=this.getOrCreateContext(r);u.outlet=i,this.contexts.set(r,u)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new GT,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class qT{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Y_(s){throw s}function Q_(s,r,i){return r.parse("/")}function J_(s,r){return(0,Ze.of)(null)}const ZT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cn=(()=>{class s{constructor(i,u,c,f,y,b,T,x){this.rootComponentType=i,this.urlSerializer=u,this.rootContexts=c,this.location=f,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zi.xQ,this.errorHandler=Y_,this.malformedUriErrorHandler=Q_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:J_,afterPreactivation:J_},this.urlHandlingStrategy=new qT,this.routeReuseStrategy=new $T,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(m.h0i),this.console=y.get(m.c2e);const j=y.get(m.R0b);this.isNgZoneEnabled=j instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new ba(new Et([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tb(b,T,q=>this.triggerEvent(new Cg(q)),q=>this.triggerEvent(new Ig(q))),this.routerState=sb(this.currentUrlTree,this.rootComponentType),this.transitions=new di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const u=this.events;return i.pipe(Zr(c=>0!==c.id),(0,nt.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Rn(c=>{let f=!1,y=!1;return(0,Ze.of)(c).pipe((0,Zn.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rn(b=>{const T=!this.navigated||b.extractedUrl.toString()!==this.browserUrlTree.toString(),x=("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl);if(Ug(b.source)&&(this.browserUrlTree=b.rawUrl),x)return(0,Ze.of)(b).pipe(Rn(N=>{const M=this.transitions.getValue();return u.next(new bc(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),M!==this.transitions.getValue()?go.E:Promise.resolve(N)}),function(s,r,i,u){return Rn(c=>function(s,r,i,u,c){return new yb(s,r,i,u,c).apply()}(s,r,i,c.extractedUrl,u).pipe((0,nt.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function(s,r,i,u,c){return(0,_.zg)(f=>function(s,r,i,u,c="emptyOnly",f="legacy"){try{const y=new FT(s,r,i,u,c,f).recognize();return null===y?G_(new $_):(0,Ze.of)(y)}catch(y){return G_(y)}}(s,r,f.urlAfterRedirects,i(f.urlAfterRedirects),u,c).pipe((0,nt.U)(y=>Object.assign(Object.assign({},f),{targetSnapshot:y}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(N=>{"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(N.urlAfterRedirects,N),this.browserUrlTree=N.urlAfterRedirects);const M=new Bx(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);u.next(M)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:j,source:q,restoredState:fe,extras:Se}=b,Oe=new bc(M,this.serializeUrl(j),q,fe);u.next(Oe);const at=sb(j,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},b),{targetSnapshot:at,urlAfterRedirects:j,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),go.E}),Vg(b=>{const{targetSnapshot:T,id:x,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:j,replaceUrl:q}}=b;return this.hooks.beforePreactivation(T,{navigationId:x,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!j,replaceUrl:!!q})}),(0,Zn.b)(b=>{const T=new jx(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(T)}),(0,nt.U)(b=>Object.assign(Object.assign({},b),{guards:vb(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(s,r){return(0,_.zg)(i=>{const{targetSnapshot:u,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:y}}=i;return 0===y.length&&0===f.length?(0,Ze.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,u){return(0,Wt.D)(s).pipe((0,_.zg)(c=>function(s,r,i,u,c){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,Ze.of)(!0);const y=f.map(b=>{const T=sf(b,r,c);let x;if(function(s){return s&&Hu(s.canDeactivate)}(T))x=xs(T.canDeactivate(s,r,i,u));else{if(!Hu(T))throw new Error("Invalid CanDeactivate guard");x=xs(T(s,r,i,u))}return x.pipe(bn())});return(0,Ze.of)(y).pipe(Ni())}(c.component,c.route,i,r,u)),bn(c=>!0!==c,!0))}(y,u,c,s).pipe((0,_.zg)(b=>b&&function(s){return"boolean"==typeof s}(b)?function(s,r,i,u){return(0,Wt.D)(r).pipe(v(c=>Ec(function(s,r){return null!==s&&r&&r(new mT(s)),(0,Ze.of)(!0)}(c.route.parent,u),function(s,r){return null!==s&&r&&r(new Kh(s)),(0,Ze.of)(!0)}(c.route,u),function(s,r,i){const u=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(y=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(y)).filter(y=>null!==y).map(y=>Ts(()=>{const b=y.guards.map(T=>{const x=sf(T,y.node,i);let N;if(function(s){return s&&Hu(s.canActivateChild)}(x))N=xs(x.canActivateChild(u,s));else{if(!Hu(x))throw new Error("Invalid CanActivateChild guard");N=xs(x(u,s))}return N.pipe(bn())});return(0,Ze.of)(b).pipe(Ni())}));return(0,Ze.of)(f).pipe(Ni())}(s,c.path,i),function(s,r,i){const u=r.routeConfig?r.routeConfig.canActivate:null;if(!u||0===u.length)return(0,Ze.of)(!0);const c=u.map(f=>Ts(()=>{const y=sf(f,r,i);let b;if(function(s){return s&&Hu(s.canActivate)}(y))b=xs(y.canActivate(r,s));else{if(!Hu(y))throw new Error("Invalid CanActivate guard");b=xs(y(r,s))}return b.pipe(bn())}));return(0,Ze.of)(c).pipe(Ni())}(s,c.route,i))),bn(c=>!0!==c,!0))}(u,f,s,r):(0,Ze.of)(b)),(0,nt.U)(b=>Object.assign(Object.assign({},i),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),(0,Zn.b)(b=>{if(xc(b.guardsResult)){const x=Ea(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw x.url=b.guardsResult,x}const T=new Uw(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(T)}),Zr(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),Vg(b=>{if(b.guards.canActivateChecks.length)return(0,Ze.of)(b).pipe((0,Zn.b)(T=>{const x=new Hx(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(x)}),Rn(T=>{let x=!1;return(0,Ze.of)(T).pipe(function(s,r){return(0,_.zg)(i=>{const{targetSnapshot:u,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,Ze.of)(i);let f=0;return(0,Wt.D)(c).pipe(v(y=>function(s,r,i,u){return function(s,r,i,u){const c=Object.keys(s);if(0===c.length)return(0,Ze.of)({});const f={};return(0,Wt.D)(c).pipe((0,_.zg)(y=>function(s,r,i,u){const c=sf(s,r,u);return xs(c.resolve?c.resolve(r,i):c(r,i))}(s[y],r,i,u).pipe((0,Zn.b)(b=>{f[y]=b}))),I(1),(0,_.zg)(()=>Object.keys(f).length===c.length?(0,Ze.of)(f):go.E))}(s._resolve,s,r,u).pipe((0,nt.U)(f=>(s._resolvedData=f,s.data=Object.assign(Object.assign({},s.data),N_(s,i).resolve),null)))}(y.route,u,s,r)),(0,Zn.b)(()=>f++),I(1),(0,_.zg)(y=>f===c.length?(0,Ze.of)(i):go.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(T=>{const x=new Ss(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(x)}))}),Vg(b=>{const{targetSnapshot:T,id:x,extractedUrl:N,rawUrl:M,extras:{skipLocationChange:j,replaceUrl:q}}=b;return this.hooks.afterPreactivation(T,{navigationId:x,appliedUrlTree:N,rawUrlTree:M,skipLocationChange:!!j,replaceUrl:!!q})}),(0,nt.U)(b=>{const T=function(s,r,i){const u=Jh(s,r._root,i?i._root:void 0);return new ib(u,r)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:T})}),(0,Zn.b)(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((s,r,i)=>(0,nt.U)(u=>(new U_(r,u.targetRouterState,u.currentRouterState,i).activate(s),u)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),(0,Zn.b)({next(){f=!0},complete(){f=!0}}),function(s){return r=>r.lift(new E_(s))}(()=>{if(!f&&!y){const b=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,b)):this.cancelNavigationTransition(c,b)}this.currentNavigation=null}),yo(b=>{if(y=!0,function(s){return s&&s[yT]}(b)){const T=xc(b.url);T||(this.navigated=!0,this.restoreHistory(c,!0));const x=new Yi(c.id,this.serializeUrl(c.extractedUrl),b.message);u.next(x),T?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),M={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ug(c.source)};this.scheduleNavigation(N,"imperative",null,M,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const T=new Si(c.id,this.serializeUrl(c.extractedUrl),b);u.next(T);try{c.resolve(this.errorHandler(b))}catch(x){c.reject(x)}}return go.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const u=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,u)&&setTimeout(()=>{const{source:c,state:f,urlTree:y}=u,b={replaceUrl:!0};if(f){const T=Object.assign({},f);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(b.state=T)}this.scheduleNavigation(y,c,f,b)},0),this.lastLocationChangeInfo=u}))}extractLocationChangeInfoFromEvent(i){var u;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(u=i.state)||void 0===u?void 0:u.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,u){if(!i)return!0;const c=u.urlTree.toString()===i.urlTree.toString();return u.transitionId!==i.transitionId||!c||!("hashchange"===u.source&&"popstate"===i.source||"popstate"===u.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){db(i),this.config=i.map(Og),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,u={}){const{relativeTo:c,queryParams:f,fragment:y,queryParamsHandling:b,preserveFragment:T}=u,x=c||this.routerState.root,N=T?this.currentUrlTree.fragment:y;let M=null;switch(b){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=f||null}return null!==M&&(M=this.removeEmptyProps(M)),function(s,r,i,u,c){if(0===i.length)return ub(r.root,r.root,r,u,c);const f=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new TT(!0,0,s);let r=0,i=!1;const u=s.reduce((c,f,y)=>{if("object"==typeof f&&null!=f){if(f.outlets){const b={};return ar(f.outlets,(T,x)=>{b[x]="string"==typeof T?T.split("/"):T}),[...c,{outlets:b}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===y?(f.split("/").forEach((b,T)=>{0==T&&"."===b||(0==T&&""===b?i=!0:".."===b?r++:""!=b&&c.push(b))}),c):[...c,f]},[]);return new TT(i,r,u)}(i);if(f.toRoot())return ub(r.root,new Et([],{}),r,u,c);const y=function(s,r,i){if(s.isAbsolute)return new Sc(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new Sc(f,f===r.root,0)}const u=Xh(s.commands[0])?0:1;return function(s,r,i){let u=s,c=r,f=i;for(;f>c;){if(f-=c,u=u.parent,!u)throw new Error("Invalid number of '../'");c=u.segments.length}return new Sc(u,!1,c-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+u,s.numberOfDoubleDots)}(f,r,s),b=y.processChildren?ef(y.segmentGroup,y.index,f.commands):lb(y.segmentGroup,y.index,f.commands);return ub(y.segmentGroup,b,r,u,c)}(x,this.currentUrlTree,i,M,null!=N?N:null)}navigateByUrl(i,u={skipLocationChange:!1}){const c=xc(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,u)}navigate(i,u={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,u),u)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let u;try{u=this.urlSerializer.parse(i)}catch(c){u=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return u}isActive(i,u){let c;if(c=!0===u?Object.assign({},ZT):!1===u?Object.assign({},WT):u,xc(i))return Dg(this.currentUrlTree,i,c);const f=this.parseUrl(i);return Dg(this.currentUrlTree,f,c)}removeEmptyProps(i){return Object.keys(i).reduce((u,c)=>{const f=i[c];return null!=f&&(u[c]=f),u},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Vu(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,u,c,f,y){var b,T;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),N=Ug(u)&&x&&!Ug(x.source),q=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===i.toString();if(N&&q)return Promise.resolve(!0);let fe,Se,Oe;y?(fe=y.resolve,Se=y.reject,Oe=y.promise):Oe=new Promise((ut,Rt)=>{fe=ut,Se=Rt});const at=++this.navigationId;let Ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ct=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Ct=0,this.setTransition({id:at,targetPageId:Ct,source:u,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:fe,reject:Se,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(ut=>Promise.reject(ut))}setBrowserUrl(i,u){const c=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},u.extras.state),this.generateNgRouterState(u.id,u.targetPageId));this.location.isCurrentPathEqualTo(c)||u.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(i,u=!1){var c,f;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===y?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===y&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(u&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,u){const c=new Yi(i.id,this.serializeUrl(i.extractedUrl),u);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,u){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:u}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.DyG),m.LFG(Tg),m.LFG(Io),m.LFG(Ne),m.LFG(m.zs3),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function Ug(s){return"imperative"!==s}let Ms=(()=>{class s{constructor(i,u,c,f,y){this.parentContexts=i,this.location=u,this.resolver=c,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.name=f||ht,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,u){this.activated=i,this._activatedRoute=u,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,u){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const y=(u=u||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,T=new Hg(i,b,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Io),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},s.\u0275dir=m.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class Hg{constructor(r,i,u){this.route=r,this.childContexts=i,this.parent=u}get(r,i){return r===Tc?this.route:r===Io?this.childContexts:this.parent.get(r,i)}}class xb{}class KT{preload(r,i){return(0,Ze.of)(null)}}let Gu=(()=>{class s{constructor(i,u,c,f,y){this.router=i,this.injector=f,this.preloadingStrategy=y,this.loader=new Tb(u,c,x=>i.triggerEvent(new Cg(x)),x=>i.triggerEvent(new Ig(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(i=>i instanceof Vu),v(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(m.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,u){const c=[];for(const f of u)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const y=f._loadedConfig;c.push(this.processRoutes(y.module,y.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(i,f)):f.children&&c.push(this.processRoutes(i,f.children));return(0,Wt.D)(c).pipe((0,_a.J)(),(0,nt.U)(f=>{}))}preloadConfig(i,u){return this.preloadingStrategy.preload(u,()=>(u._loadedConfig?(0,Ze.of)(u._loadedConfig):this.loader.load(i.injector,u)).pipe((0,_.zg)(f=>(u._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Cn),m.LFG(m.v3s),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(xb))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})(),$g=(()=>{class s{constructor(i,u,c={}){this.router=i,this.viewportScroller=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof bc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Vu&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof w_&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,u){this.router.triggerEvent(new w_(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,u))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Cn),m.LFG(Fl),m.LFG(void 0))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();const Ji=new m.OlP("ROUTER_CONFIGURATION"),Nb=new m.OlP("ROUTER_FORROOT_GUARD"),Rb=[Ne,{provide:Tg,useClass:Ag},{provide:Cn,useFactory:function(s,r,i,u,c,f,y,b={},T,x){const N=new Cn(null,s,r,i,u,c,f,Gw(y));return T&&(N.urlHandlingStrategy=T),x&&(N.routeReuseStrategy=x),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(b,N),b.enableTracing&&N.events.subscribe(M=>{var j,q;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(q=console.groupEnd)||void 0===q||q.call(console)}),N},deps:[Tg,Io,Ne,m.zs3,m.v3s,m.Sil,uf,Ji,[class{},new m.FiY],[class{},new m.FiY]]},Io,{provide:Tc,useFactory:function(s){return s.routerState.root},deps:[Cn]},{provide:m.v3s,useClass:m.EAV},Gu,KT,class{preload(r,i){return i().pipe(yo(()=>(0,Ze.of)(null)))}},{provide:Ji,useValue:{enableTracing:!1}}];function YT(){return new m.PXZ("Router",Cn)}let ev=(()=>{class s{constructor(i,u){}static forRoot(i,u){return{ngModule:s,providers:[Rb,Mb(i),{provide:Nb,useFactory:JT,deps:[[Cn,new m.FiY,new m.tp0]]},{provide:Ji,useValue:u||{}},{provide:K,useFactory:tv,deps:[ue,[new m.tBr(ve),new m.FiY],Ji]},{provide:$g,useFactory:QT,deps:[Cn,Fl,Ji]},{provide:xb,useExisting:u&&u.preloadingStrategy?u.preloadingStrategy:KT},{provide:m.PXZ,multi:!0,useFactory:YT},[nv,{provide:m.ip1,multi:!0,useFactory:XT,deps:[nv]},{provide:kb,useFactory:Pc,deps:[nv]},{provide:m.tb,multi:!0,useExisting:kb}]]}}static forChild(i){return{ngModule:s,providers:[Mb(i)]}}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Nb,8),m.LFG(Cn,8))},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({}),s})();function QT(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new $g(s,r,i)}function tv(s,r,i={}){return i.useHash?new Ae(s,r):new be(s,r)}function JT(s){return"guarded"}function Mb(s){return[{provide:m.deG,multi:!0,useValue:s},{provide:uf,multi:!0,useValue:s}]}let nv=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zi.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let u=null;const c=new Promise(b=>u=b),f=this.injector.get(Cn),y=this.injector.get(Ji);return"disabled"===y.initialNavigation?(f.setUpLocationChangeListener(),u(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,u(!0),this.resultOfPreactivationDone),f.initialNavigation()):u(!0),c})}bootstrapListener(i){const u=this.injector.get(Ji),c=this.injector.get(Gu),f=this.injector.get($g),y=this.injector.get(Cn),b=this.injector.get(m.z2F);i===b.components[0]&&(("enabledNonBlocking"===u.initialNavigation||void 0===u.initialNavigation)&&y.initialNavigation(),c.setUpPreloading(),f.init(),y.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(m.zs3))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s})();function XT(s){return s.appInitializer.bind(s)}function Pc(s){return s.bootstrapListener.bind(s)}const kb=new m.OlP("Router Initializer"),tA=function(s){return{"background-position":"center","background-repeat":"no-repeat","background-size":"cover","background-image":s}};let nA=(()=>{class s{constructor(i){this.router=i,this.bk=ci.getUrlappBK()}ngOnInit(){}home(){this.router.navigate(["home"])}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Cn))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-about"]],decls:16,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"click"],[1,"text-center",3,"ngStyle"],[1,"contenedor"],["src","/assets/images/avatar.png","alt","",1,"img-fluid","${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}"]],template:function(i,u){1&i&&(m.TgZ(0,"nav",0),m.TgZ(1,"div",1),m.TgZ(2,"button",2),m._UZ(3,"span",3),m.qZA(),m.TgZ(4,"div",4),m.TgZ(5,"ul",5),m.TgZ(6,"li",6),m.TgZ(7,"a",7),m.NdJ("click",function(){return u.home()}),m._uU(8,"Home"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(9,"main",8),m.TgZ(10,"div",9),m._UZ(11,"img",10),m.TgZ(12,"h1"),m._uU(13,"Quien soy!!"),m.qZA(),m.TgZ(14,"p"),m._uU(15,"Hola, me llamo Gabriel Jakubek y soy alumno de la tecnicatura superior en programacion de la UTNFRA. Mi legajo es el n\xfamero 106914 y esta es mi sala de juegos para la materia laboratorio 4."),m.qZA(),m.qZA(),m.qZA()),2&i&&(m.xp6(9),m.Q6J("ngStyle",m.VKq(1,tA,u.bk)))},styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5;height:calc(100% - 4.3%)}img[_ngcontent-%COMP%]{height:30rem}.contenedor[_ngcontent-%COMP%]{width:100%;max-width:50%;padding:15px;margin:auto;background-color:#f8f1f199;border-radius:5px;box-shadow:0 0 10px #000}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#020202}"]}),s})(),Fb=(()=>{class s{constructor(){this.nombreusuario=""}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rv=(()=>{class s{constructor(i,u){this.router=i,this.usuario=u,this.usuarioActual="",this.bk=ci.getUrlappBK(),this.usuarioActual=u.nombreusuario}ngOnInit(){}regresar(){this.router.navigate(["login"])}quiensoy(){this.router.navigate(["about"])}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Cn),m.Y36(Fb))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-home"]],decls:151,vars:1,consts:[[1,"position-relative","overflow-hidden","p-3","p-md-5","m-md-3","text-center","bg-light"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","font-weight-normal"],[1,"lead","font-weight-normal"],["href","#",1,"btn","btn-outline-secondary"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"d-md-flex","flex-md-equal","w-100","my-md-3","pl-md-3"],[1,"bg-dark","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"my-3","py-3"],[1,"display-5"],[1,"lead"],[1,"bg-light","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-light","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","overflow-hidden"],[1,"my-3","p-3"],[1,"bg-dark","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"bg-primary","mr-md-3","pt-3","px-3","pt-md-5","px-md-5","text-center","text-white","overflow-hidden"],[1,"bg-white","shadow-sm","mx-auto",2,"width","80%","height","300px","border-radius","21px 21px 0 0"],[1,"container","py-5"],[1,"row"],[1,"col-12","col-md"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mb-2"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],[1,"d-block","mb-3","text-muted"],[1,"col-6","col-md"],[1,"list-unstyled","text-small"],["href","#",1,"text-muted"]],template:function(i,u){1&i&&(m._UZ(0,"app-menu-principal"),m.TgZ(1,"div",0),m.TgZ(2,"div",1),m.TgZ(3,"h1",2),m._uU(4),m.qZA(),m.TgZ(5,"p",3),m._uU(6,"And an even wittier subheading to boot. Jumpstart your marketing efforts with this example based on Apple\u2019s marketing pages."),m.qZA(),m.TgZ(7,"a",4),m._uU(8,"Coming soon"),m.qZA(),m.qZA(),m._UZ(9,"div",5),m._UZ(10,"div",6),m.qZA(),m.TgZ(11,"div",7),m.TgZ(12,"div",8),m.TgZ(13,"div",9),m.TgZ(14,"h2",10),m._uU(15,"Another headline"),m.qZA(),m.TgZ(16,"p",11),m._uU(17,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(18,"div",12),m.qZA(),m.TgZ(19,"div",13),m.TgZ(20,"div",14),m.TgZ(21,"h2",10),m._uU(22,"Another headline"),m.qZA(),m.TgZ(23,"p",11),m._uU(24,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(25,"div",15),m.qZA(),m.qZA(),m.TgZ(26,"div",7),m.TgZ(27,"div",13),m.TgZ(28,"div",14),m.TgZ(29,"h2",10),m._uU(30,"Another headline"),m.qZA(),m.TgZ(31,"p",11),m._uU(32,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(33,"div",15),m.qZA(),m.TgZ(34,"div",16),m.TgZ(35,"div",9),m.TgZ(36,"h2",10),m._uU(37,"Another headline"),m.qZA(),m.TgZ(38,"p",11),m._uU(39,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(40,"div",12),m.qZA(),m.qZA(),m.TgZ(41,"div",7),m.TgZ(42,"div",13),m.TgZ(43,"div",14),m.TgZ(44,"h2",10),m._uU(45,"Another headline"),m.qZA(),m.TgZ(46,"p",11),m._uU(47,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(48,"div",17),m.qZA(),m.TgZ(49,"div",13),m.TgZ(50,"div",9),m.TgZ(51,"h2",10),m._uU(52,"Another headline"),m.qZA(),m.TgZ(53,"p",11),m._uU(54,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(55,"div",17),m.qZA(),m.qZA(),m.TgZ(56,"div",7),m.TgZ(57,"div",13),m.TgZ(58,"div",14),m.TgZ(59,"h2",10),m._uU(60,"Another headline"),m.qZA(),m.TgZ(61,"p",11),m._uU(62,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(63,"div",17),m.qZA(),m.TgZ(64,"div",13),m.TgZ(65,"div",9),m.TgZ(66,"h2",10),m._uU(67,"Another headline"),m.qZA(),m.TgZ(68,"p",11),m._uU(69,"And an even wittier subheading."),m.qZA(),m.qZA(),m._UZ(70,"div",17),m.qZA(),m.qZA(),m.TgZ(71,"footer",18),m.TgZ(72,"div",19),m.TgZ(73,"div",20),m.O4$(),m.TgZ(74,"svg",21),m.TgZ(75,"title"),m._uU(76,"Product"),m.qZA(),m._UZ(77,"circle",22),m._UZ(78,"path",23),m.qZA(),m.kcU(),m.TgZ(79,"small",24),m._uU(80,"\xa9 2017-2021"),m.qZA(),m.qZA(),m.TgZ(81,"div",25),m.TgZ(82,"h5"),m._uU(83,"Features"),m.qZA(),m.TgZ(84,"ul",26),m.TgZ(85,"li"),m.TgZ(86,"a",27),m._uU(87,"Cool stuff"),m.qZA(),m.qZA(),m.TgZ(88,"li"),m.TgZ(89,"a",27),m._uU(90,"Random feature"),m.qZA(),m.qZA(),m.TgZ(91,"li"),m.TgZ(92,"a",27),m._uU(93,"Team feature"),m.qZA(),m.qZA(),m.TgZ(94,"li"),m.TgZ(95,"a",27),m._uU(96,"Stuff for developers"),m.qZA(),m.qZA(),m.TgZ(97,"li"),m.TgZ(98,"a",27),m._uU(99,"Another one"),m.qZA(),m.qZA(),m.TgZ(100,"li"),m.TgZ(101,"a",27),m._uU(102,"Last time"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(103,"div",25),m.TgZ(104,"h5"),m._uU(105,"Resources"),m.qZA(),m.TgZ(106,"ul",26),m.TgZ(107,"li"),m.TgZ(108,"a",27),m._uU(109,"Resource"),m.qZA(),m.qZA(),m.TgZ(110,"li"),m.TgZ(111,"a",27),m._uU(112,"Resource name"),m.qZA(),m.qZA(),m.TgZ(113,"li"),m.TgZ(114,"a",27),m._uU(115,"Another resource"),m.qZA(),m.qZA(),m.TgZ(116,"li"),m.TgZ(117,"a",27),m._uU(118,"Final resource"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(119,"div",25),m.TgZ(120,"h5"),m._uU(121,"Resources"),m.qZA(),m.TgZ(122,"ul",26),m.TgZ(123,"li"),m.TgZ(124,"a",27),m._uU(125,"Business"),m.qZA(),m.qZA(),m.TgZ(126,"li"),m.TgZ(127,"a",27),m._uU(128,"Education"),m.qZA(),m.qZA(),m.TgZ(129,"li"),m.TgZ(130,"a",27),m._uU(131,"Government"),m.qZA(),m.qZA(),m.TgZ(132,"li"),m.TgZ(133,"a",27),m._uU(134,"Gaming"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(135,"div",25),m.TgZ(136,"h5"),m._uU(137,"About"),m.qZA(),m.TgZ(138,"ul",26),m.TgZ(139,"li"),m.TgZ(140,"a",27),m._uU(141,"Team"),m.qZA(),m.qZA(),m.TgZ(142,"li"),m.TgZ(143,"a",27),m._uU(144,"Locations"),m.qZA(),m.qZA(),m.TgZ(145,"li"),m.TgZ(146,"a",27),m._uU(147,"Privacy"),m.qZA(),m.qZA(),m.TgZ(148,"li"),m.TgZ(149,"a",27),m._uU(150,"Terms"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&i&&(m.xp6(4),m.Oqu(u.usuarioActual))},styles:['.container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.product-device[_ngcontent-%COMP%]{position:absolute;right:10%;bottom:-30%;width:300px;height:540px;background-color:#333;border-radius:21px;transform:rotate(30deg)}.product-device[_ngcontent-%COMP%]:before{position:absolute;top:10%;right:10px;bottom:10%;left:10px;content:"";background-color:#ffffff1a;border-radius:5px}.product-device-2[_ngcontent-%COMP%]{top:-25%;right:auto;bottom:0;left:5%;background-color:#e5e5e5}.flex-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}@media (min-width: 768px){.flex-md-equal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}']}),s})();const Ft=function(s){return{"background-position":"center","background-repeat":"no-repeat","background-size":"cover","background-image":s}};let qg=(()=>{class s{constructor(i){this.router=i,this.bk=ci.getUrlLoginBK(),this.edadUno=0,this.edadDos=0,this.resultado=0,this.promedio=0}ngOnInit(){}calcular(){this.resultado=this.edadUno+this.edadDos,this.promedio=this.resultado/2}limpiar(){this.edadUno=0,this.edadDos=0,this.resultado=0,this.promedio=0}regresar(){this.router.navigate([""])}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Cn))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-ejercicio1"]],decls:24,vars:7,consts:[[1,"h_100",3,"ngStyle"],["title","Regresar",1,"btn","btn-sm","btn-secondary","mb-1",3,"click"],[1,"bi","bi-arrow-return-left"],[1,"flex_container","text-center"],["autocomplete","off",1,"form-signin"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","mb-1"],["type","number","id","edad1","name","edad1",1,"form-control",3,"ngModel","ngModelChange"],["for","edad1"],["type","number","id","edad2","name","edad2",1,"form-control",3,"ngModel","ngModelChange"],["for","edad2"],["type","text","aria-label","readonly input example","readonly","",1,"form-control","mb-1",3,"value"],[1,"w-100","btn","btn-lg","btn-primary","mb-1",3,"click"],[1,"w-100","btn","btn-lg","btn-secondary","mb-1",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(i,u){1&i&&(m.TgZ(0,"main",0),m.TgZ(1,"button",1),m.NdJ("click",function(){return u.regresar()}),m._UZ(2,"i",2),m.qZA(),m.TgZ(3,"div",3),m.TgZ(4,"form",4),m.TgZ(5,"h1",5),m._uU(6,"Ejercicio 1"),m.qZA(),m.TgZ(7,"div",6),m.TgZ(8,"input",7),m.NdJ("ngModelChange",function(f){return u.edadUno=f}),m.qZA(),m.TgZ(9,"label",8),m._uU(10,"Edad 1"),m.qZA(),m.qZA(),m.TgZ(11,"div",6),m.TgZ(12,"input",9),m.NdJ("ngModelChange",function(f){return u.edadDos=f}),m.qZA(),m.TgZ(13,"label",10),m._uU(14,"Edad 2"),m.qZA(),m.qZA(),m.TgZ(15,"div",6),m._UZ(16,"input",11),m._UZ(17,"input",11),m.qZA(),m.TgZ(18,"button",12),m.NdJ("click",function(){return u.calcular()}),m._uU(19,"Calcular"),m.qZA(),m.TgZ(20,"button",13),m.NdJ("click",function(){return u.limpiar()}),m._uU(21,"Limpiar campos"),m.qZA(),m.TgZ(22,"p",14),m._uU(23,"\xa9 2017\u20132021"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&i&&(m.Q6J("ngStyle",m.VKq(5,Ft,u.bk)),m.xp6(8),m.Q6J("ngModel",u.edadUno),m.xp6(4),m.Q6J("ngModel",u.edadDos),m.xp6(4),m.MGl("value","Resultado: ",u.resultado,""),m.xp6(1),m.MGl("value","Promedio: ",u.promedio,""))},styles:[".h_100[_ngcontent-%COMP%]{height:100%}.flex_container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;height:calc(100% - 10%)}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto;background-color:#f8f1f1b3;border-radius:5px;box-shadow:0 0 10px #000}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}"]}),s})(),rA=(()=>{class s{constructor(i,u){this.router=i,this.usuario=u,this.user="",this.password="",this.newUser="",this.newPassword="",this.autoUser="admin",this.autoPassword="123456",this.mostrarLogin=!0,this.mostrarReg=!1,this.mostrar=!1,this.bk=ci.getUrlLoginBK()}ngOnInit(){}autoCompletar(){this.user=this.autoUser,this.password=this.autoPassword}login(){this.user===this.autoUser&&this.password===this.autoPassword?this.router.navigate(["home"]):console.log("Acceso denegado")}registrarse(){this.router.navigate(["registro"])}cambiarVisibilidad(){this.mostrarLogin=!this.mostrarLogin,this.mostrarReg=!this.mostrarReg,this.mostrar=!1}mostrarPassword(){this.mostrar=!this.mostrar}regresar(){this.router.navigate([""])}siguiente(){this.usuario.nombreusuario="lalalala",console.log("siguiente"),console.log(this.usuario.nombreusuario);var i=this;setTimeout(function(){i.router.navigate(["home"])},2e3)}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Cn),m.Y36(Fb))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-login"]],decls:22,vars:0,consts:[[1,"form-signin"],[1,"mb-4","bi","bi-file-earmark-person","tama\xf1oIcono"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Password","required","",1,"form-control"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],["type","button",1,"btn","btn-lg","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-lg","btn-secondary","btn-block",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(i,u){1&i&&(m.TgZ(0,"form",0),m._UZ(1,"i",1),m.TgZ(2,"h1",2),m._uU(3,"Please sign in"),m.qZA(),m.TgZ(4,"label",3),m._uU(5,"Email address"),m.qZA(),m._UZ(6,"input",4),m.TgZ(7,"label",5),m._uU(8,"Password"),m.qZA(),m._UZ(9,"input",6),m.TgZ(10,"div",7),m.TgZ(11,"label"),m._UZ(12,"input",8),m._uU(13," Remember me "),m.qZA(),m.qZA(),m.TgZ(14,"button",9),m.NdJ("click",function(){return u.siguiente()}),m._uU(15,"Iniciar"),m.qZA(),m.TgZ(16,"button",10),m.NdJ("click",function(){return u.registrarse()}),m._uU(17,"Registrarse"),m.qZA(),m.TgZ(18,"button",10),m.NdJ("click",function(){return u.autoCompletar()}),m._uU(19,"Auto completar"),m.qZA(),m.TgZ(20,"p",11),m._uU(21,"\xa9 2017-2021"),m.qZA(),m.qZA())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),s})(),Os=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["utn-registro"]],decls:16,vars:0,consts:[[1,"form-signin"],[1,"mb-4","bi","bi-file-earmark-person","tama\xf1oIcono"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Password","required","",1,"form-control"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],[1,"mt-5","mb-3","text-muted"]],template:function(i,u){1&i&&(m.TgZ(0,"form",0),m._UZ(1,"i",1),m.TgZ(2,"h1",2),m._uU(3,"Please sign in"),m.qZA(),m.TgZ(4,"label",3),m._uU(5,"Email address"),m.qZA(),m._UZ(6,"input",4),m.TgZ(7,"label",5),m._uU(8,"Password"),m.qZA(),m._UZ(9,"input",6),m.TgZ(10,"div",7),m.TgZ(11,"label"),m._UZ(12,"input",8),m._uU(13," Remember me "),m.qZA(),m.qZA(),m.TgZ(14,"p",9),m._uU(15,"\xa9 2017-2021"),m.qZA(),m.qZA())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),s})();const iv=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:rA},{path:"registro",component:Os},{path:"ejer1",component:qg},{path:"home",component:rv},{path:"about",component:nA},{path:"**",component:g_}];let sv=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({imports:[[ev.forRoot(iv)],ev]}),s})(),iA=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,template:function(i,u){1&i&&m._UZ(0,"router-outlet")},styles:[""]}),s})();const sA=function(s){return{"background-position":"center","background-repeat":"no-repeat","background-size":"cover","background-image":s}};let oA=(()=>{class s{constructor(i){this.router=i,this.bk=ci.getUrlLoginBK()}ngOnInit(){}ejer1(){this.router.navigate(["ejer1"])}regresar(){this.router.navigate([""])}login(){this.router.navigate(["login"])}}return s.\u0275fac=function(i){return new(i||s)(m.Y36(Cn))},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-bienvenido"]],decls:10,vars:3,consts:[[1,"text-center",3,"ngStyle"],[1,"form-signin"],[1,"h3","mb-3","fw-normal"],["type","submit",1,"w-100","btn","btn-lg","btn-primary","mb-1",3,"click"],["type","submit",1,"w-100","btn","btn-lg","btn-secondary",3,"click"],[1,"mt-5","mb-3","text-muted"]],template:function(i,u){1&i&&(m.TgZ(0,"main",0),m.TgZ(1,"form",1),m.TgZ(2,"h1",2),m._uU(3,"Bienvenido!!!"),m.qZA(),m.TgZ(4,"button",3),m.NdJ("click",function(){return u.login()}),m._uU(5,"Login"),m.qZA(),m.TgZ(6,"button",4),m.NdJ("click",function(){return u.ejer1()}),m._uU(7,"Ejercicio 1"),m.qZA(),m.TgZ(8,"p",5),m._uU(9,"\xa9 2017\u20132021"),m.qZA(),m.qZA(),m.qZA()),2&i&&m.Q6J("ngStyle",m.VKq(1,sA,u.bk))},styles:["main[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto;background-color:#f8f1f1b3;border-radius:5px;box-shadow:0 0 10px #000}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}"]}),s})(),Lb=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["app-menu-principal"]],decls:22,vars:0,consts:[[1,"site-header","sticky-top","py-1"],[1,"container","d-flex","flex-column","flex-md-row","justify-content-between"],["href","#","aria-label","Product",1,"py-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","role","img","viewBox","0 0 24 24","focusable","false",1,"d-block","mx-auto"],["cx","12","cy","12","r","10"],["d","M14.31 8l5.74 9.94M9.69 8h11.48M7.38 12l5.74-9.94M9.69 16L3.95 6.06M14.31 16H2.83m13.79-4l-5.74 9.94"],["href","#",1,"py-2","d-none","d-md-inline-block"]],template:function(i,u){1&i&&(m.TgZ(0,"nav",0),m.TgZ(1,"div",1),m.TgZ(2,"a",2),m.O4$(),m.TgZ(3,"svg",3),m.TgZ(4,"title"),m._uU(5,"Product"),m.qZA(),m._UZ(6,"circle",4),m._UZ(7,"path",5),m.qZA(),m.qZA(),m.kcU(),m.TgZ(8,"a",6),m._uU(9,"Tour"),m.qZA(),m.TgZ(10,"a",6),m._uU(11,"Product"),m.qZA(),m.TgZ(12,"a",6),m._uU(13,"Features"),m.qZA(),m.TgZ(14,"a",6),m._uU(15,"Enterprise"),m.qZA(),m.TgZ(16,"a",6),m._uU(17,"Support"),m.qZA(),m.TgZ(18,"a",6),m._uU(19,"Pricing"),m.qZA(),m.TgZ(20,"a",6),m._uU(21,"Cart"),m.qZA(),m.qZA(),m.qZA())},styles:[".container[_ngcontent-%COMP%]{max-width:960px}.site-header[_ngcontent-%COMP%]{background-color:#000000d9;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;transition:ease-in-out color .15s}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}"]}),s})(),Vb=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=m.Xpm({type:s,selectors:[["utn-footer"]],decls:2,vars:0,template:function(i,u){1&i&&(m.TgZ(0,"p"),m._uU(1,"footer works!"),m.qZA())},styles:[""]}),s})();var Ub=O(6682),kc=O(309),aA=O(7771),lf=O(8858);class av extends zi.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,u){super(),this.scheduler=u,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new Bb(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,u=i?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=u.length;let y;if(this.closed)throw new mg.N;if(this.isStopped||this.hasError?y=Wh.w.EMPTY:(this.observers.push(r),y=new lf.W(this,r)),c&&r.add(r=new kc.ht(r,c)),i)for(let b=0;b<f&&!r.closed;b++)r.next(u[b]);else for(let b=0;b<f&&!r.closed;b++)r.next(u[b].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),y}_getNow(){return(this.scheduler||aA.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,u=this._windowTime,c=this._events,f=c.length;let y=0;for(;y<f&&!(r-c[y].time<u);)y++;return f>i&&(y=Math.max(y,f-i)),y>0&&c.splice(0,y),c}}class Bb{constructor(r,i){this.time=r,this.value=i}}function uv(s,r,i){let u;return u=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},c=>c.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:u}){let c,y,f=0,b=!1,T=!1;return function(N){let M;f++,!c||b?(b=!1,c=new av(s,r,u),M=c.subscribe(this),y=N.subscribe({next(j){c.next(j)},error(j){b=!0,c.error(j)},complete(){T=!0,y=void 0,c.complete()}}),T&&(y=void 0)):M=c.subscribe(this),this.add(()=>{f--,M.unsubscribe(),M=void 0,y&&!T&&i&&0===f&&(y.unsubscribe(),y=void 0,c=void 0)})}}(u))}function lv(s,r){return r?Rn(()=>s,r):Rn(()=>s)}var cv=O(3101),mr=O(9126),Do=O(8939),uA=O(7841);const lA=new m.OlP("angularfire2.auth.use-emulator"),dv=new m.OlP("angularfire2.auth.settings"),$b=new m.OlP("angularfire2.auth.tenant-id"),Gb=new m.OlP("angularfire2.auth.langugage-code"),cA=new m.OlP("angularfire2.auth.use-device-language"),dA=new m.OlP("angularfire.auth.persistence"),Zg=(s,r,i,u,c,f,y,b)=>(0,mr.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const T=r.runOutsideAngular(()=>s.auth());if(i&&T.useEmulator(...i),u&&(T.tenantId=u),T.languageCode=c,f&&T.useDeviceLanguage(),y)for(const[x,N]of Object.entries(y))T.settings[x]=N;return b&&T.setPersistence(b),T},[i,u,c,f,y,b]);let hv=(()=>{class s{constructor(i,u,c,f,y,b,T,x,N,M,j){const q=new zi.xQ,fe=(0,Ze.of)(void 0).pipe((0,kc.QV)(y.outsideAngular),Rn(()=>f.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9083)))),(0,nt.U)(()=>(0,Do.on)(i,f,u)),(0,nt.U)(Se=>Zg(Se,f,b,x,N,M,T,j)),uv({bufferSize:1,refCount:!1}));if(Pl(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ze.of)(null);else{fe.pipe(bn()).subscribe();const Oe=fe.pipe(Rn(ut=>ut.getRedirectResult().then(Rt=>Rt,()=>null)),mr.iC,uv({bufferSize:1,refCount:!1})),at=fe.pipe(Rn(ut=>new ii.y(Rt=>({unsubscribe:f.runOutsideAngular(()=>ut.onAuthStateChanged(rr=>Rt.next(rr),rr=>Rt.error(rr),()=>Rt.complete()))})))),Ct=fe.pipe(Rn(ut=>new ii.y(Rt=>({unsubscribe:f.runOutsideAngular(()=>ut.onIdTokenChanged(rr=>Rt.next(rr),rr=>Rt.error(rr),()=>Rt.complete()))}))));this.authState=Oe.pipe(lv(at),(0,cv.R)(y.outsideAngular),(0,kc.QV)(y.insideAngular)),this.user=Oe.pipe(lv(Ct),(0,cv.R)(y.outsideAngular),(0,kc.QV)(y.insideAngular)),this.idToken=this.user.pipe(Rn(ut=>ut?(0,Wt.D)(ut.getIdToken()):(0,Ze.of)(null))),this.idTokenResult=this.user.pipe(Rn(ut=>ut?(0,Wt.D)(ut.getIdTokenResult()):(0,Ze.of)(null))),this.credential=(0,Ub.T)(Oe,q,this.authState.pipe(Zr(ut=>!ut))).pipe((0,nt.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,cv.R)(y.outsideAngular),(0,kc.QV)(y.insideAngular))}return(0,Do.pX)(this,fe,f,{spy:{apply:(Se,Oe,at)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&at.then(Ct=>q.next(Ct))}}})}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Do.Dh),m.LFG(Do.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(mr.HU),m.LFG(lA,8),m.LFG(dv,8),m.LFG($b,8),m.LFG(Gb,8),m.LFG(cA,8),m.LFG(dA,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();var qb=O(3637);function Zb(){return s=>s.lift(new Xi)}class Xi{call(r,i){return i.subscribe(new lN(r))}}class lN extends qr.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}class dN{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new Wb(r,this.compare,this.keySelector))}}class Wb extends qr.L{constructor(r,i,u){super(r),this.keySelector=u,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:c}=this;i=c?c(r):r}catch(c){return this.destination.error(c)}let u=!1;if(this.hasKey)try{const{compare:c}=this;u=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;u||(this.key=i,this.destination.next(r))}}O(9083);var zb=O(4486),pe=O(8239),Kb=O(5452),fv=O(6034),To=O(300),xt=O(4685),cf=function(s,r){return(cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(i[c]=u[c])})(s,r)};function Yb(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],u=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var ke,gA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pv=pv||{},et=gA||self;function qu(){}function Aa(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function Fc(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var Zu="closure_uid_"+(1e9*Math.random()>>>0),mA=0;function yA(s,r,i){return s.call.apply(s.bind,arguments)}function gv(s,r,i){if(!s)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,u),s.apply(r,c)}}return function(){return s.apply(r,arguments)}}function zt(s,r,i){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yA:gv).apply(null,arguments)}function Sa(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var u=i.slice();return u.push.apply(u,arguments),s.apply(this,u)}}function St(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(u,c,f){for(var y=Array(arguments.length-2),b=2;b<arguments.length;b++)y[b-2]=arguments[b];return r.prototype[c].apply(u,y)}}function Kr(){this.s=this.s,this.o=this.o}var Ri={};Kr.prototype.s=!1,Kr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,Zu)&&s[Zu]||(s[Zu]=++mA)}(this);delete Ri[s]}},Kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zg=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},Wu=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var u=s.length,c="string"==typeof s?s.split(""):s,f=0;f<u;f++)f in c&&r.call(i,c[f],f,s)};function zu(s){return Array.prototype.concat.apply([],arguments)}function xa(s){var r=s.length;if(0<r){for(var i=Array(r),u=0;u<r;u++)i[u]=s[u];return i}return[]}function Ao(s){return/^[\s\xa0]*$/.test(s)}var On,Ku=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function Mn(s,r){return-1!=s.indexOf(r)}function Na(s,r){return s<r?-1:s>r?1:0}e:{var mv=et.navigator;if(mv){var yv=mv.userAgent;if(yv){On=yv;break e}}On=""}function Kg(s,r,i){for(var u in s)r.call(i,s[u],u,s)}function _v(s){var r={};for(var i in s)r[i]=s[i];return r}var vv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ev(s,r){for(var i,u,c=1;c<arguments.length;c++){for(i in u=arguments[c])s[i]=u[i];for(var f=0;f<vv.length;f++)i=vv[f],Object.prototype.hasOwnProperty.call(u,i)&&(s[i]=u[i])}}function Yg(s){return Yg[" "](s),s}Yg[" "]=qu;var bv,s,Jb=Mn(On,"Opera"),Vc=Mn(On,"Trident")||Mn(On,"MSIE"),Xb=Mn(On,"Edge"),wv=Xb||Vc,eC=Mn(On,"Gecko")&&!(Mn(On.toLowerCase(),"webkit")&&!Mn(On,"Edge"))&&!(Mn(On,"Trident")||Mn(On,"MSIE"))&&!Mn(On,"Edge"),tC=Mn(On.toLowerCase(),"webkit")&&!Mn(On,"Edge");function nC(){var s=et.document;return s?s.documentMode:void 0}e:{var Cv="",Qg=(s=On,eC?/rv:([^\);]+)(\)|;)/.exec(s):Xb?/Edge\/([\d\.]+)/.exec(s):Vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):tC?/WebKit\/(\S+)/.exec(s):Jb?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Qg&&(Cv=Qg?Qg[1]:""),Vc){var Iv=nC();if(null!=Iv&&Iv>parseFloat(Cv)){bv=String(Iv);break e}}bv=Cv}var rC={};function _A(){return r=rC,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=Ku(String(bv)).split("."),i=Ku("9").split("."),u=Math.max(r.length,i.length),c=0;0==s&&c<u;c++){var f=r[c]||"",y=i[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==f[0].length&&0==y[0].length)break;s=Na(0==f[1].length?0:parseInt(f[1],10),0==y[1].length?0:parseInt(y[1],10))||Na(0==f[2].length,0==y[2].length)||Na(f[2],y[2]),f=f[3],y=y[3]}while(0==s)}return 0<=s}();var r}var EA=et.document&&Vc&&(nC()||parseInt(bv,10))||void 0,iC=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{et.addEventListener("test",qu,r),et.removeEventListener("test",qu,r)}catch(i){}return s}();function xr(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Jg(s,r){if(xr.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,u=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(eC){e:{try{Yg(r.nodeName);var c=!0;break e}catch(f){}c=!1}c||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:hN[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Jg.Z.h.call(this)}}xr.prototype.h=function(){this.defaultPrevented=!0},St(Jg,xr);var hN={2:"touch",3:"pen",4:"mouse"};Jg.prototype.h=function(){Jg.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var df="closure_listenable_"+(1e6*Math.random()|0),fN=0;function wA(s,r,i,u,c){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!u,this.ia=c,this.key=++fN,this.ca=this.fa=!1}function Xg(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Uc(s){this.src=s,this.g={},this.h=0}function hf(s,r){var i=r.type;if(i in s.g){var f,u=s.g[i],c=zg(u,r);(f=0<=c)&&Array.prototype.splice.call(u,c,1),f&&(Xg(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Tv(s,r,i,u){for(var c=0;c<s.length;++c){var f=s[c];if(!f.ca&&f.listener==r&&f.capture==!!i&&f.ia==u)return c}return-1}Uc.prototype.add=function(s,r,i,u,c){var f=s.toString();(s=this.g[f])||(s=this.g[f]=[],this.h++);var y=Tv(s,r,u,c);return-1<y?(r=s[y],i||(r.fa=!1)):((r=new wA(r,this.src,f,!!u,c)).fa=i,s.push(r)),r};var sC="closure_lm_"+(1e6*Math.random()|0),oC={};function bA(s,r,i,u,c){if(u&&u.once)return CA(s,r,i,u,c);if(Array.isArray(r)){for(var f=0;f<r.length;f++)bA(s,r[f],i,u,c);return null}return i=Bc(i),s&&s[df]?s.N(r,i,Fc(u)?!!u.capture:!!u,c):aC(s,r,i,!1,u,c)}function aC(s,r,i,u,c,f){if(!r)throw Error("Invalid event type");var y=Fc(c)?!!c.capture:!!c,b=Av(s);if(b||(s[sC]=b=new Uc(s)),(i=b.add(r,i,u,y,f)).proxy)return i;if(u=function(){var r=dC;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=u,u.src=s,u.listener=i,s.addEventListener)iC||(c=y),void 0===c&&(c=!1),s.addEventListener(r.toString(),u,c);else if(s.attachEvent)s.attachEvent(cC(r.toString()),u);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(u)}return i}function CA(s,r,i,u,c){if(Array.isArray(r)){for(var f=0;f<r.length;f++)CA(s,r[f],i,u,c);return null}return i=Bc(i),s&&s[df]?s.O(r,i,Fc(u)?!!u.capture:!!u,c):aC(s,r,i,!0,u,c)}function lC(s,r,i,u,c){if(Array.isArray(r))for(var f=0;f<r.length;f++)lC(s,r[f],i,u,c);else u=Fc(u)?!!u.capture:!!u,i=Bc(i),s&&s[df]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=Tv(f=s.g[r],i,u,c))&&(Xg(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete s.g[r],s.h--))):s&&(s=Av(s))&&(r=s.g[r.toString()],s=-1,r&&(s=Tv(r,i,u,c)),(i=-1<s?r[s]:null)&&Ra(i))}function Ra(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[df])hf(r.i,s);else{var i=s.type,u=s.proxy;r.removeEventListener?r.removeEventListener(i,u,s.capture):r.detachEvent?r.detachEvent(cC(i),u):r.addListener&&r.removeListener&&r.removeListener(u),(i=Av(r))?(hf(i,s),0==i.h&&(i.src=null,r[sC]=null)):Xg(s)}}}function cC(s){return s in oC?oC[s]:oC[s]="on"+s}function dC(s,r){if(s.ca)s=!0;else{r=new Jg(r,this);var i=s.listener,u=s.ia||s.src;s.fa&&Ra(s),s=i.call(u,r)}return s}function Av(s){return(s=s[sC])instanceof Uc?s:null}var em="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(s){return"function"==typeof s?s:(s[em]||(s[em]=function(r){return s.handleEvent(r)}),s[em])}function Wn(){Kr.call(this),this.i=new Uc(this),this.P=this,this.I=null}function zn(s,r){var i,u=s.I;if(u)for(i=[];u;u=u.I)i.push(u);if(s=s.P,u=r.type||r,"string"==typeof r)r=new xr(r,s);else if(r instanceof xr)r.target=r.target||s;else{var c=r;Ev(r=new xr(u,s),c)}if(c=!0,i)for(var f=i.length-1;0<=f;f--){var y=r.g=i[f];c=tm(y,u,!0,r)&&c}if(c=tm(y=r.g=s,u,!0,r)&&c,c=tm(y,u,!1,r)&&c,i)for(f=0;f<i.length;f++)c=tm(y=r.g=i[f],u,!1,r)&&c}function tm(s,r,i,u){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var c=!0,f=0;f<r.length;++f){var y=r[f];if(y&&!y.ca&&y.capture==i){var b=y.listener,T=y.ia||y.src;y.fa&&hf(s.i,y),c=!1!==b.call(T,u)&&c}}return c&&!u.defaultPrevented}St(Wn,Kr),Wn.prototype[df]=!0,Wn.prototype.removeEventListener=function(s,r,i,u){lC(this,s,r,i,u)},Wn.prototype.M=function(){if(Wn.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],u=0;u<i.length;u++)Xg(i[u]);delete s.g[r],s.h--}}this.I=null},Wn.prototype.N=function(s,r,i,u){return this.i.add(String(s),r,!1,i,u)},Wn.prototype.O=function(s,r,i,u){return this.i.add(String(s),r,!0,i,u)};var Sv=et.JSON.stringify;function IA(){var s=im,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var rm,DA=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var u=hC.get();u.set(r,i),this.h?this.h.next=u:this.g=u,this.h=u},s}(),hC=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new fC},function(s){return s.reset()}),fC=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function TA(s){et.setTimeout(function(){throw s},0)}function nm(s,r){rm||function(){var s=et.Promise.resolve(void 0);rm=function(){s.then(AA)}}(),pC||(rm(),pC=!0),im.add(s,r)}var pC=!1,im=new DA;function AA(){for(var s;s=IA();){try{s.h.call(s.g)}catch(i){TA(i)}var r=hC;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}pC=!1}function Nv(s,r){Wn.call(this),this.h=s||1,this.g=r||et,this.j=zt(this.kb,this),this.l=Date.now()}function Yu(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Rv(s,r,i){if("function"==typeof s)i&&(s=zt(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=zt(s.handleEvent,s)}return 2147483647<Number(r)?-1:et.setTimeout(s,r||0)}function sm(s){s.g=Rv(function(){s.g=null,s.i&&(s.i=!1,sm(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}St(Nv,Wn),(ke=Nv.prototype).da=!1,ke.S=null,ke.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zn(this,"tick"),this.da&&(Yu(this),this.start()))}},ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ke.M=function(){Nv.Z.M.call(this),Yu(this),delete this.g};var Mv=function(s){function r(i,u){var c=s.call(this)||this;return c.m=i,c.j=u,c.h=null,c.i=!1,c.g=null,c}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}cf(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:sm(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Kr);function ff(s){Kr.call(this),this.h=s,this.g={}}St(ff,Kr);var om=[];function am(s,r,i,u){Array.isArray(i)||(i&&(om[0]=i.toString()),i=om);for(var c=0;c<i.length;c++){var f=bA(r,i[c],u||s.handleEvent,!1,s.h||s);if(!f)break;s.g[f.key]=f}}function Ov(s){Kg(s.g,function(r,i){this.g.hasOwnProperty(i)&&Ra(r)},s),s.g={}}function Pv(){this.g=!0}function Qu(s,r,i,u){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var u=i[s];if(!(2>u.length)){var c=u[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var y=1;y<c.length;y++)c[y]=""}}}return Sv(i)}catch(b){return r}}(s,i)+(u?" "+u:"")})}ff.prototype.M=function(){ff.Z.M.call(this),Ov(this)},ff.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pv.prototype.Aa=function(){this.g=!1},Pv.prototype.info=function(){};var So={},kv=null;function jc(){return kv=kv||new Wn}function um(s){xr.call(this,So.Ma,s)}function Hc(s){var r=jc();zn(r,new um(r,s))}function mC(s,r){xr.call(this,So.STAT_EVENT,s),this.stat=r}function yr(s){var r=jc();zn(r,new mC(r,s))}function Fv(s,r){xr.call(this,So.Na,s),this.size=r}function Ju(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return et.setTimeout(function(){s()},r)}So.Ma="serverreachability",St(um,xr),So.STAT_EVENT="statevent",St(mC,xr),So.Na="timingevent",St(Fv,xr);var lm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lv(){}function Vv(){}Lv.prototype.h=null;var hm,Ma={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cm(){xr.call(this,"d")}function dm(){xr.call(this,"c")}function pf(){}function $c(s,r,i,u){this.l=s,this.j=r,this.m=i,this.X=u||1,this.V=new ff(this),this.P=vC,this.W=new Nv(s=wv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}St(cm,xr),St(dm,xr),St(pf,Lv),pf.prototype.g=function(){return new XMLHttpRequest},pf.prototype.i=function(){return{}},hm=new pf;var vC=45e3,fm={},Bv={};function jv(s,r,i){s.K=1,s.v=Yr(Ps(r)),s.s=i,s.U=!0,EC(s,null)}function EC(s,r){s.F=Date.now(),Gc(s),s.A=Ps(s.v);var i=s.A,u=s.X;Array.isArray(u)||(u=[String(u)]),yf(i.h,"t",u),s.C=0,i=s.l.H,s.h=new Uv,s.g=Df(s.l,i?r:null,!s.s),0<s.O&&(s.L=new Mv(zt(s.Ia,s,s.g),s.O)),am(s.V,s.g,"readystatechange",s.gb),r=s.H?_v(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),Hc(1),function(s,r,i,u,c,f){s.info(function(){if(s.g)if(f)for(var y="",b=f.split("&"),T=0;T<b.length;T++){var x=b[T].split("=");if(1<x.length){var N=x[0];x=x[1];var M=N.split("_");y=2<=M.length&&"type"==M[1]?y+(N+"=")+x+"&":y+(N+"=redacted&")}}else y=null;else y=f;return"XMLHTTP REQ ("+u+") [attempt "+c+"]: "+r+"\n"+i+"\n"+y})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Hv(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function wC(s,r,i){for(var c,u=!0;!s.I&&s.C<i.length;){if((c=jn(s,i))==Bv){4==r&&(s.o=4,yr(14),u=!1),Qu(s.j,s.m,null,"[Incomplete Response]");break}if(c==fm){s.o=4,yr(15),Qu(s.j,s.m,i,"[Invalid Chunk]"),u=!1;break}Qu(s.j,s.m,c,null),gm(s,c)}Hv(s)&&c!=Bv&&c!=fm&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,yr(16),u=!1),s.i=s.i&&u,u?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),LC(r),r.L=!0,yr(11))):(Qu(s.j,s.m,i,"[Invalid Chunked Response]"),Xu(s),qc(s))}function jn(s,r){var i=s.C,u=r.indexOf("\n",i);return-1==u?Bv:(i=Number(r.substring(i,u)),isNaN(i)?fm:(u+=1)+i>r.length?Bv:(r=r.substr(u,i),s.C=u+i,r))}function Gc(s){s.Y=Date.now()+s.P,bC(s,s.P)}function bC(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Ju(zt(s.eb,s),r)}function pm(s){s.B&&(et.clearTimeout(s.B),s.B=null)}function qc(s){0==s.l.G||s.I||VC(s.l,s)}function Xu(s){pm(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,Yu(s.W),Ov(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function gm(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||_m(i.i,s)))if(i.I=s.N,!s.J&&_m(i.i,s)&&3==i.G){try{var u=i.Ca.g.parse(r)}catch(Oe){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Ju(zt(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Tm(i),Cf(i)}Dm(i),yr(18)}if(1>=Kv(i.i)&&i.ka){try{i.ka()}catch(Oe){}i.ka=void 0}}else Fs(i,11)}else if((s.J||i.g==s)&&Tm(i),!Ao(r))for(c=i.Ca.g.parse(r),r=0;r<c.length;r++){var f=c[r];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var y=f[3];null!=y&&(i.ma=y,i.h.info("VER="+i.ma));var b=f[4];null!=b&&(i.za=b,i.h.info("SVER="+i.za));var T=f[5];null!=T&&"number"==typeof T&&0<T&&(i.K=u=1.5*T,i.h.info("backChannelRequestTimeoutMs_="+u)),u=i;var x=s.g;if(x){var N=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var M=u.i;!M.g&&(Mn(N,"spdy")||Mn(N,"quic")||Mn(N,"h2"))&&(M.j=M.l,M.g=new Set,M.h&&(vm(M,M.h),M.h=null))}if(u.D){var j=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(u.sa=j,Tt(u.F,u.D,j))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var q=s;if((u=i).oa=If(u,u.H?u.la:null,u.W),q.J){Yv(u.i,q);var fe=q,Se=u.K;Se&&fe.setTimeout(Se),fe.B&&(pm(fe),Gc(fe)),u.g=q}else iE(u);0<i.l.length&&Im(i)}else"stop"!=f[0]&&"close"!=f[0]||Fs(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Fs(i,7):bf(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Hc(4)}catch(Oe){}}function Oa(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(Aa(s)||"string"==typeof s)Wu(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Aa(s)||"string"==typeof s){i=[];for(var u=s.length,c=0;c<u;c++)i.push(c)}else for(c in i=[],u=0,s)i[u++]=c;c=(u=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Aa(s)){for(var r=[],i=s.length,u=0;u<i;u++)r.push(s[u]);return r}for(u in r=[],i=0,s)r[i++]=s[u];return r}(s)).length;for(var f=0;f<c;f++)r.call(void 0,u[f],i&&i[f],s)}}function Zc(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var u=0;u<i;u+=2)this.set(arguments[u],arguments[u+1])}else if(s)if(s instanceof Zc)for(i=s.T(),u=0;u<i.length;u++)this.set(i[u],s.get(i[u]));else for(u in s)this.set(u,s[u])}function $v(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var u=s.g[r];Pa(s.h,u)&&(s.g[i++]=u),r++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=r=0;r<s.g.length;)Pa(c,u=s.g[r])||(s.g[i++]=u,c[u]=1),r++;s.g.length=i}}function Pa(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(ke=$c.prototype).setTimeout=function(s){this.P=s},ke.gb=function(s){s=s.target;var r=this.L;r&&3==ks(s)?r.l():this.Ia(s)},ke.Ia=function(s){try{if(s==this.g)e:{var r=ks(this.g),i=this.g.Da(),u=this.g.ba();if(!(3>r)&&(3!=r||wv||this.g&&(this.h.h||this.g.ga()||tE(this.g)))){this.I||4!=r||7==i||Hc(8==i||0>=u?3:2),pm(this);var c=this.g.ba();this.N=c;t:if(Hv(this)){var f=tE(this.g);s="";var y=f.length,b=4==ks(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Xu(this),qc(this);var T="";break t}this.h.i=new et.TextDecoder}for(i=0;i<y;i++)this.h.h=!0,s+=this.h.i.decode(f[i],{stream:b&&i==y-1});f.splice(0,y),this.h.g+=s,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==c,function(s,r,i,u,c,f,y){s.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+c+"]: "+r+"\n"+i+"\n"+f+" "+y})}(this.j,this.u,this.A,this.m,this.X,r,c),this.i){if(this.$&&!this.J){t:{if(this.g){var x,N=this.g;if((x=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(x)){var M=x;break t}}M=null}if(!(c=M)){this.i=!1,this.o=3,yr(12),Xu(this),qc(this);break e}Qu(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gm(this,c)}this.U?(wC(this,r,T),wv&&this.i&&3==r&&(am(this.V,this.W,"tick",this.fb),this.W.start())):(Qu(this.j,this.m,T,null),gm(this,T)),4==r&&Xu(this),this.i&&!this.I&&(4==r?VC(this.l,this):(this.i=!1,Gc(this)))}else 400==c&&0<T.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),Xu(this),qc(this)}}}catch(j){}},ke.fb=function(){if(this.g){var s=ks(this.g),r=this.g.ga();this.C<r.length&&(pm(this),wC(this,s,r),this.i&&4!=s&&Gc(this))}},ke.cancel=function(){this.I=!0,Xu(this)},ke.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Hc(3),yr(17)),Xu(this),this.o=2,qc(this)):bC(this,this.Y-s)},(ke=Zc.prototype).R=function(){$v(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},ke.T=function(){return $v(this),this.g.concat()},ke.get=function(s,r){return Pa(this.h,s)?this.h[s]:r},ke.set=function(s,r){Pa(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},ke.forEach=function(s,r){for(var i=this.T(),u=0;u<i.length;u++){var c=i[u],f=this.get(c);s.call(r,f,c,this)}};var IC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wc(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Wc){this.g=void 0!==r?r:s.g,zc(this,s.j),this.s=s.s,gi(this,s.i),mm(this,s.m),this.l=s.l,r=s.h;var i=new Yc;i.i=r.i,r.g&&(i.g=new Zc(r.g),i.h=r.h),TC(this,i),this.o=s.o}else s&&(i=String(s).match(IC))?(this.g=!!r,zc(this,i[1]||"",!0),this.s=Kc(i[2]||""),gi(this,i[3]||"",!0),mm(this,i[4]),this.l=Kc(i[5]||"",!0),TC(this,i[6]||"",!0),this.o=Kc(i[7]||"")):(this.g=!!r,this.h=new Yc(null,this.g))}function Ps(s){return new Wc(s)}function zc(s,r,i){s.j=i?Kc(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function gi(s,r,i){s.i=i?Kc(r,!0):r}function mm(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function TC(s,r,i){r instanceof Yc?(s.h=r,function(s,r){r&&!s.j&&(ka(s),s.i=null,s.g.forEach(function(i,u){var c=u.toLowerCase();u!=c&&(qv(this,u),yf(this,c,i))},s)),s.j=r}(s.h,s.g)):(i||(r=gf(r,mf)),s.h=new Yc(r,s.g))}function Tt(s,r,i){s.h.set(r,i)}function Yr(s){return Tt(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Kc(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function gf(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,RA),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function RA(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Wc.prototype.toString=function(){var s=[],r=this.j;r&&s.push(gf(r,SC,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(gf(r,SC,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(gf(i,"/"==i.charAt(0)?Gv:MA,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",gf(i,OA)),s.join("")};var SC=/[#\/\?@]/g,MA=/[#\?:]/g,Gv=/[#\?]/g,mf=/[#\?@]/g,OA=/#/g;function Yc(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function ka(s){s.g||(s.g=new Zc,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var u=s[i].indexOf("="),c=null;if(0<=u){var f=s[i].substring(0,u);c=s[i].substring(u+1)}else f=s[i];r(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function qv(s,r){ka(s),r=Qc(s,r),Pa(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,Pa((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&$v(s)))}function Zv(s,r){return ka(s),r=Qc(s,r),Pa(s.g.h,r)}function yf(s,r,i){qv(s,r),0<i.length&&(s.i=null,s.g.set(Qc(s,r),xa(i)),s.h+=i.length)}function Qc(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(ke=Yc.prototype).add=function(s,r){ka(this),this.i=null,s=Qc(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},ke.forEach=function(s,r){ka(this),this.g.forEach(function(i,u){Wu(i,function(c){s.call(r,c,u,this)},this)},this)},ke.T=function(){ka(this);for(var s=this.g.R(),r=this.g.T(),i=[],u=0;u<r.length;u++)for(var c=s[u],f=0;f<c.length;f++)i.push(r[u]);return i},ke.R=function(s){ka(this);var r=[];if("string"==typeof s)Zv(this,s)&&(r=zu(r,this.g.get(Qc(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=zu(r,s[i])}return r},ke.set=function(s,r){return ka(this),this.i=null,Zv(this,s=Qc(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},ke.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var u=r[i],c=encodeURIComponent(String(u));u=this.R(u);for(var f=0;f<u.length;f++){var y=c;""!==u[f]&&(y+="="+encodeURIComponent(String(u[f]))),s.push(y)}}return this.i=s.join("&")};var NC=function(r,i){this.h=r,this.g=i};function ym(s){this.l=s||Wv,s=et.PerformanceNavigationTiming?0<(s=et.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(et.g&&et.g.Ea&&et.g.Ea()&&et.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wv=10;function zv(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Kv(s){return s.h?1:s.g?s.g.size:0}function _m(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function vm(s,r){s.g?s.g.add(r):s.h=r}function Yv(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function Qv(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var u=s.i;try{for(var c=Yb(s.g.values()),f=c.next();!f.done;f=c.next())u=u.concat(f.value.D)}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u}return xa(s.i)}function Em(){}function RC(){this.g=new Em}function PA(s,r,i){var u=i||"";try{Oa(s,function(c,f){var y=c;Fc(c)&&(y=Sv(c)),r.push(u+f+"="+encodeURIComponent(y))})}catch(c){throw r.push(u+"type="+encodeURIComponent("_badmap")),c}}function wm(s,r,i,u,c){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,c(u)}catch(f){}}function _f(s){this.l=s.$b||null,this.j=s.ib||!1}function bm(s,r){Wn.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=Jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ym.prototype.cancel=function(){var s,r;if(this.i=Qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Yb(this.g.values()),u=i.next();!u.done;u=i.next())u.value.cancel()}catch(f){s={error:f}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},Em.prototype.stringify=function(s){return et.JSON.stringify(s,void 0)},Em.prototype.parse=function(s){return et.JSON.parse(s,void 0)},St(_f,Lv),_f.prototype.g=function(){return new bm(this.l,this.j)},_f.prototype.i=function(s){return function(){return s}}({}),St(bm,Wn);var Jv=0;function MC(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function vf(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Ef(s)}function Ef(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(ke=bm.prototype).open=function(s,r){if(this.readyState!=Jv)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,Ef(this)},ke.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||et).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vf(this)),this.readyState=Jv},ke.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Ef(this)),this.g&&(this.readyState=3,Ef(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==et.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MC(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},ke.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?vf(this):Ef(this),3==this.readyState&&MC(this)}},ke.Ua=function(s){this.g&&(this.response=this.responseText=s,vf(this))},ke.Ta=function(s){this.g&&(this.response=s,vf(this))},ke.ha=function(){this.g&&vf(this)},ke.setRequestHeader=function(s,r){this.v.append(s,r)},ke.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},ke.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(bm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var FA=et.JSON.parse;function Pn(s){Wn.call(this),this.headers=new Zc,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OC,this.K=this.L=!1}St(Pn,Wn);var OC="",LA=/^https?$/i,VA=["POST","PUT"];function BA(s){return"content-type"==s.toLowerCase()}function PC(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,kC(s),wf(s)}function kC(s){s.D||(s.D=!0,zn(s,"complete"),zn(s,"error"))}function Xv(s){if(s.h&&void 0!==pv&&(!s.C[1]||4!=ks(s)||2!=s.ba()))if(s.v&&4==ks(s))Rv(s.Fa,0,s);else if(zn(s,"readystatechange"),4==ks(s)){s.h=!1;try{var u,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(u=i)){var c;if(c=0===r){var f=String(s.H).match(IC)[1]||null;if(!f&&et.self&&et.self.location){var y=et.self.location.protocol;f=y.substr(0,y.length-1)}c=!LA.test(f?f.toLowerCase():"")}u=c}if(u)zn(s,"complete"),zn(s,"success");else{s.m=6;try{var b=2<ks(s)?s.g.statusText:""}catch(T){b=""}s.j=b+" ["+s.ba()+"]",kC(s)}}finally{wf(s)}}}function wf(s,r){if(s.g){eE(s);var i=s.g,u=s.C[0]?qu:null;s.g=null,s.C=null,r||zn(s,"ready");try{i.onreadystatechange=u}catch(c){}}}function eE(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(et.clearTimeout(s.A),s.A=null)}function ks(s){return s.g?s.g.readyState:0}function tE(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case OC:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Cm(s,r,i){e:{for(u in i){var u=!1;break e}u=!0}u||(i=function(s){var r="";return Kg(s,function(i,u){r+=u,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Tt(s,r,i))}function Jc(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function nE(s){this.za=0,this.l=[],this.h=new Pv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jc("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jc("baseRetryDelayMs",5e3,s),this.$a=Jc("retryDelaySeedMs",1e4,s),this.Ya=Jc("forwardChannelMaxRetries",2,s),this.ra=Jc("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new ym(s&&s.concurrentRequestLimit),this.Ca=new RC,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function bf(s){if(Fa(s),3==s.G){var r=s.V++,i=Ps(s.F);Tt(i,"SID",s.J),Tt(i,"RID",r),Tt(i,"TYPE","terminate"),el(s,i),(r=new $c(s,s.h,r,void 0)).K=2,r.v=Yr(Ps(i)),i=!1,et.navigator&&et.navigator.sendBeacon&&(i=et.navigator.sendBeacon(r.v.toString(),"")),!i&&et.Image&&((new Image).src=r.v,i=!0),i||(r.g=Df(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Gc(r)}BC(s)}function Cf(s){s.g&&(LC(s),s.g.cancel(),s.g=null)}function Fa(s){Cf(s),s.u&&(et.clearTimeout(s.u),s.u=null),Tm(s),s.i.cancel(),s.m&&("number"==typeof s.m&&et.clearTimeout(s.m),s.m=null)}function rE(s,r){s.l.push(new NC(s.Za++,r)),3==s.G&&Im(s)}function Im(s){zv(s.i)||s.m||(s.m=!0,nm(s.Ha,s),s.C=0)}function jA(s,r){var i;i=r?r.m:s.V++;var u=Ps(s.F);Tt(u,"SID",s.J),Tt(u,"RID",i),Tt(u,"AID",s.U),el(s,u),s.o&&s.s&&Cm(u,s.o,s.s),i=new $c(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=HA(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),vm(s.i,i),jv(i,u,r)}function el(s,r){s.j&&Oa({},function(i,u){Tt(r,u,i)})}function HA(s,r,i){i=Math.min(s.l.length,i);var u=s.j?zt(s.j.Oa,s.j,s):null;e:for(var c=s.l,f=-1;;){var y=["count="+i];-1==f?0<i?y.push("ofs="+(f=c[0].h)):f=0:y.push("ofs="+f);for(var b=!0,T=0;T<i;T++){var x=c[T].h,N=c[T].g;if(0>(x-=f))f=Math.max(0,c[T].h-100),b=!1;else try{PA(N,y,"req"+x+"_")}catch(M){u&&u(N)}}if(b){u=y.join("&");break e}}return s=s.l.splice(0,i),r.D=s,u}function iE(s){s.g||s.u||(s.Y=1,nm(s.Ga,s),s.A=0)}function Dm(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Ju(zt(s.Ga,s),UC(s,s.A)),s.A++,0))}function LC(s){null!=s.B&&(et.clearTimeout(s.B),s.B=null)}function qe(s){s.g=new $c(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Ps(s.oa);Tt(r,"RID","rpc"),Tt(r,"SID",s.J),Tt(r,"CI",s.N?"0":"1"),Tt(r,"AID",s.U),el(s,r),Tt(r,"TYPE","xmlhttp"),s.o&&s.s&&Cm(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Yr(Ps(r)),i.s=null,i.U=!0,EC(i,s)}function Tm(s){null!=s.v&&(et.clearTimeout(s.v),s.v=null)}function VC(s,r){var i=null;if(s.g==r){Tm(s),LC(s),s.g=null;var u=2}else{if(!_m(s.i,r))return;i=r.D,Yv(s.i,r),u=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==u){i=r.s?r.s.length:0,r=Date.now()-r.F;var c=s.C;zn(u=jc(),new Fv(u,i,r,c)),Im(s)}else iE(s);else if(3==(c=r.o)||0==c&&0<s.I||!(1==u&&function(s,r){return!(Kv(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Ju(zt(s.Ha,s,r),UC(s,s.C)),s.C++,0)))}(s,r)||2==u&&Dm(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),c){case 1:Fs(s,5);break;case 4:Fs(s,10);break;case 3:Fs(s,6);break;default:Fs(s,2)}}function UC(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function Fs(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var u=zt(s.jb,s);i||(i=new Wc("//www.google.com/images/cleardot.gif"),et.location&&"http"==et.location.protocol||zc(i,"https"),Yr(i)),function(s,r){var i=new Pv;if(et.Image){var u=new Image;u.onload=Sa(wm,i,u,"TestLoadImage: loaded",!0,r),u.onerror=Sa(wm,i,u,"TestLoadImage: error",!1,r),u.onabort=Sa(wm,i,u,"TestLoadImage: abort",!1,r),u.ontimeout=Sa(wm,i,u,"TestLoadImage: timeout",!1,r),et.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=s}else r(!1)}(i.toString(),u)}else yr(2);s.G=0,s.j&&s.j.va(r),BC(s),Fa(s)}function BC(s){s.G=0,s.I=-1,s.j&&((0!=Qv(s.i).length||0!=s.l.length)&&(s.i.i.length=0,xa(s.l),s.l.length=0),s.j.ua())}function If(s,r,i){var u=function(s){return s instanceof Wc?Ps(s):new Wc(s,void 0)}(i);if(""!=u.i)r&&gi(u,r+"."+u.i),mm(u,u.m);else{var c=et.location;u=function(s,r,i,u){var c=new Wc(null,void 0);return s&&zc(c,s),r&&gi(c,r),i&&mm(c,i),u&&(c.l=u),c}(c.protocol,r?r+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Kg(s.aa,function(f,y){Tt(u,y,f)}),i=s.sa,(r=s.D)&&i&&Tt(u,r,i),Tt(u,"VER",s.ma),el(s,u),u}function Df(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Pn(i&&s.Ba&&!s.qa?new _f({ib:!0}):s.qa)).L=s.H,r}function cn(){}function sE(){if(Vc&&!(10<=Number(EA)))throw Error("Environmental error: no available transport.")}function Qr(s,r){Wn.call(this),this.g=new nE(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Ao(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Ao(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new tl(this)}function Am(s){cm.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function jC(){dm.call(this),this.status=1}function tl(s){this.g=s}(ke=Pn.prototype).ea=function(s,r,i,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hm.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:hm),this.g.onreadystatechange=zt(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(f){return void PC(this,f)}s=i||"";var c=new Zc(this.headers);u&&Oa(u,function(f,y){c.set(y,f)}),u=function(s){e:{for(var r=BA,i=s.length,u="string"==typeof s?s.split(""):s,c=0;c<i;c++)if(c in u&&r.call(void 0,u[c],c,s)){r=c;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(c.T()),i=et.FormData&&s instanceof et.FormData,!(0<=zg(VA,r))||u||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,y){this.g.setRequestHeader(y,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eE(this),0<this.B&&((this.K=function(s){return Vc&&_A()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.pa,this)):this.A=Rv(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(f){PC(this,f)}},ke.pa=function(){void 0!==pv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zn(this,"timeout"),this.abort(8))},ke.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,zn(this,"complete"),zn(this,"abort"),wf(this))},ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wf(this,!0)),Pn.Z.M.call(this)},ke.Fa=function(){this.s||(this.F||this.v||this.l?Xv(this):this.cb())},ke.cb=function(){Xv(this)},ke.ba=function(){try{return 2<ks(this)?this.g.status:-1}catch(s){return-1}},ke.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},ke.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),FA(r)}},ke.Da=function(){return this.m},ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ke=nE.prototype).ma=8,ke.G=1,ke.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},ke.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new $c(this,this.h,s,void 0),i=this.s;if(this.P&&(i?Ev(i=_v(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var u=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(u+=f)){u=c;break e}if(4096===u||c===this.l.length-1){u=c+1;break e}}u=1e3}else u=1e3;u=HA(this,r,u),Tt(c=Ps(this.F),"RID",s),Tt(c,"CVER",22),this.D&&Tt(c,"X-HTTP-Session-Id",this.D),el(this,c),this.o&&i&&Cm(c,this.o,i),vm(this.i,r),this.Ra&&Tt(c,"TYPE","init"),this.ja?(Tt(c,"$req",u),Tt(c,"SID","null"),r.$=!0,jv(r,c,null)):jv(r,c,u),this.G=2}}else 3==this.G&&(s?jA(this,s):0==this.l.length||zv(this.i)||jA(this))},ke.Ga=function(){if(this.u=null,qe(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Ju(zt(this.bb,this),s)}},ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yr(10),Cf(this),qe(this))},ke.ab=function(){null!=this.v&&(this.v=null,Cf(this),Dm(this),yr(19))},ke.jb=function(s){s?(this.h.info("Successfully pinged google.com"),yr(2)):(this.h.info("Failed to ping google.com"),yr(1))},(ke=cn.prototype).xa=function(){},ke.wa=function(){},ke.va=function(){},ke.ua=function(){},ke.Oa=function(){},sE.prototype.g=function(s,r){return new Qr(s,r)},St(Qr,Wn),Qr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),nm(zt(s.hb,s,r))),yr(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=If(s,null,s.W),Im(s)},Qr.prototype.close=function(){bf(this.g)},Qr.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,rE(this.g,r)}else this.v?((r={}).__data__=Sv(s),rE(this.g,r)):rE(this.g,s)},Qr.prototype.M=function(){this.g.j=null,delete this.j,bf(this.g),delete this.g,Qr.Z.M.call(this)},St(Am,cm),St(jC,dm),St(tl,cn),tl.prototype.xa=function(){zn(this.g,"a")},tl.prototype.wa=function(s){zn(this.g,new Am(s))},tl.prototype.va=function(s){zn(this.g,new jC(s))},tl.prototype.ua=function(){zn(this.g,"b")},sE.prototype.createWebChannel=sE.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,lm.NO_ERROR=0,lm.TIMEOUT=8,lm.HTTP_ERROR=6,yC.COMPLETE="complete",Vv.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",Wn.prototype.listen=Wn.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.La,Pn.prototype.getLastErrorCode=Pn.prototype.Da,Pn.prototype.getStatus=Pn.prototype.ba,Pn.prototype.getResponseJson=Pn.prototype.Qa,Pn.prototype.getResponseText=Pn.prototype.ga,Pn.prototype.send=Pn.prototype.ea;var Tf=lm,HC=yC,$C=So,uE_PROXY=10,uE_NOPROXY=11,ed=_f,Af=Vv,GC=Pn;class Kn{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let nl="9.0.1";const xo=new To.Yd("@firebase/firestore");function cE(){return xo.logLevel}function De(s,...r){if(xo.logLevel<=To.in.DEBUG){const i=r.map(dE);xo.debug(`Firestore (${nl}): ${s}`,...i)}}function kn(s,...r){if(xo.logLevel<=To.in.ERROR){const i=r.map(dE);xo.error(`Firestore (${nl}): ${s}`,...i)}}function xf(s,...r){if(xo.logLevel<=To.in.WARN){const i=r.map(dE);xo.warn(`Firestore (${nl}): ${s}`,...i)}}function dE(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Ue(s="Unexpected state"){const r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+s;throw kn(r),new Error(r)}function ze(s,r){s||Ue()}function Re(s,r){return s}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yn{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class $A{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(Kn.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yN{constructor(r){this.t=r,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var u=this;let c=this.i;const f=T=>this.i!==c?(c=this.i,i(T)):Promise.resolve();let y=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Yn,r.enqueueRetryable(()=>f(this.currentUser))};const b=T=>{r.enqueueRetryable((0,pe.Z)(function*(){De("FirebaseCredentialsProvider","Auth detected"),u.auth=T,u.auth.addAuthTokenListener(u.o),yield y.promise,yield f(u.currentUser)}))};this.t.onInit(T=>b(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?b(T):(De("FirebaseCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Yn)}},0),r.enqueueRetryable((0,pe.Z)(function*(){0===u.i&&(yield y.promise,yield f(u.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(u=>this.i!==r?(De("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(ze("string"==typeof u.accessToken),new $A(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return ze(null===r||"string"==typeof r),new Kn(r)}}class ZC{constructor(r,i,u){this.h=r,this.l=i,this.m=u,this.type="FirstParty",this.user=Kn.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Sm{constructor(r,i,u){this.h=r,this.l=i,this.m=u}getToken(){return Promise.resolve(new ZC(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mi{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=u=>this.g(u),this.p=u=>i.writeSequenceNumber(u))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function GA(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let u=0;u<s;u++)i[u]=Math.floor(256*Math.random());return i}mi.T=-1;class hE{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let u="";for(;u.length<20;){const c=GA(40);for(let f=0;f<c.length;++f)u.length<20&&c[f]<i&&(u+=r.charAt(c[f]%r.length))}return u}}function ft(s,r){return s<r?-1:s>r?1:0}function td(s,r,i){return s.length===r.length&&s.every((u,c)=>i(u,r[c]))}function WC(s){return s+"\0"}class Qn{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return Qn.fromMillis(Date.now())}static fromDate(r){return Qn.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),u=Math.floor(1e6*(r-1e3*i));return new Qn(i,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?ft(this.nanoseconds,r.nanoseconds):ft(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(r){this.timestamp=r}static fromTimestamp(r){return new ot(r)}static min(){return new ot(new Qn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function zC(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function La(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function KC(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class Nf{constructor(r,i,u){void 0===i?i=0:i>r.length&&Ue(),void 0===u?u=r.length-i:u>r.length-i&&Ue(),this.segments=r,this.offset=i,this.len=u}get length(){return this.len}isEqual(r){return 0===Nf.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof Nf?r.forEach(u=>{i.push(u)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,u=this.limit();i<u;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const u=Math.min(r.length,i.length);for(let c=0;c<u;c++){const f=r.get(c),y=i.get(c);if(f<y)return-1;if(f>y)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class yt extends Nf{construct(r,i,u){return new yt(r,i,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const u of r){if(u.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);i.push(...u.split("/").filter(c=>c.length>0))}return new yt(i)}static emptyPath(){return new yt([])}}const qA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends Nf{construct(r,i,u){return new Jn(r,i,u)}static isValidIdentifier(r){return qA.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jn(["__name__"])}static fromServerFormat(r){const i=[];let u="",c=0;const f=()=>{if(0===u.length)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(u),u=""};let y=!1;for(;c<r.length;){const b=r[c];if("\\"===b){if(c+1===r.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const T=r[c+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);u+=T,c+=2}else"`"===b?(y=!y,c++):"."!==b||y?(u+=b,c++):(f(),c++)}if(f(),y)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Jn(i)}static emptyPath(){return new Jn([])}}class nd{constructor(r){this.fields=r,r.sort(Jn.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return td(this.fields,r.fields,(i,u)=>i.isEqual(u))}}class Xn{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new Xn(i)}static fromUint8Array(r){const i=function(u){let c="";for(let f=0;f<u.length;++f)c+=String.fromCharCode(u[f]);return c}(r);return new Xn(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return ft(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(s){if(ze(!!s),"string"==typeof s){let r=0;const i=QC.exec(s);if(ze(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),r=Number(c)}const u=new Date(s);return{seconds:Math.floor(u.getTime()/1e3),nanos:r}}return{seconds:yn(s.seconds),nanos:yn(s.nanos)}}function yn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function rd(s){return"string"==typeof s?Xn.fromBase64String(s):Xn.fromUint8Array(s)}function xm(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function fE(s){const r=s.mapValue.fields.__previous_value__;return xm(r)?fE(r):r}function Rf(s){const r=Va(s.mapValue.fields.__local_write_time__.timestampValue);return new Qn(r.seconds,r.nanos)}function rl(s){return null==s}function Nm(s){return 0===s&&1/s==-1/0}function Rm(s){return"number"==typeof s&&Number.isInteger(s)&&!Nm(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class Be{constructor(r){this.path=r}static fromPath(r){return new Be(yt.fromString(r))}static fromName(r){return new Be(yt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===yt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return yt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Be(new yt(r.slice()))}}function Ua(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xm(s)?4:10:Ue()}function Ls(s,r){const i=Ua(s);if(i!==Ua(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return Rf(s).isEqual(Rf(r));case 3:return function(u,c){if("string"==typeof u.timestampValue&&"string"==typeof c.timestampValue&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const f=Va(u.timestampValue),y=Va(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return c=r,rd(s.bytesValue).isEqual(rd(c.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(u,c){return yn(u.geoPointValue.latitude)===yn(c.geoPointValue.latitude)&&yn(u.geoPointValue.longitude)===yn(c.geoPointValue.longitude)}(s,r);case 2:return function(u,c){if("integerValue"in u&&"integerValue"in c)return yn(u.integerValue)===yn(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const f=yn(u.doubleValue),y=yn(c.doubleValue);return f===y?Nm(f)===Nm(y):isNaN(f)&&isNaN(y)}return!1}(s,r);case 9:return td(s.arrayValue.values||[],r.arrayValue.values||[],Ls);case 10:return function(u,c){const f=u.mapValue.fields||{},y=c.mapValue.fields||{};if(zC(f)!==zC(y))return!1;for(const b in f)if(f.hasOwnProperty(b)&&(void 0===y[b]||!Ls(f[b],y[b])))return!1;return!0}(s,r);default:return Ue()}var c}function Mf(s,r){return void 0!==(s.values||[]).find(i=>Ls(i,r))}function id(s,r){const i=Ua(s),u=Ua(r);if(i!==u)return ft(i,u);switch(i){case 0:return 0;case 1:return ft(s.booleanValue,r.booleanValue);case 2:return function(c,f){const y=yn(c.integerValue||c.doubleValue),b=yn(f.integerValue||f.doubleValue);return y<b?-1:y>b?1:y===b?0:isNaN(y)?isNaN(b)?0:-1:1}(s,r);case 3:return JC(s.timestampValue,r.timestampValue);case 4:return JC(Rf(s),Rf(r));case 5:return ft(s.stringValue,r.stringValue);case 6:return function(c,f){const y=rd(c),b=rd(f);return y.compareTo(b)}(s.bytesValue,r.bytesValue);case 7:return function(c,f){const y=c.split("/"),b=f.split("/");for(let T=0;T<y.length&&T<b.length;T++){const x=ft(y[T],b[T]);if(0!==x)return x}return ft(y.length,b.length)}(s.referenceValue,r.referenceValue);case 8:return function(c,f){const y=ft(yn(c.latitude),yn(f.latitude));return 0!==y?y:ft(yn(c.longitude),yn(f.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(c,f){const y=c.values||[],b=f.values||[];for(let T=0;T<y.length&&T<b.length;++T){const x=id(y[T],b[T]);if(x)return x}return ft(y.length,b.length)}(s.arrayValue,r.arrayValue);case 10:return function(c,f){const y=c.fields||{},b=Object.keys(y),T=f.fields||{},x=Object.keys(T);b.sort(),x.sort();for(let N=0;N<b.length&&N<x.length;++N){const M=ft(b[N],x[N]);if(0!==M)return M;const j=id(y[b[N]],T[x[N]]);if(0!==j)return j}return ft(b.length,x.length)}(s.mapValue,r.mapValue);default:throw Ue()}}function JC(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return ft(s,r);const i=Va(s),u=Va(r),c=ft(i.seconds,u.seconds);return 0!==c?c:ft(i.nanos,u.nanos)}function pE(s){return gE(s)}function gE(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(u){const c=Va(u);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?rd(s.bytesValue).toBase64():"referenceValue"in s?Be.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(u){let c="[",f=!0;for(const y of u.values||[])f?f=!1:c+=",",c+=gE(y);return c+"]"}(s.arrayValue):"mapValue"in s?function(u){const c=Object.keys(u.fields||{}).sort();let f="{",y=!0;for(const b of c)y?y=!1:f+=",",f+=`${b}:${gE(u.fields[b])}`;return f+"}"}(s.mapValue):Ue();var r}function Mm(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function mE(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function yE(s){return!!s&&"nullValue"in s}function XC(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pm(s){return!!s&&"mapValue"in s}function sd(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return La(s.mapValue.fields,(i,u)=>r.mapValue.fields[i]=sd(u)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=sd(s.arrayValue.values[i]);return r}return Object.assign({},s)}class _r{constructor(r){this.value=r}static empty(){return new _r({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let u=0;u<r.length-1;++u)if(i=(i.mapValue.fields||{})[r.get(u)],!Pm(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=sd(i)}setAll(r){let i=Jn.emptyPath(),u={},c=[];r.forEach((y,b)=>{if(!i.isImmediateParentOf(b)){const T=this.getFieldsMap(i);this.applyChanges(T,u,c),u={},c=[],i=b.popLast()}y?u[b.lastSegment()]=sd(y):c.push(b.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,u,c)}delete(r){const i=this.field(r.popLast());Pm(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Ls(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let u=0;u<r.length;++u){let c=i.mapValue.fields[r.get(u)];Pm(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[r.get(u)]=c),i=c}return i.mapValue.fields}applyChanges(r,i,u){La(i,(c,f)=>r[c]=f);for(const c of u)delete r[c]}clone(){return new _r(sd(this.value))}}function eI(s){const r=[];return La(s.fields,(i,u)=>{const c=new Jn([i]);if(Pm(u)){const f=eI(u.mapValue).fields;if(0===f.length)r.push(c);else for(const y of f)r.push(c.child(y))}else r.push(c)}),new nd(r)}class on{constructor(r,i,u,c,f){this.key=r,this.documentType=i,this.version=u,this.data=c,this.documentState=f}static newInvalidDocument(r){return new on(r,0,ot.min(),_r.empty(),0)}static newFoundDocument(r,i,u){return new on(r,1,i,u,0)}static newNoDocument(r,i){return new on(r,2,i,_r.empty(),0)}static newUnknownDocument(r,i){return new on(r,3,i,_r.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof on&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new on(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _E{constructor(r,i=null,u=[],c=[],f=null,y=null,b=null){this.path=r,this.collectionGroup=i,this.orderBy=u,this.filters=c,this.limit=f,this.startAt=y,this.endAt=b,this.A=null}}function km(s,r=null,i=[],u=[],c=null,f=null,y=null){return new _E(s,r,i,u,c,f,y)}function od(s){const r=Re(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(u=>function(s){return s.field.canonicalString()+s.op.toString()+pE(s.value)}(u)).join(","),i+="|ob:",i+=r.orderBy.map(u=>{return(c=u).field.canonicalString()+c.dir;var c}).join(","),rl(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=ad(r.startAt)),r.endAt&&(i+="|ub:",i+=ad(r.endAt)),r.A=i}return r.A}function Fm(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!KA(s.orderBy[c],r.orderBy[c]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(u=r.filters[c]).op||!i.field.isEqual(u.field)||!Ls(i.value,u.value))return!1;var i,u;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!iI(s.startAt,r.startAt)&&iI(s.endAt,r.endAt)}function Lm(s){return Be.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ur extends class{}{constructor(r,i,u){super(),this.field=r,this.op=i,this.value=u}static create(r,i,u){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,u):new tI(r,i,u):"array-contains"===i?new rI(r,u):"in"===i?new _N(r,u):"not-in"===i?new zA(r,u):"array-contains-any"===i?new il(r,u):new ur(r,i,u)}static R(r,i,u){return"in"===i?new WA(r,u):new nI(r,u)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(id(i,this.value)):null!==i&&Ua(this.value)===Ua(i)&&this.P(id(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Ue()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tI extends ur{constructor(r,i,u){super(r,i,u),this.key=Be.fromName(u.referenceValue)}matches(r){const i=Be.comparator(r.key,this.key);return this.P(i)}}class WA extends ur{constructor(r,i){super(r,"in",i),this.keys=EE(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class nI extends ur{constructor(r,i){super(r,"not-in",i),this.keys=EE(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function EE(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(u=>Be.fromName(u.referenceValue))}class rI extends ur{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return Om(i)&&Mf(i.arrayValue,this.value)}}class _N extends ur{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&Mf(this.value.arrayValue,i)}}class zA extends ur{constructor(r,i){super(r,"not-in",i)}matches(r){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!Mf(this.value.arrayValue,i)}}class il extends ur{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some(u=>Mf(this.value.arrayValue,u))}}class Vm{constructor(r,i){this.position=r,this.before=i}}function ad(s){return`${s.before?"b":"a"}:${s.position.map(r=>pE(r)).join(",")}`}class No{constructor(r,i="asc"){this.field=r,this.dir=i}}function KA(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function sl(s,r,i){let u=0;for(let c=0;c<s.position.length;c++){const f=r[c],y=s.position[c];if(u=f.field.isKeyField()?Be.comparator(Be.fromName(y.referenceValue),i.key):id(y,i.data.field(f.field)),"desc"===f.dir&&(u*=-1),0!==u)break}return s.before?u<=0:u<0}function iI(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ls(s.position[i],r.position[i]))return!1;return!0}class Ba{constructor(r,i=null,u=[],c=[],f=null,y="F",b=null,T=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=u,this.filters=c,this.limit=f,this.limitType=y,this.startAt=b,this.endAt=T,this.V=null,this.S=null}}function sI(s,r,i,u,c,f,y,b){return new Ba(s,r,i,u,c,f,y,b)}function Nr(s){return new Ba(s)}function Of(s){return!rl(s.limit)&&"F"===s.limitType}function wE(s){return!rl(s.limit)&&"L"===s.limitType}function ud(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function bE(s){for(const r of s.filters)if(r.v())return r.field;return null}function CE(s){return null!==s.collectionGroup}function Pf(s){const r=Re(s);if(null===r.V){r.V=[];const i=bE(r),u=ud(r);if(null!==i&&null===u)i.isKeyField()||r.V.push(new No(i)),r.V.push(new No(Jn.keyField(),"asc"));else{let c=!1;for(const f of r.explicitOrderBy)r.V.push(f),f.field.isKeyField()&&(c=!0);if(!c){const f=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new No(Jn.keyField(),f))}}}return r.V}function Mi(s){const r=Re(s);if(!r.S)if("F"===r.limitType)r.S=km(r.path,r.collectionGroup,Pf(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const f of Pf(r))i.push(new No(f.field,"desc"===f.dir?"asc":"desc"));const u=r.endAt?new Vm(r.endAt.position,!r.endAt.before):null,c=r.startAt?new Vm(r.startAt.position,!r.startAt.before):null;r.S=km(r.path,r.collectionGroup,i,r.filters,r.limit,u,c)}return r.S}function oI(s,r,i){return new Ba(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function kf(s,r){return Fm(Mi(s),Mi(r))&&s.limitType===r.limitType}function Um(s){return`${od(Mi(s))}|lt:${s.limitType}`}function Bm(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(u=i).field.canonicalString()} ${u.op} ${pE(u.value)}`;var u}).join(", ")}]`),rl(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(u=i).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),s.startAt&&(r+=", startAt: "+ad(s.startAt)),s.endAt&&(r+=", endAt: "+ad(s.endAt)),`Target(${r})`}(Mi(s))}; limitType=${s.limitType})`}function ol(s,r){return r.isFoundDocument()&&function(i,u){const c=u.key.path;return null!==i.collectionGroup?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Be.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,r)&&function(i,u){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===u.data.field(c.field))return!1;return!0}(s,r)&&function(i,u){for(const c of i.filters)if(!c.matches(u))return!1;return!0}(s,r)&&(u=r,!((i=s).startAt&&!sl(i.startAt,Pf(i),u)||i.endAt&&sl(i.endAt,Pf(i),u)));var i,u}function IE(s){return(r,i)=>{let u=!1;for(const c of Pf(s)){const f=YA(c,r,i);if(0!==f)return f;u=u||c.field.isKeyField()}return 0}}function YA(s,r,i){const u=s.field.isKeyField()?Be.comparator(r.key,i.key):function(c,f,y){const b=f.data.field(c),T=y.data.field(c);return null!==b&&null!==T?id(b,T):Ue()}(s.field,r,i);switch(s.dir){case"asc":return u;case"desc":return-1*u;default:return Ue()}}function QA(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(r)?"-0":r}}function aI(s){return{integerValue:""+s}}function uI(s,r){return Rm(r)?aI(r):QA(s,r)}class jm{constructor(){this._=void 0}}function lI(s,r,i){return s instanceof ld?function(u,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&(f.fields.__previous_value__=c),{mapValue:f}}(i,r):s instanceof al?TE(s,r):s instanceof Vs?dI(s,r):function(u,c){const f=DE(u,c),y=Ff(f)+Ff(u.C);return mE(f)&&mE(u.C)?aI(y):QA(u.N,y)}(s,r)}function cI(s,r,i){return s instanceof al?TE(s,r):s instanceof Vs?dI(s,r):i}function DE(s,r){return s instanceof ul?mE(i=r)||(u=i)&&"doubleValue"in u?r:{integerValue:0}:null;var u,i}class ld extends jm{}class al extends jm{constructor(r){super(),this.elements=r}}function TE(s,r){const i=Lf(r);for(const u of s.elements)i.some(c=>Ls(c,u))||i.push(u);return{arrayValue:{values:i}}}class Vs extends jm{constructor(r){super(),this.elements=r}}function dI(s,r){let i=Lf(r);for(const u of s.elements)i=i.filter(c=>!Ls(c,u));return{arrayValue:{values:i}}}class ul extends jm{constructor(r,i){super(),this.N=r,this.C=i}}function Ff(s){return yn(s.integerValue||s.doubleValue)}function Lf(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Ro{constructor(r,i){this.field=r,this.transform=i}}class XA{constructor(r,i){this.version=r,this.transformResults=i}}class Hn{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new Hn}static exists(r){return new Hn(void 0,r)}static updateTime(r){return new Hn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Hm(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class $m{}function eS(s,r,i){s instanceof Vf?function(u,c,f){const y=u.value.clone(),b=pI(u.fieldTransforms,c,f.transformResults);y.setAll(b),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,r,i):s instanceof ja?function(u,c,f){if(!Hm(u.precondition,c))return void c.convertToUnknownDocument(f.version);const y=pI(u.fieldTransforms,c,f.transformResults),b=c.data;b.setAll(nS(u)),b.setAll(y),c.convertToFoundDocument(f.version,b).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function AE(s,r,i){var c;s instanceof Vf?function(u,c,f){if(!Hm(u.precondition,c))return;const y=u.value.clone(),b=cd(u.fieldTransforms,f,c);y.setAll(b),c.convertToFoundDocument(fI(c),y).setHasLocalMutations()}(s,r,i):s instanceof ja?function(u,c,f){if(!Hm(u.precondition,c))return;const y=cd(u.fieldTransforms,f,c),b=c.data;b.setAll(nS(u)),b.setAll(y),c.convertToFoundDocument(fI(c),b).setHasLocalMutations()}(s,r,i):Hm(s.precondition,c=r)&&c.convertToNoDocument(ot.min())}function tS(s,r){let i=null;for(const u of s.fieldTransforms){const c=r.data.field(u.field),f=DE(u.transform,c||null);null!=f&&(null==i&&(i=_r.empty()),i.set(u.field,f))}return i||null}function hI(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(u=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===u||i&&u&&td(i,u,(c,f)=>function(s,r){return s.field.isEqual(r.field)&&(u=r.transform,(i=s.transform)instanceof al&&u instanceof al||i instanceof Vs&&u instanceof Vs?td(i.elements,u.elements,Ls):i instanceof ul&&u instanceof ul?Ls(i.C,u.C):i instanceof ld&&u instanceof ld);var i,u}(c,f))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,u}function fI(s){return s.isFoundDocument()?s.version:ot.min()}class Vf extends $m{constructor(r,i,u,c=[]){super(),this.key=r,this.value=i,this.precondition=u,this.fieldTransforms=c,this.type=0}}class ja extends $m{constructor(r,i,u,c,f=[]){super(),this.key=r,this.data=i,this.fieldMask=u,this.precondition=c,this.fieldTransforms=f,this.type=1}}function nS(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const u=s.data.field(i);r.set(i,u)}}),r}function pI(s,r,i){const u=new Map;ze(s.length===i.length);for(let c=0;c<i.length;c++){const f=s[c],y=f.transform,b=r.data.field(f.field);u.set(f.field,cI(y,b,i[c]))}return u}function cd(s,r,i){const u=new Map;for(const c of s){const f=c.transform,y=i.data.field(c.field);u.set(c.field,lI(f,y,r))}return u}class Uf extends $m{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class SE extends $m{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class rS{constructor(r){this.count=r}}var dn,pt;function xE(s){switch(s){case ae.OK:return Ue();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ue()}}function gI(s){if(void 0===s)return kn("GRPC error has no .code"),ae.UNKNOWN;switch(s){case dn.OK:return ae.OK;case dn.CANCELLED:return ae.CANCELLED;case dn.UNKNOWN:return ae.UNKNOWN;case dn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case dn.INTERNAL:return ae.INTERNAL;case dn.UNAVAILABLE:return ae.UNAVAILABLE;case dn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case dn.NOT_FOUND:return ae.NOT_FOUND;case dn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case dn.ABORTED:return ae.ABORTED;case dn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case dn.DATA_LOSS:return ae.DATA_LOSS;default:return Ue()}}(pt=dn||(dn={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";class er{constructor(r,i){this.comparator=r,this.root=i||Fn.EMPTY}insert(r,i){return new er(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(r){return new er(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const u=this.comparator(r,i.key);if(0===u)return i.value;u<0?i=i.left:u>0&&(i=i.right)}return null}indexOf(r){let i=0,u=this.root;for(;!u.isEmpty();){const c=this.comparator(r,u.key);if(0===c)return i+u.left.size;c<0?u=u.left:(i+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,u)=>(r(i,u),!1))}toString(){const r=[];return this.inorderTraversal((i,u)=>(r.push(`${i}:${u}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Gm(this.root,r,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Gm(this.root,r,this.comparator,!0)}}class Gm{constructor(r,i,u,c){this.isReverse=c,this.nodeStack=[];let f=1;for(;!r.isEmpty();)if(f=i?u(r.key,i):1,c&&(f*=-1),f<0)r=this.isReverse?r.left:r.right;else{if(0===f){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Fn{constructor(r,i,u,c,f){this.key=r,this.value=i,this.color=null!=u?u:Fn.RED,this.left=null!=c?c:Fn.EMPTY,this.right=null!=f?f:Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,u,c,f){return new Fn(null!=r?r:this.key,null!=i?i:this.value,null!=u?u:this.color,null!=c?c:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,u){let c=this;const f=u(r,c.key);return c=f<0?c.copy(null,null,null,c.left.insert(r,i,u),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(r,i,u)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let u,c=this;if(i(r,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(r,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(r,c.key)){if(c.right.isEmpty())return Fn.EMPTY;u=c.right.min(),c=c.copy(u.key,u.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(r,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const r=this.left.check();if(r!==this.right.check())throw Ue();return r+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1,Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(s,r,i,u,c){return this}insert(s,r,i){return new Fn(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(r){this.comparator=r,this.data=new er(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,u)=>(r(i),!1))}forEachInRange(r,i){const u=this.data.getIteratorFrom(r[0]);for(;u.hasNext();){const c=u.getNext();if(this.comparator(c.key,r[1])>=0)return;i(c.key)}}forEachWhile(r,i){let u;for(u=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();u.hasNext();)if(!r(u.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new mI(this.data.getIterator())}getIteratorFrom(r){return new mI(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(u=>{i=i.add(u)}),i}isEqual(r){if(!(r instanceof _n)||this.size!==r.size)return!1;const i=this.data.getIterator(),u=r.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=u.getNext().key;if(0!==this.comparator(c,f))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new _n(this.comparator);return i.data=r,i}}class mI{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const yI=new er(Be.comparator);function yi(){return yI}const NE=new er(Be.comparator);function qm(){return NE}const _I=new er(Be.comparator);function vI(){return _I}const iS=new _n(Be.comparator);function Pt(...s){let r=iS;for(const i of s)r=r.add(i);return r}const sS=new _n(ft);function Bf(){return sS}class Ha{constructor(r,i,u,c,f){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=u,this.documentUpdates=c,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(r,i){const u=new Map;return u.set(r,$a.createSynthesizedTargetChangeForCurrentChange(r,i)),new Ha(ot.min(),u,Bf(),yi(),Pt())}}class $a{constructor(r,i,u,c,f){this.resumeToken=r,this.current=i,this.addedDocuments=u,this.modifiedDocuments=c,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(r,i){return new $a(Xn.EMPTY_BYTE_STRING,i,Pt(),Pt(),Pt())}}class RE{constructor(r,i,u,c){this.k=r,this.removedTargetIds=i,this.key=u,this.$=c}}class dd{constructor(r,i){this.targetId=r,this.O=i}}class Nt{constructor(r,i,u=Xn.EMPTY_BYTE_STRING,c=null){this.state=r,this.targetIds=i,this.resumeToken=u,this.cause=c}}class Mo{constructor(){this.F=0,this.M=oS(),this.L=Xn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Pt(),i=Pt(),u=Pt();return this.M.forEach((c,f)=>{switch(f){case 0:r=r.add(c);break;case 2:i=i.add(c);break;case 1:u=u.add(c);break;default:Ue()}}),new $a(this.L,this.B,r,i,u)}G(){this.U=!1,this.M=oS()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hd{constructor(r){this.tt=r,this.et=new Map,this.nt=yi(),this.st=fd(),this.it=new _n(ft)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const u=this.ut(i);switch(r.state){case 0:this.ht(i)&&u.j(r.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(r.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(i);break;case 3:this.ht(i)&&(u.Z(),u.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),u.j(r.resumeToken));break;default:Ue()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((u,c)=>{this.ht(c)&&i(c)})}ft(r){const i=r.targetId,u=r.O.count,c=this.dt(i);if(c){const f=c.target;if(Lm(f))if(0===u){const y=new Be(f.path);this.at(i,y,on.newNoDocument(y,ot.min()))}else ze(1===u);else this.wt(i)!==u&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((f,y)=>{const b=this.dt(y);if(b){if(f.current&&Lm(b.target)){const T=new Be(b.target.path);null!==this.nt.get(T)||this.gt(y,T)||this.at(y,T,on.newNoDocument(T,r))}f.K&&(i.set(y,f.W()),f.G())}});let u=Pt();this.st.forEach((f,y)=>{let b=!0;y.forEachWhile(T=>{const x=this.dt(T);return!x||2===x.purpose||(b=!1,!1)}),b&&(u=u.add(f))});const c=new Ha(r,i,this.it,this.nt,u);return this.nt=yi(),this.st=fd(),this.it=new _n(ft),c}ot(r,i){if(!this.ht(r))return;const u=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,u),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,u){if(!this.ht(r))return;const c=this.ut(r);this.gt(r,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),u&&(this.nt=this.nt.insert(i,u))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new Mo,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new _n(ft),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||De("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new Mo),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function fd(){return new er(Be.comparator)}function oS(){return new er(Be.comparator)}const tt={asc:"ASCENDING",desc:"DESCENDING"},Oi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ME{constructor(r,i){this.databaseId=r,this.D=i}}function ns(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function aS(s,r){return s.D?r.toBase64():r.toUint8Array()}function EI(s,r){return ns(s,r.toTimestamp())}function $n(s){return ze(!!s),ot.fromTimestamp(function(r){const i=Va(r);return new Qn(i.seconds,i.nanos)}(s))}function wI(s,r){return(i=s,new yt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function bI(s){const r=yt.fromString(s);return ze(Qm(r)),r}function jf(s,r){return wI(s.databaseId,r.path)}function In(s,r){const i=bI(r);if(i.get(1)!==s.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Be(CI(i))}function en(s,r){return wI(s.databaseId,r)}function Pi(s){const r=bI(s);return 4===r.length?yt.emptyPath():CI(r)}function pd(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function CI(s){return ze(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function OE(s,r,i){return{name:jf(s,r),fields:i.value.mapValue.fields}}function Zm(s,r,i){const u=In(s,r.name),c=$n(r.updateTime),f=new _r({mapValue:{fields:r.fields}}),y=on.newFoundDocument(u,c,f);return i&&y.setHasCommittedMutations(),i?y.setHasCommittedMutations():y}function Wm(s,r){let i;if(r instanceof Vf)i={update:OE(s,r.key,r.value)};else if(r instanceof Uf)i={delete:jf(s,r.key)};else if(r instanceof ja)i={update:OE(s,r.key,r.data),updateMask:LE(r.fieldMask)};else{if(!(r instanceof SE))return Ue();i={verify:jf(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(u=>function(c,f){const y=f.transform;if(y instanceof ld)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof al)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Vs)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ul)return{fieldPath:f.field.canonicalString(),increment:y.C};throw Ue()}(0,u))),r.precondition.isNone||(i.currentDocument=void 0!==(c=r.precondition).updateTime?{updateTime:EI(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Ue()),i;var c}function Ga(s,r){const i=r.currentDocument?void 0!==(c=r.currentDocument).updateTime?Hn.updateTime($n(c.updateTime)):void 0!==c.exists?Hn.exists(c.exists):Hn.none():Hn.none(),u=r.updateTransforms?r.updateTransforms.map(c=>function(f,y){let b=null;"setToServerValue"in y?(ze("REQUEST_TIME"===y.setToServerValue),b=new ld):"appendMissingElements"in y?b=new al(y.appendMissingElements.values||[]):"removeAllFromArray"in y?b=new Vs(y.removeAllFromArray.values||[]):"increment"in y?b=new ul(f,y.increment):Ue();const T=Jn.fromServerFormat(y.fieldPath);return new Ro(T,b)}(s,c)):[];var c;if(r.update){const c=In(s,r.update.name),f=new _r({mapValue:{fields:r.update.fields}});if(r.updateMask){const y=new nd((r.updateMask.fieldPaths||[]).map(x=>Jn.fromServerFormat(x)));return new ja(c,f,y,i,u)}return new Vf(c,f,i,u)}if(r.delete){const c=In(s,r.delete);return new Uf(c,i)}if(r.verify){const c=In(s,r.verify);return new SE(c,i)}return Ue()}function PE(s,r){return{documents:[en(s,r.path)]}}function zm(s,r){const i={structuredQuery:{}},u=r.path;null!==r.collectionGroup?(i.parent=en(s,u),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=en(s,u.popLast()),i.structuredQuery.from=[{collectionId:u.lastSegment()}]);const c=function(b){if(0===b.length)return;const T=b.map(x=>function(N){if("=="===N.op){if(XC(N.value))return{unaryFilter:{field:cl(N.field),op:"IS_NAN"}};if(yE(N.value))return{unaryFilter:{field:cl(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(XC(N.value))return{unaryFilter:{field:cl(N.field),op:"IS_NOT_NAN"}};if(yE(N.value))return{unaryFilter:{field:cl(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(N.field),op:DI(N.op),value:N.value}}}(x));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(r.filters);c&&(i.structuredQuery.where=c);const f=function(b){if(0!==b.length)return b.map(T=>{return{field:cl((x=T).field),direction:Km(x.dir)};var x})}(r.orderBy);f&&(i.structuredQuery.orderBy=f);const y=(T=r.limit,s.D||rl(T)?T:{value:T});var T;return null!==y&&(i.structuredQuery.limit=y),r.startAt&&(i.structuredQuery.startAt=ll(r.startAt)),r.endAt&&(i.structuredQuery.endAt=ll(r.endAt)),i}function md(s){let r=Pi(s.parent);const i=s.structuredQuery,u=i.from?i.from.length:0;let c=null;if(u>0){ze(1===u);const N=i.from[0];N.allDescendants?c=N.collectionId:r=r.child(N.collectionId)}let f=[];i.where&&(f=FE(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(N=>{return new No(dl((M=N).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let b=null;i.limit&&(b=function(N){let M;return M="object"==typeof N?N.value:N,rl(M)?null:M}(i.limit));let T=null;i.startAt&&(T=II(i.startAt));let x=null;return i.endAt&&(x=II(i.endAt)),sI(r,c,y,f,b,"F",T,x)}function FE(s){return s?void 0!==s.unaryFilter?[lS(s)]:void 0!==s.fieldFilter?[Ym(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>FE(r)).reduce((r,i)=>r.concat(i)):Ue():[]}function ll(s){return{before:s.before,values:s.position}}function II(s){return new Vm(s.values||[],!!s.before)}function Km(s){return tt[s]}function DI(s){return Oi[s]}function cl(s){return{fieldPath:s.canonicalString()}}function dl(s){return Jn.fromServerFormat(s.fieldPath)}function Ym(s){return ur.create(dl(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ue()}}(s.fieldFilter.op),s.fieldFilter.value)}function lS(s){switch(s.unaryFilter.op){case"IS_NAN":const r=dl(s.unaryFilter.field);return ur.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dl(s.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=dl(s.unaryFilter.field);return ur.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dl(s.unaryFilter.field);return ur.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ue()}}function LE(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function Qm(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Us(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=Qe(r)),r=vN(s.get(i),r);return Qe(r)}function vN(s,r){let i=r;const u=s.length;for(let c=0;c<u;c++){const f=s.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function Qe(s){return s+"\x01\x01"}function qa(s){const r=s.length;if(ze(r>=2),2===r)return ze("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),yt.emptyPath();const i=r-2,u=[];let c="";for(let f=0;f<r;){const y=s.indexOf("\x01",f);switch((y<0||y>i)&&Ue(),s.charAt(y+1)){case"\x01":const b=s.substring(f,y);let T;0===c.length?T=b:(c+=b,T=c,c=""),u.push(T);break;case"\x10":c+=s.substring(f,y),c+="\0";break;case"\x11":c+=s.substring(f,y+1);break;default:Ue()}f=y+2}return new yt(u)}class $f{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class _i{constructor(r,i,u){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=u}}_i.store="owner",_i.key="owner";class Za{constructor(r,i,u){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=u}}Za.store="mutationQueues",Za.keyPath="userId";class tn{constructor(r,i,u,c,f){this.userId=r,this.batchId=i,this.localWriteTimeMs=u,this.baseMutations=c,this.mutations=f}}tn.store="mutations",tn.keyPath="batchId",tn.userMutationsIndex="userMutationsIndex",tn.userMutationsKeyPath=["userId","batchId"];class Rr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,Us(i)]}static key(r,i,u){return[r,Us(i),u]}}Rr.store="documentMutations",Rr.PLACEHOLDER=new Rr;class EN{constructor(r,i){this.path=r,this.readTime=i}}class cS{constructor(r,i){this.path=r,this.version=i}}class _t{constructor(r,i,u,c,f,y){this.unknownDocument=r,this.noDocument=i,this.document=u,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=y}}_t.store="remoteDocuments",_t.readTimeIndex="readTimeIndex",_t.readTimeIndexPath="readTime",_t.collectionReadTimeIndex="collectionReadTimeIndex",_t.collectionReadTimeIndexPath=["parentPath","readTime"];class Bs{constructor(r){this.byteSize=r}}Bs.store="remoteDocumentGlobal",Bs.key="remoteDocumentGlobalKey";class Jr{constructor(r,i,u,c,f,y,b){this.targetId=r,this.canonicalId=i,this.readTime=u,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=y,this.query=b}}Jr.store="targets",Jr.keyPath="targetId",Jr.queryTargetsIndexName="queryTargetsIndex",Jr.queryTargetsKeyPath=["canonicalId","targetId"];class Gn{constructor(r,i,u){this.targetId=r,this.path=i,this.sequenceNumber=u}}Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];class vi{constructor(r,i,u,c){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=u,this.targetCount=c}}vi.key="targetGlobalKey",vi.store="targetGlobal";class hl{constructor(r,i){this.collectionId=r,this.parent=i}}hl.store="collectionParents",hl.keyPath=["collectionId","parent"];class Oo{constructor(r,i,u,c){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=u,this.inForeground=c}}Oo.store="clientMetadata",Oo.keyPath="clientId";class yd{constructor(r,i,u){this.bundleId=r,this.createTime=i,this.version=u}}yd.store="bundles",yd.keyPath="bundleId";class _d{constructor(r,i,u){this.name=r,this.readTime=i,this.bundledQuery=u}}_d.store="namedQueries",_d.keyPath="name";const dS=[Za.store,tn.store,Rr.store,_t.store,Jr.store,_i.store,vi.store,Gn.store,Oo.store,Bs.store,hl.store,yd.store,_d.store],Jm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class _e{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new _e((u,c)=>{this.nextCallback=f=>{this.wrapSuccess(r,f).next(u,c)},this.catchCallback=f=>{this.wrapFailure(i,f).next(u,c)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof _e?i:_e.resolve(i)}catch(i){return _e.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):_e.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):_e.reject(i)}static resolve(r){return new _e((i,u)=>{i(r)})}static reject(r){return new _e((i,u)=>{u(r)})}static waitFor(r){return new _e((i,u)=>{let c=0,f=0,y=!1;r.forEach(b=>{++c,b.next(()=>{++f,y&&f===c&&i()},T=>u(T))}),y=!0,f===c&&i()})}static or(r){let i=_e.resolve(!1);for(const u of r)i=i.next(c=>c?_e.resolve(c):u());return i}static forEach(r,i){const u=[];return r.forEach((c,f)=>{u.push(i.call(this,c,f))}),this.waitFor(u)}}class Gf{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new Yn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new Xm(r,i.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const c=VE(u.target.error);this.Tt.reject(new Xm(r,c))}}static open(r,i,u,c){try{return new Gf(i,r.transaction(c,u))}catch(f){throw new Xm(i,f)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(De("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new fS(i)}}class Ei{constructor(r,i,u){this.name=r,this.version=i,this.At=u,12.2===Ei.Rt((0,xt.z$)())&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return De("SimpleDb","Removing database:",r),pl(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ei.bt())return!0;const r=(0,xt.z$)(),i=Ei.Rt(r),u=0<i&&i<10,c=Ei.vt(r),f=0<c&&c<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||u||f)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(r){const i=r.match(/Android ([\d.]+)/i),u=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(r){var i=this;return(0,pe.Z)(function*(){return i.db||(De("SimpleDb","Opening database:",i.name),i.db=yield new Promise((u,c)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=y=>{u(y.target.result)},f.onblocked=()=>{c(new Xm(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const b=y.target.error;c("VersionError"===b.name?new we(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Xm(r,b))},f.onupgradeneeded=y=>{De("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.At.Ct(y.target.result,f.transaction,y.oldVersion,i.version).next(()=>{De("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=u=>i.Nt(u)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,u,c){var f=this;return(0,pe.Z)(function*(){const y="readonly"===i;let b=0;for(;;){++b;try{f.db=yield f.Dt(r);const T=Gf.open(f.db,r,y?"readonly":"readwrite",u),x=c(T).catch(N=>(T.abort(N),_e.reject(N))).toPromise();return x.catch(()=>{}),yield T.It,x}catch(T){const x="FirebaseError"!==T.name&&b<3;if(De("SimpleDb","Transaction failed with error:",T.message,"Retrying:",x),f.close(),!x)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hS{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return pl(this.kt.delete())}}class Xm extends we{constructor(r,i){super(ae.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function fl(s){return"IndexedDbTransactionError"===s.name}class fS{constructor(r){this.store=r}put(r,i){let u;return void 0!==i?(De("SimpleDb","PUT",this.store.name,r,i),u=this.store.put(i,r)):(De("SimpleDb","PUT",this.store.name,"<auto-key>",r),u=this.store.put(r)),pl(u)}add(r){return De("SimpleDb","ADD",this.store.name,r,r),pl(this.store.add(r))}get(r){return pl(this.store.get(r)).next(i=>(void 0===i&&(i=null),De("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return De("SimpleDb","DELETE",this.store.name,r),pl(this.store.delete(r))}count(){return De("SimpleDb","COUNT",this.store.name),pl(this.store.count())}Lt(r,i){const u=this.cursor(this.options(r,i)),c=[];return this.Bt(u,(f,y)=>{c.push(y)}).next(()=>c)}Ut(r,i){De("SimpleDb","DELETE ALL",this.store.name);const u=this.options(r,i);u.qt=!1;const c=this.cursor(u);return this.Bt(c,(f,y,b)=>b.delete())}Kt(r,i){let u;i?u=r:(u={},i=r);const c=this.cursor(u);return this.Bt(c,i)}jt(r){const i=this.cursor({});return new _e((u,c)=>{i.onerror=f=>{const y=VE(f.target.error);c(y)},i.onsuccess=f=>{const y=f.target.result;y?r(y.primaryKey,y.value).next(b=>{b?y.continue():u()}):u()}})}Bt(r,i){const u=[];return new _e((c,f)=>{r.onerror=y=>{f(y.target.error)},r.onsuccess=y=>{const b=y.target.result;if(!b)return void c();const T=new hS(b),x=i(b.primaryKey,b.value,T);if(x instanceof _e){const N=x.catch(M=>(T.done(),_e.reject(M)));u.push(N)}T.isDone?c():null===T.Ft?b.continue():b.continue(T.Ft)}}).next(()=>_e.waitFor(u))}options(r,i){let u;return void 0!==r&&("string"==typeof r?u=r:i=r),{index:u,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const u=this.store.index(r.index);return r.qt?u.openKeyCursor(r.range,i):u.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function pl(s){return new _e((r,i)=>{s.onsuccess=u=>{r(u.target.result)},s.onerror=u=>{const c=VE(u.target.error);i(c)}})}let AI=!1;function VE(s){const r=Ei.Rt((0,xt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const u=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AI||(AI=!0,setTimeout(()=>{throw u},0)),u}}return s}class SI extends TI{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function tr(s,r){const i=Re(s);return Ei.St(i.Qt,r)}class UE{constructor(r,i,u,c){this.batchId=r,this.localWriteTime=i,this.baseMutations=u,this.mutations=c}applyToRemoteDocument(r,i){const u=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const f=this.mutations[c];f.key.isEqual(r.key)&&eS(f,r,u[c])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&AE(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&AE(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const u=r.get(i.key),c=u;this.applyToLocalView(c),u.isValidDocument()||c.convertToNoDocument(ot.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),Pt())}isEqual(r){return this.batchId===r.batchId&&td(this.mutations,r.mutations,(i,u)=>hI(i,u))&&td(this.baseMutations,r.baseMutations,(i,u)=>hI(i,u))}}class BE{constructor(r,i,u,c){this.batch=r,this.commitVersion=i,this.mutationResults=u,this.docVersions=c}static from(r,i,u){ze(r.mutations.length===u.length);let c=vI();const f=r.mutations;for(let y=0;y<f.length;y++)c=c.insert(f[y].key,u[y].version);return new BE(r,i,u,c)}}class Po{constructor(r,i,u,c,f=ot.min(),y=ot.min(),b=Xn.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=u,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=b}withSequenceNumber(r){return new Po(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class vd{constructor(r){this.Wt=r}}function xI(s,r){if(r.document)return Zm(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=Be.fromSegments(r.noDocument.path),u=wd(r.noDocument.readTime),c=on.newNoDocument(i,u);return r.hasCommittedMutations?c.setHasCommittedMutations():c}if(r.unknownDocument){const i=Be.fromSegments(r.unknownDocument.path),u=wd(r.unknownDocument.version);return on.newUnknownDocument(i,u)}return Ue()}function jE(s,r,i){const u=HE(i),c=r.key.path.popLast().toArray();if(r.isFoundDocument()){const f={name:jf(b=s.Wt,(T=r).key),fields:T.data.value.mapValue.fields,updateTime:ns(b,T.version.toTimestamp())};return new _t(null,null,f,r.hasCommittedMutations,u,c)}var b,T;if(r.isNoDocument()){const f=r.key.path.toArray(),y=Ed(r.version),b=r.hasCommittedMutations;return new _t(null,new EN(f,y),null,b,u,c)}if(r.isUnknownDocument()){const f=r.key.path.toArray(),y=Ed(r.version);return new _t(new cS(f,y),null,null,!0,u,c)}return Ue()}function HE(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function NI(s){const r=new Qn(s[0],s[1]);return ot.fromTimestamp(r)}function Ed(s){const r=s.toTimestamp();return new $f(r.seconds,r.nanoseconds)}function wd(s){const r=new Qn(s.seconds,s.nanoseconds);return ot.fromTimestamp(r)}function bd(s,r){const i=(r.baseMutations||[]).map(f=>Ga(s.Wt,f));for(let f=0;f<r.mutations.length-1;++f){const y=r.mutations[f];f+1<r.mutations.length&&void 0!==r.mutations[f+1].transform&&(y.updateTransforms=r.mutations[f+1].transform.fieldTransforms,r.mutations.splice(f+1,1),++f)}const u=r.mutations.map(f=>Ga(s.Wt,f)),c=Qn.fromMillis(r.localWriteTimeMs);return new UE(r.batchId,c,i,u)}function Cd(s){const r=wd(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?wd(s.lastLimboFreeSnapshotVersion):ot.min();let u;var c;return void 0!==s.query.documents?(ze(1===(c=s.query).documents.length),u=Mi(Nr(Pi(c.documents[0])))):u=Mi(md(s.query)),new Po(u,s.targetId,0,s.lastListenSequenceNumber,r,i,Xn.fromBase64String(s.resumeToken))}function RI(s,r){const i=Ed(r.snapshotVersion),u=Ed(r.lastLimboFreeSnapshotVersion);let c;c=Lm(r.target)?PE(s.Wt,r.target):zm(s.Wt,r.target);const f=r.resumeToken.toBase64();return new Jr(r.targetId,od(r.target),i,f,r.sequenceNumber,u,c)}function $E(s){const r=md({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?oI(r,r.limit,"L"):r}class wN{getBundleMetadata(r,i){return pS(r).get(i).next(u=>{if(u)return{id:(c=u).bundleId,createTime:wd(c.createTime),version:c.version};var c})}saveBundleMetadata(r,i){return pS(r).put({bundleId:(u=i).id,createTime:Ed($n(u.createTime)),version:u.version});var u}getNamedQuery(r,i){return gS(r).get(i).next(u=>{if(u)return{name:(c=u).name,query:$E(c.bundledQuery),readTime:wd(c.readTime)};var c})}saveNamedQuery(r,i){return gS(r).put({name:(u=i).name,readTime:Ed($n(u.readTime)),bundledQuery:u.bundledQuery});var u}}function pS(s){return tr(s,yd.store)}function gS(s){return tr(s,_d.store)}class GE{constructor(){this.Gt=new qE}addToCollectionParentIndex(r,i){return this.Gt.add(i),_e.resolve()}getCollectionParents(r,i){return _e.resolve(this.Gt.getEntries(i))}}class qE{constructor(){this.index={}}add(r){const i=r.lastSegment(),u=r.popLast(),c=this.index[i]||new _n(yt.comparator),f=!c.has(u);return this.index[i]=c.add(u),f}has(r){const i=r.lastSegment(),u=r.popLast(),c=this.index[i];return c&&c.has(u)}getEntries(r){return(this.index[r]||new _n(yt.comparator)).toArray()}}class mS{constructor(){this.zt=new qE}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const u=i.lastSegment(),c=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const f={collectionId:u,parent:Us(c)};return MI(r).put(f)}return _e.resolve()}getCollectionParents(r,i){const u=[],c=IDBKeyRange.bound([i,""],[WC(i),""],!1,!0);return MI(r).Lt(c).next(f=>{for(const y of f){if(y.collectionId!==i)break;u.push(qa(y.parent))}return u})}}function MI(s){return tr(s,hl.store)}const OI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(r,i,u){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=u}static withCacheSize(r){return new Xr(r,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PI(s,r,i){const u=s.store(tn.store),c=s.store(Rr.store),f=[],y=IDBKeyRange.only(i.batchId);let b=0;const T=u.Kt({range:y},(N,M,j)=>(b++,j.delete()));f.push(T.next(()=>{ze(1===b)}));const x=[];for(const N of i.mutations){const M=Rr.key(r,N.key.path,i.batchId);f.push(c.delete(M)),x.push(N.key)}return _e.waitFor(f).next(()=>x)}function qf(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Ue();r=s.noDocument}return JSON.stringify(r).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class Zf{constructor(r,i,u,c){this.userId=r,this.N=i,this.Ht=u,this.referenceDelegate=c,this.Jt={}}static Yt(r,i,u,c){ze(""!==r.uid);const f=r.isAuthenticated()?r.uid:"";return new Zf(f,i,u,c)}checkEmpty(r){let i=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wi(r).Kt({index:tn.userMutationsIndex,range:u},(c,f,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(r,i,u,c){const f=Dn(r),y=wi(r);return y.add({}).next(b=>{ze("number"==typeof b);const T=new UE(b,i,u,c),x=function(j,q,fe){const Se=fe.baseMutations.map(at=>Wm(j.Wt,at)),Oe=fe.mutations.map(at=>Wm(j.Wt,at));return new tn(q,fe.batchId,fe.localWriteTime.toMillis(),Se,Oe)}(this.N,this.userId,T),N=[];let M=new _n((j,q)=>ft(j.canonicalString(),q.canonicalString()));for(const j of c){const q=Rr.key(this.userId,j.key.path,b);M=M.add(j.key.path.popLast()),N.push(y.put(x)),N.push(f.put(q,Rr.PLACEHOLDER))}return M.forEach(j=>{N.push(this.Ht.addToCollectionParentIndex(r,j))}),r.addOnCommittedListener(()=>{this.Jt[b]=T.keys()}),_e.waitFor(N).next(()=>T)})}lookupMutationBatch(r,i){return wi(r).get(i).next(u=>u?(ze(u.userId===this.userId),bd(this.N,u)):null)}Xt(r,i){return this.Jt[i]?_e.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(u=>{if(u){const c=u.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(r,i){const u=i+1,c=IDBKeyRange.lowerBound([this.userId,u]);let f=null;return wi(r).Kt({index:tn.userMutationsIndex,range:c},(y,b,T)=>{b.userId===this.userId&&(ze(b.batchId>=u),f=bd(this.N,b)),T.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return wi(r).Kt({index:tn.userMutationsIndex,range:i,reverse:!0},(c,f,y)=>{u=f.batchId,y.done()}).next(()=>u)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wi(r).Lt(tn.userMutationsIndex,i).next(u=>u.map(c=>bd(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(r,i){const u=Rr.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(u),f=[];return Dn(r).Kt({range:c},(y,b,T)=>{const[x,N,M]=y,j=qa(N);if(x===this.userId&&i.path.isEqual(j))return wi(r).get(M).next(q=>{if(!q)throw Ue();ze(q.userId===this.userId),f.push(bd(this.N,q))});T.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new _n(ft);const c=[];return i.forEach(f=>{const y=Rr.prefixForPath(this.userId,f.path),b=IDBKeyRange.lowerBound(y),T=Dn(r).Kt({range:b},(x,N,M)=>{const[j,q,fe]=x,Se=qa(q);j===this.userId&&f.path.isEqual(Se)?u=u.add(fe):M.done()});c.push(T)}),_e.waitFor(c).next(()=>this.Zt(r,u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,c=u.length+1,f=Rr.prefixForPath(this.userId,u),y=IDBKeyRange.lowerBound(f);let b=new _n(ft);return Dn(r).Kt({range:y},(T,x,N)=>{const[M,j,q]=T,fe=qa(j);M===this.userId&&u.isPrefixOf(fe)?fe.length===c&&(b=b.add(q)):N.done()}).next(()=>this.Zt(r,b))}Zt(r,i){const u=[],c=[];return i.forEach(f=>{c.push(wi(r).get(f).next(y=>{if(null===y)throw Ue();ze(y.userId===this.userId),u.push(bd(this.N,y))}))}),_e.waitFor(c).next(()=>u)}removeMutationBatch(r,i){return PI(r.Qt,this.userId,i).next(u=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),_e.forEach(u,c=>this.referenceDelegate.markPotentiallyOrphaned(r,c))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return _e.resolve();const u=IDBKeyRange.lowerBound(Rr.prefixForUser(this.userId)),c=[];return Dn(r).Kt({range:u},(f,y,b)=>{if(f[0]===this.userId){const T=qa(f[1]);c.push(T)}else b.done()}).next(()=>{ze(0===c.length)})})}containsKey(r,i){return kI(r,this.userId,i)}ee(r){return ZE(r).get(this.userId).next(i=>i||new Za(this.userId,-1,""))}}function kI(s,r,i){const u=Rr.prefixForPath(r,i.path),c=u[1],f=IDBKeyRange.lowerBound(u);let y=!1;return Dn(s).Kt({range:f,qt:!0},(b,T,x)=>{const[N,M,j]=b;N===r&&M===c&&(y=!0),x.done()}).next(()=>y)}function wi(s){return tr(s,tn.store)}function Dn(s){return tr(s,Rr.store)}function ZE(s){return tr(s,Za.store)}class lr{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new lr(0)}static ie(){return new lr(-1)}}class WE{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const u=new lr(i.highestTargetId);return i.highestTargetId=u.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>ot.fromTimestamp(new Qn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,u){return this.re(r).next(c=>(c.highestListenSequenceNumber=i,u&&(c.lastRemoteSnapshotVersion=u.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(r,c)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(u=>(u.targetCount+=1,this.ce(i,u),this.oe(r,u))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Id(r).delete(i.targetId)).next(()=>this.re(r)).next(u=>(ze(u.targetCount>0),u.targetCount-=1,this.oe(r,u)))}removeTargets(r,i,u){let c=0;const f=[];return Id(r).Kt((y,b)=>{const T=Cd(b);T.sequenceNumber<=i&&null===u.get(T.targetId)&&(c++,f.push(this.removeTargetData(r,T)))}).next(()=>_e.waitFor(f)).next(()=>c)}forEachTarget(r,i){return Id(r).Kt((u,c)=>{const f=Cd(c);i(f)})}re(r){return zE(r).get(vi.key).next(i=>(ze(null!==i),i))}oe(r,i){return zE(r).put(vi.key,i)}ae(r,i){return Id(r).put(RI(this.N,i))}ce(r,i){let u=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,u=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,u=!0),u}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const u=od(i),c=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let f=null;return Id(r).Kt({range:c,index:Jr.queryTargetsIndexName},(y,b,T)=>{const x=Cd(b);Fm(i,x.target)&&(f=x,T.done())}).next(()=>f)}addMatchingKeys(r,i,u){const c=[],f=ko(r);return i.forEach(y=>{const b=Us(y.path);c.push(f.put(new Gn(u,b))),c.push(this.referenceDelegate.addReference(r,u,y))}),_e.waitFor(c)}removeMatchingKeys(r,i,u){const c=ko(r);return _e.forEach(i,f=>{const y=Us(f.path);return _e.waitFor([c.delete([u,y]),this.referenceDelegate.removeReference(r,u,f)])})}removeMatchingKeysForTargetId(r,i){const u=ko(r),c=IDBKeyRange.bound([i],[i+1],!1,!0);return u.delete(c)}getMatchingKeysForTargetId(r,i){const u=IDBKeyRange.bound([i],[i+1],!1,!0),c=ko(r);let f=Pt();return c.Kt({range:u,qt:!0},(y,b,T)=>{const x=qa(y[1]),N=new Be(x);f=f.add(N)}).next(()=>f)}containsKey(r,i){const u=Us(i.path),c=IDBKeyRange.bound([u],[WC(u)],!1,!0);let f=0;return ko(r).Kt({index:Gn.documentTargetsIndex,qt:!0,range:c},([y,b],T,x)=>{0!==y&&(f++,x.done())}).next(()=>f>0)}Et(r,i){return Id(r).get(i).next(u=>u?Cd(u):null)}}function Id(s){return tr(s,Jr.store)}function zE(s){return tr(s,vi.store)}function ko(s){return tr(s,Gn.store)}function Wa(s){return KE.apply(this,arguments)}function KE(){return(KE=(0,pe.Z)(function*(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==Jm)throw s;De("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function FI([s,r],[i,u]){const c=ft(s,i);return 0===c?ft(r,u):c}class yS{constructor(r){this.ue=r,this.buffer=new _n(FI),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const u=this.buffer.last();FI(i,u)<0&&(this.buffer=this.buffer.delete(u).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const u=this.de?3e5:6e4;De("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,pe.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(c){fl(c)?De("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Wa(c)}yield i._e(r)}))}}class _S{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(u=>Math.floor(i/100*u))}nthSequenceNumber(r,i){if(0===i)return _e.resolve(mi.T);const u=new yS(i);return this.me.forEachTarget(r,c=>u.fe(c.sequenceNumber)).next(()=>this.me.ye(r,c=>u.fe(c))).next(()=>u.maxValue)}removeTargets(r,i,u){return this.me.removeTargets(r,i,u)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(OI)):this.getCacheSize(r).next(u=>u<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OI):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let u,c,f,y,b,T,x;const N=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),c=this.params.maximumSequenceNumbersToCollect):c=M,y=Date.now(),this.nthSequenceNumber(r,c))).next(M=>(u=M,b=Date.now(),this.removeTargets(r,u,i))).next(M=>(f=M,T=Date.now(),this.removeOrphanedDocuments(r,u))).next(M=>(x=Date.now(),cE()<=To.in.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-N}ms\n\tDetermined least recently used ${c} in `+(b-y)+`ms\n\tRemoved ${f} targets in `+(T-b)+`ms\n\tRemoved ${M} documents in `+(x-T)+`ms\nTotal Duration: ${x-N}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:M})))}}class bN{constructor(r,i){this.db=r,this.garbageCollector=new _S(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(u=>i.next(c=>u+c))}Ee(r){let i=0;return this.ye(r,u=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(u,c)=>i(c))}addReference(r,i,u){return ey(r,u)}removeReference(r,i,u){return ey(r,u)}removeTargets(r,i,u){return this.db.getTargetCache().removeTargets(r,i,u)}markPotentiallyOrphaned(r,i){return ey(r,i)}Ie(r,i){return function(u,c){let f=!1;return ZE(u).jt(y=>kI(u,y,c).next(b=>(b&&(f=!0),_e.resolve(!b)))).next(()=>f)}(r,i)}removeOrphanedDocuments(r,i){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let f=0;return this.Te(r,(y,b)=>{if(b<=i){const T=this.Ie(r,y).next(x=>{if(!x)return f++,u.getEntry(r,y).next(()=>(u.removeEntry(y),ko(r).delete([0,Us(y.path)])))});c.push(T)}}).next(()=>_e.waitFor(c)).next(()=>u.apply(r)).next(()=>f)}removeTarget(r,i){const u=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,u)}updateLimboDocument(r,i){return ey(r,i)}Te(r,i){const u=ko(r);let c,f=mi.T;return u.Kt({index:Gn.documentTargetsIndex},([y,b],{path:T,sequenceNumber:x})=>{0===y?(f!==mi.T&&i(new Be(qa(c)),f),f=x,c=T):f=mi.T}).next(()=>{f!==mi.T&&i(new Be(qa(c)),f)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function ey(s,r){return ko(s).put((u=s.currentSequenceNumber,new Gn(0,Us(r.path),u)));var u}class Dd{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0!==u)for(const[c,f]of u)if(this.equalsFn(c,r))return f}has(r){return void 0!==this.get(r)}set(r,i){const u=this.mapKeyFn(r),c=this.inner[u];if(void 0!==c){for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],r))return void(c[f]=[r,i]);c.push([r,i])}else this.inner[u]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0===u)return!1;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],r))return 1===u.length?delete this.inner[i]:u.splice(c,1),!0;return!1}forEach(r){La(this.inner,(i,u)=>{for(const[c,f]of u)r(c,f)})}isEmpty(){return KC(this.inner)}}class gl{constructor(){this.changes=new Dd(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:ot.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:on.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const u=this.changes.get(i);return void 0!==u?_e.resolve(u.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class CN{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,u){return ml(r).put(Wf(i),u)}removeEntry(r,i){const u=ml(r),c=Wf(i);return u.delete(c)}updateMetadata(r,i){return this.getMetadata(r).next(u=>(u.byteSize+=i,this.Ae(r,u)))}getEntry(r,i){return ml(r).get(Wf(i)).next(u=>this.Re(i,u))}Pe(r,i){return ml(r).get(Wf(i)).next(u=>({document:this.Re(i,u),size:qf(u)}))}getEntries(r,i){let u=yi();return this.be(r,i,(c,f)=>{const y=this.Re(c,f);u=u.insert(c,y)}).next(()=>u)}ve(r,i){let u=yi(),c=new er(Be.comparator);return this.be(r,i,(f,y)=>{const b=this.Re(f,y);u=u.insert(f,b),c=c.insert(f,qf(y))}).next(()=>({documents:u,Ve:c}))}be(r,i,u){if(i.isEmpty())return _e.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator();let y=f.getNext();return ml(r).Kt({range:c},(b,T,x)=>{const N=Be.fromSegments(b);for(;y&&Be.comparator(y,N)<0;)u(y,null),y=f.getNext();y&&y.isEqual(N)&&(u(y,T),y=f.hasNext()?f.getNext():null),y?x.Mt(y.path.toArray()):x.done()}).next(()=>{for(;y;)u(y,null),y=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(r,i,u){let c=yi();const f=i.path.length+1,y={};if(u.isEqual(ot.min())){const b=i.path.toArray();y.range=IDBKeyRange.lowerBound(b)}else{const b=i.path.toArray(),T=HE(u);y.range=IDBKeyRange.lowerBound([b,T],!0),y.index=_t.collectionReadTimeIndex}return ml(r).Kt(y,(b,T,x)=>{if(b.length!==f)return;const N=xI(this.N,T);i.path.isPrefixOf(N.key.path)?ol(i,N)&&(c=c.insert(N.key,N)):x.done()}).next(()=>c)}newChangeBuffer(r){return new VI(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return UI(r).get(Bs.key).next(i=>(ze(!!i),i))}Ae(r,i){return UI(r).put(Bs.key,i)}Re(r,i){if(i){const u=xI(this.N,i);if(!u.isNoDocument()||!u.version.isEqual(ot.min()))return u}return on.newInvalidDocument(r)}}class VI extends gl{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new Dd(u=>u.toString(),(u,c)=>u.isEqual(c))}applyChanges(r){const i=[];let u=0,c=new _n((f,y)=>ft(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const b=this.De.get(f);if(y.document.isValidDocument()){const T=jE(this.Se.N,y.document,this.getReadTime(f));c=c.add(f.path.popLast()),u+=qf(T)-b,i.push(this.Se.addEntry(r,f,T))}else if(u-=b,this.trackRemovals){const T=jE(this.Se.N,on.newNoDocument(f,ot.min()),this.getReadTime(f));i.push(this.Se.addEntry(r,f,T))}else i.push(this.Se.removeEntry(r,f))}),c.forEach(f=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,f))}),i.push(this.Se.updateMetadata(r,u)),_e.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(u=>(this.De.set(i,u.size),u.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:u,Ve:c})=>(c.forEach((f,y)=>{this.De.set(f,y)}),u))}}function UI(s){return tr(s,Bs.store)}function ml(s){return tr(s,_t.store)}function Wf(s){return s.path.toArray()}class vS{constructor(r){this.N=r}Ct(r,i,u,c){ze(u<c&&u>=0&&c<=11);const f=new Gf("createOrUpgrade",i);var b;u<1&&c>=1&&(r.createObjectStore(_i.store),(b=r).createObjectStore(Za.store,{keyPath:Za.keyPath}),b.createObjectStore(tn.store,{keyPath:tn.keyPath,autoIncrement:!0}).createIndex(tn.userMutationsIndex,tn.userMutationsKeyPath,{unique:!0}),b.createObjectStore(Rr.store),ty(r),function(b){b.createObjectStore(_t.store)}(r));let y=_e.resolve();return u<3&&c>=3&&(0!==u&&(function(b){b.deleteObjectStore(Gn.store),b.deleteObjectStore(Jr.store),b.deleteObjectStore(vi.store)}(r),ty(r)),y=y.next(()=>function(b){const T=b.store(vi.store),x=new vi(0,0,ot.min().toTimestamp(),0);return T.put(vi.key,x)}(f))),u<4&&c>=4&&(0!==u&&(y=y.next(()=>function(b,T){return T.store(tn.store).Lt().next(x=>{b.deleteObjectStore(tn.store),b.createObjectStore(tn.store,{keyPath:tn.keyPath,autoIncrement:!0}).createIndex(tn.userMutationsIndex,tn.userMutationsKeyPath,{unique:!0});const N=T.store(tn.store),M=x.map(j=>N.put(j));return _e.waitFor(M)})}(r,f))),y=y.next(()=>{!function(b){b.createObjectStore(Oo.store,{keyPath:Oo.keyPath})}(r)})),u<5&&c>=5&&(y=y.next(()=>this.Ce(f))),u<6&&c>=6&&(y=y.next(()=>(function(b){b.createObjectStore(Bs.store)}(r),this.Ne(f)))),u<7&&c>=7&&(y=y.next(()=>this.xe(f))),u<8&&c>=8&&(y=y.next(()=>this.ke(r,f))),u<9&&c>=9&&(y=y.next(()=>{(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(r),function(b){const T=b.objectStore(_t.store);T.createIndex(_t.readTimeIndex,_t.readTimeIndexPath,{unique:!1}),T.createIndex(_t.collectionReadTimeIndex,_t.collectionReadTimeIndexPath,{unique:!1})}(i)})),u<10&&c>=10&&(y=y.next(()=>this.$e(f))),u<11&&c>=11&&(y=y.next(()=>{(function(b){b.createObjectStore(yd.store,{keyPath:yd.keyPath})})(r),function(b){b.createObjectStore(_d.store,{keyPath:_d.keyPath})}(r)})),y}Ne(r){let i=0;return r.store(_t.store).Kt((u,c)=>{i+=qf(c)}).next(()=>{const u=new Bs(i);return r.store(Bs.store).put(Bs.key,u)})}Ce(r){const i=r.store(Za.store),u=r.store(tn.store);return i.Lt().next(c=>_e.forEach(c,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return u.Lt(tn.userMutationsIndex,y).next(b=>_e.forEach(b,T=>{ze(T.userId===f.userId);const x=bd(this.N,T);return PI(r,f.userId,x).next(()=>{})}))}))}xe(r){const i=r.store(Gn.store),u=r.store(_t.store);return r.store(vi.store).get(vi.key).next(c=>{const f=[];return u.Kt((y,b)=>{const T=new yt(y),x=[0,Us(T)];f.push(i.get(x).next(N=>N?_e.resolve():i.put(new Gn(0,Us(T),c.highestListenSequenceNumber))))}).next(()=>_e.waitFor(f))})}ke(r,i){r.createObjectStore(hl.store,{keyPath:hl.keyPath});const u=i.store(hl.store),c=new qE,f=y=>{if(c.add(y)){const b=y.lastSegment(),T=y.popLast();return u.put({collectionId:b,parent:Us(T)})}};return i.store(_t.store).Kt({qt:!0},(y,b)=>{const T=new yt(y);return f(T.popLast())}).next(()=>i.store(Rr.store).Kt({qt:!0},([y,b,T],x)=>{const N=qa(b);return f(N.popLast())}))}$e(r){const i=r.store(Jr.store);return i.Kt((u,c)=>{const f=Cd(c),y=RI(this.N,f);return i.put(y)})}}function ty(s){s.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.queryTargetsIndexName,Jr.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(vi.store)}const YE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ny{constructor(r,i,u,c,f,y,b,T,x,N){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=u,this.Oe=f,this.window=y,this.document=b,this.Fe=x,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!ny.Pt())throw new we(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bN(this,c),this.We=i+"main",this.N=new vd(T),this.Ge=new Ei(this.We,11,new vS(this.N)),this.ze=new WE(this.referenceDelegate,this.N),this.Ht=new mS,this.He=new CN(this.N,this.Ht),this.Je=new wN,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,YE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new mi(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var u=(0,pe.Z)(function*(c){if(i.started)return r(c)});return function(c){return u.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,pe.Z)(function*(u){null===u.newVersion&&(yield r())});return function(u){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,pe.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>ry(r).put(new Oo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(fl(r))return De("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return De("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return zf(r).get(_i.key).next(i=>_e.resolve(this.cn(i)))}un(r){return ry(r).delete(this.clientId)}hn(){var r=this;return(0,pe.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const c=tr(u,Oo.store);return c.Lt().next(f=>{const y=r.fn(f,18e5),b=f.filter(T=>-1===y.indexOf(T));return _e.forEach(b,T=>c.delete(T.clientId)).next(()=>b)})}).catch(()=>[]);if(r.Ye)for(const u of i)r.Ye.removeItem(r.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?_e.resolve(!0):zf(r).get(_i.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new we(ae.FAILED_PRECONDITION,YE);return!1}}return!(!this.networkEnabled||!this.inForeground)||ry(r).Lt().next(u=>void 0===this.fn(u,5e3).find(c=>{if(this.clientId!==c.clientId){const y=!this.inForeground&&c.inForeground,b=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||y&&b)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&De("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,pe.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[_i.store,Oo.store],i=>{const u=new SI(i,mi.T);return r.on(u).next(()=>r.un(u))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(u=>this.ln(u.updateTimeMs,i)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>ry(r).Lt().next(i=>this.fn(i,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(r){return Zf.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,u){let f;return De("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",dS,y=>(f=new SI(y,this.Le?this.Le.next():mi.T),"readwrite-primary"===i?this.sn(f).next(b=>!!b||this.rn(f)).next(b=>{if(!b)throw kn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new we(ae.FAILED_PRECONDITION,Jm);return u(f)}).next(b=>this.an(f).next(()=>b)):this.En(f).next(()=>u(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}En(r){return zf(r).get(_i.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new we(ae.FAILED_PRECONDITION,YE)})}an(r){const i=new _i(this.clientId,this.allowTabSynchronization,Date.now());return zf(r).put(_i.key,i)}static Pt(){return Ei.Pt()}on(r){const i=zf(r);return i.get(_i.key).next(u=>this.cn(u)?(De("IndexedDbPersistence","Releasing primary lease."),i.delete(_i.key)):_e.resolve())}ln(r,i){const u=Date.now();return!(r<u-i||r>u&&(kn(`Detected an update time that is in the future: ${r} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,xt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const u=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return De("IndexedDbPersistence",`Client '${r}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return kn("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){kn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function zf(s){return tr(s,_i.store)}function ry(s){return tr(s,Oo.store)}function QE(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class ES{constructor(r,i){this.progress=r,this.Tn=i}}class BI{constructor(r,i,u){this.He=r,this.In=i,this.Ht=u}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(u=>this.Rn(r,i,u))}Rn(r,i,u){return this.He.getEntry(r,i).next(c=>{for(const f of u)f.applyToLocalView(c);return c})}Pn(r,i){r.forEach((u,c)=>{for(const f of i)f.applyToLocalView(c)})}bn(r,i){return this.He.getEntries(r,i).next(u=>this.vn(r,u).next(()=>u))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(u=>this.Pn(i,u))}getDocumentsMatchingQuery(r,i,u){return Be.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(r,i.path):CE(i)?this.Sn(r,i,u):this.Dn(r,i,u);var c}Vn(r,i){return this.An(r,new Be(i)).next(u=>{let c=qm();return u.isFoundDocument()&&(c=c.insert(u.key,u)),c})}Sn(r,i,u){const c=i.collectionGroup;let f=qm();return this.Ht.getCollectionParents(r,c).next(y=>_e.forEach(y,b=>{const T=(x=i,N=b.child(c),new Ba(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,N;return this.Dn(r,T,u).next(x=>{x.forEach((N,M)=>{f=f.insert(N,M)})})}).next(()=>f))}Dn(r,i,u){let c,f;return this.He.getDocumentsMatchingQuery(r,i,u).next(y=>(c=y,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(y=>(f=y,this.Cn(r,f,c).next(b=>{c=b;for(const T of f)for(const x of T.mutations){const N=x.key;let M=c.get(N);null==M&&(M=on.newInvalidDocument(N),c=c.insert(N,M)),AE(x,M,T.localWriteTime),M.isFoundDocument()||(c=c.remove(N))}}))).next(()=>(c.forEach((y,b)=>{ol(i,b)||(c=c.remove(y))}),c))}Cn(r,i,u){let c=Pt();for(const y of i)for(const b of y.mutations)b instanceof ja&&null===u.get(b.key)&&(c=c.add(b.key));let f=u;return this.He.getEntries(r,c).next(y=>(y.forEach((b,T)=>{T.isFoundDocument()&&(f=f.insert(b,T))}),f))}}class JE{constructor(r,i,u,c){this.targetId=r,this.fromCache=i,this.Nn=u,this.xn=c}static kn(r,i){let u=Pt(),c=Pt();for(const f of i.docChanges)switch(f.type){case 0:u=u.add(f.doc.key);break;case 1:c=c.add(f.doc.key)}return new JE(r,i.fromCache,u,c)}}class jI{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,u,c){return 0===(f=i).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||u.isEqual(ot.min())?this.Fn(r,i):this.On.bn(r,c).next(f=>{const y=this.Mn(i,f);return(Of(i)||wE(i))&&this.Ln(i.limitType,y,c,u)?this.Fn(r,i):(cE()<=To.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Bm(i)),this.On.getDocumentsMatchingQuery(r,i,u).next(b=>(y.forEach(T=>{b=b.insert(T.key,T)}),b)))});var f}Mn(r,i){let u=new _n(IE(r));return i.forEach((c,f)=>{ol(r,f)&&(u=u.add(f))}),u}Ln(r,i,u,c){if(u.size!==i.size)return!0;const f="F"===r?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)}Fn(r,i){return cE()<=To.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Bm(i)),this.On.getDocumentsMatchingQuery(r,i,ot.min())}}class wS{constructor(r,i,u,c){this.persistence=r,this.Bn=i,this.N=c,this.Un=new er(ft),this.qn=new Dd(f=>od(f),Fm),this.Kn=ot.min(),this.In=r.getMutationQueue(u),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new BI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function Td(s,r,i,u){return new wS(s,r,i,u)}function XE(s,r){return iy.apply(this,arguments)}function iy(){return(iy=(0,pe.Z)(function*(s,r){const i=Re(s);let u=i.In,c=i.Qn;const f=yield i.persistence.runTransaction("Handle user change","readonly",y=>{let b;return i.In.getAllMutationBatches(y).next(T=>(b=T,u=i.persistence.getMutationQueue(r),c=new BI(i.jn,u,i.persistence.getIndexManager()),u.getAllMutationBatches(y))).next(T=>{const x=[],N=[];let M=Pt();for(const j of b){x.push(j.batchId);for(const q of j.mutations)M=M.add(q.key)}for(const j of T){N.push(j.batchId);for(const q of j.mutations)M=M.add(q.key)}return c.bn(y,M).next(j=>({Wn:j,removedBatchIds:x,addedBatchIds:N}))})});return i.In=u,i.Qn=c,i.Bn.$n(i.Qn),f})).apply(this,arguments)}function HI(s,r){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const c=r.batch.keys(),f=i.jn.newChangeBuffer({trackRemovals:!0});return function(y,b,T,x){const N=T.batch,M=N.keys();let j=_e.resolve();return M.forEach(q=>{j=j.next(()=>x.getEntry(b,q)).next(fe=>{const Se=T.docVersions.get(q);ze(null!==Se),fe.version.compareTo(Se)<0&&(N.applyToRemoteDocument(fe,T),fe.isValidDocument()&&x.addEntry(fe,T.commitVersion))})}),j.next(()=>y.In.removeMutationBatch(b,N))}(i,u,r,f).next(()=>f.apply(u)).next(()=>i.In.performConsistencyCheck(u)).next(()=>i.Qn.bn(u,c))})}function e0(s){const r=Re(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function $I(s,r){const i=Re(s),u=r.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const b=[];r.targetChanges.forEach((x,N)=>{const M=c.get(N);if(!M)return;b.push(i.ze.removeMatchingKeys(f,x.removedDocuments,N).next(()=>i.ze.addMatchingKeys(f,x.addedDocuments,N)));const j=x.resumeToken;if(j.approximateByteSize()>0){const q=M.withResumeToken(j,u).withSequenceNumber(f.currentSequenceNumber);c=c.insert(N,q),fe=M,Oe=x,ze((Se=q).resumeToken.approximateByteSize()>0),(0===fe.resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&b.push(i.ze.updateTargetData(f,q))}var fe,Se,Oe});let T=yi();if(r.documentUpdates.forEach((x,N)=>{r.resolvedLimboDocuments.has(x)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(f,x))}),b.push(GI(f,y,r.documentUpdates,u,void 0).next(x=>{T=x})),!u.isEqual(ot.min())){const x=i.ze.getLastRemoteSnapshotVersion(f).next(N=>i.ze.setTargetsMetadata(f,f.currentSequenceNumber,u));b.push(x)}return _e.waitFor(b).next(()=>y.apply(f)).next(()=>i.Qn.vn(f,T)).next(()=>T)}).then(f=>(i.Un=c,f))}function GI(s,r,i,u,c){let f=Pt();return i.forEach(y=>f=f.add(y)),r.getEntries(s,f).next(y=>{let b=yi();return i.forEach((T,x)=>{const N=y.get(T),M=(null==c?void 0:c.get(T))||u;x.isNoDocument()&&x.version.isEqual(ot.min())?(r.removeEntry(T,M),b=b.insert(T,x)):!N.isValidDocument()||x.version.compareTo(N.version)>0||0===x.version.compareTo(N.version)&&N.hasPendingWrites?(r.addEntry(x,M),b=b.insert(T,x)):De("LocalStore","Ignoring outdated watch update for ",T,". Current version:",N.version," Watch version:",x.version)}),b})}function bS(s,r){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(u,r)))}function Ad(s,r){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",u=>{let c;return i.ze.getTargetData(u,r).next(f=>f?(c=f,_e.resolve(c)):i.ze.allocateTargetId(u).next(y=>(c=new Po(r,y,0,u.currentSequenceNumber),i.ze.addTargetData(u,c).next(()=>c))))}).then(u=>{const c=i.Un.get(u.targetId);return(null===c||u.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(u.targetId,u),i.qn.set(r,u.targetId)),u})}function Sd(s,r,i){return t0.apply(this,arguments)}function t0(){return(t0=(0,pe.Z)(function*(s,r,i){const u=Re(s),c=u.Un.get(r),f=i?"readwrite":"readwrite-primary";try{i||(yield u.persistence.runTransaction("Release target",f,y=>u.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!fl(y))throw y;De("LocalStore",`Failed to update sequence numbers for target ${r}: ${y}`)}u.Un=u.Un.remove(r),u.qn.delete(c.target)})).apply(this,arguments)}function sy(s,r,i){const u=Re(s);let c=ot.min(),f=Pt();return u.persistence.runTransaction("Execute query","readonly",y=>function(b,T,x){const N=Re(b),M=N.qn.get(x);return void 0!==M?_e.resolve(N.Un.get(M)):N.ze.getTargetData(T,x)}(u,y,Mi(r)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(y,b.targetId).next(T=>{f=T})}).next(()=>u.Bn.getDocumentsMatchingQuery(y,r,i?c:ot.min(),i?f:Pt())).next(b=>({documents:b,Gn:f})))}function qI(s,r){const i=Re(s),u=Re(i.ze),c=i.Un.get(r);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",f=>u.Et(f,r).next(y=>y?y.target:null))}function xd(s){const r=Re(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(u,c,f){const y=Re(u);let b=yi(),T=HE(f);const x=ml(c),N=IDBKeyRange.lowerBound(T,!0);return x.Kt({index:_t.readTimeIndex,range:N},(M,j)=>{const q=xI(y.N,j);b=b.insert(q.key,q),T=j.readTime}).next(()=>({Tn:b,readTime:NI(T)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:u})=>(r.Kn=u,i))}function n0(){return(n0=(0,pe.Z)(function*(s){const r=Re(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(u){const c=ml(u);let f=ot.min();return c.Kt({index:_t.readTimeIndex,reverse:!0},(y,b,T)=>{b.readTime&&(f=NI(b.readTime)),T.done()}).next(()=>f)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function ki(){return(ki=(0,pe.Z)(function*(s,r,i,u){const c=Re(s);let f=Pt(),y=yi(),b=vI();for(const N of i){const M=r.zn(N.metadata.name);N.document&&(f=f.add(M)),y=y.insert(M,r.Hn(N)),b=b.insert(M,r.Jn(N.metadata.readTime))}const T=c.jn.newChangeBuffer({trackRemovals:!0}),x=yield Ad(c,(N=u,Mi(Nr(yt.fromString(`__bundle__/docs/${N}`)))));var N;return c.persistence.runTransaction("Apply bundle documents","readwrite",N=>GI(N,T,y,ot.min(),b).next(M=>(T.apply(N),M)).next(M=>c.ze.removeMatchingKeysForTargetId(N,x.targetId).next(()=>c.ze.addMatchingKeys(N,f,x.targetId)).next(()=>c.Qn.vn(N,M)).next(()=>M)))})).apply(this,arguments)}function CS(s,r){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,pe.Z)(function*(s,r,i=Pt()){const u=yield Ad(s,Mi($E(r.bundledQuery))),c=Re(s);return c.persistence.runTransaction("Save named query","readwrite",f=>{const y=$n(r.readTime);if(u.snapshotVersion.compareTo(y)>=0)return c.Je.saveNamedQuery(f,r);const b=u.withResumeToken(Xn.EMPTY_BYTE_STRING,y);return c.Un=c.Un.insert(b.targetId,b),c.ze.updateTargetData(f,b).next(()=>c.ze.removeMatchingKeysForTargetId(f,u.targetId)).next(()=>c.ze.addMatchingKeys(f,i,u.targetId)).next(()=>c.Je.saveNamedQuery(f,r))})})).apply(this,arguments)}class IS{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return _e.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var u;return this.Yn.set(i.id,{id:(u=i).id,version:u.version,createTime:$n(u.createTime)}),_e.resolve()}getNamedQuery(r,i){return _e.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(u=i).name,query:$E(u.bundledQuery),readTime:$n(u.readTime)}),_e.resolve();var u}}class s0{constructor(){this.Zn=new _n(cr.ts),this.es=new _n(cr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const u=new cr(r,i);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(r,i){r.forEach(u=>this.addReference(u,i))}removeReference(r,i){this.rs(new cr(r,i))}os(r,i){r.forEach(u=>this.removeReference(u,i))}cs(r){const i=new Be(new yt([])),u=new cr(i,r),c=new cr(i,r+1),f=[];return this.es.forEachInRange([u,c],y=>{this.rs(y),f.push(y.key)}),f}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new Be(new yt([])),u=new cr(i,r),c=new cr(i,r+1);let f=Pt();return this.es.forEachInRange([u,c],y=>{f=f.add(y.key)}),f}containsKey(r){const i=new cr(r,0),u=this.Zn.firstAfterOrEqual(i);return null!==u&&r.isEqual(u.key)}}class cr{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return Be.comparator(r.key,i.key)||ft(r.ls,i.ls)}static ns(r,i){return ft(r.ls,i.ls)||Be.comparator(r.key,i.key)}}class o0{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new _n(cr.ts)}checkEmpty(r){return _e.resolve(0===this.In.length)}addMutationBatch(r,i,u,c){const f=this.fs;this.fs++;const y=new UE(f,i,u,c);this.In.push(y);for(const b of c)this.ds=this.ds.add(new cr(b.key,f)),this.Ht.addToCollectionParentIndex(r,b.key.path.popLast());return _e.resolve(y)}lookupMutationBatch(r,i){return _e.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const c=this._s(i+1),f=c<0?0:c;return _e.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return _e.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const u=new cr(i,0),c=new cr(i,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([u,c],y=>{const b=this.ws(y.ls);f.push(b)}),_e.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new _n(ft);return i.forEach(c=>{const f=new cr(c,0),y=new cr(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,y],b=>{u=u.add(b.ls)})}),_e.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,c=u.length+1;let f=u;Be.isDocumentKey(f)||(f=f.child(""));const y=new cr(new Be(f),0);let b=new _n(ft);return this.ds.forEachWhile(T=>{const x=T.key.path;return!!u.isPrefixOf(x)&&(x.length===c&&(b=b.add(T.ls)),!0)},y),_e.resolve(this.gs(b))}gs(r){const i=[];return r.forEach(u=>{const c=this.ws(u);null!==c&&i.push(c)}),i}removeMutationBatch(r,i){ze(0===this.ys(i.batchId,"removed")),this.In.shift();let u=this.ds;return _e.forEach(i.mutations,c=>{const f=new cr(c.key,i.batchId);return u=u.delete(f),this.referenceDelegate.markPotentiallyOrphaned(r,c.key)}).next(()=>{this.ds=u})}te(r){}containsKey(r,i){const u=new cr(i,0),c=this.ds.firstAfterOrEqual(u);return _e.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(r){return _e.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class a0{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new er(Be.comparator),this.size=0}addEntry(r,i,u){const c=i.key,f=this.docs.get(c),y=f?f.size:0,b=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:b,readTime:u}),this.size+=b-y,this.Ht.addToCollectionParentIndex(r,c.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const u=this.docs.get(i);return _e.resolve(u?u.document.clone():on.newInvalidDocument(i))}getEntries(r,i){let u=yi();return i.forEach(c=>{const f=this.docs.get(c);u=u.insert(c,f?f.document.clone():on.newInvalidDocument(c))}),_e.resolve(u)}getDocumentsMatchingQuery(r,i,u){let c=yi();const f=new Be(i.path.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:b,value:{document:T,readTime:x}}=y.getNext();if(!i.path.isPrefixOf(b.path))break;x.compareTo(u)<=0||ol(i,T)&&(c=c.insert(T.key,T.clone()))}return _e.resolve(c)}Es(r,i){return _e.forEach(this.docs,u=>i(u))}newChangeBuffer(r){return new ZI(this)}getSize(r){return _e.resolve(this.size)}}class ZI extends gl{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((u,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(r,c.document,this.getReadTime(u))):this.Se.removeEntry(u)}),_e.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class u0{constructor(r){this.persistence=r,this.Ts=new Dd(i=>od(i),Fm),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Is=0,this.As=new s0,this.targetCount=0,this.Rs=lr.se()}forEachTarget(r,i){return this.Ts.forEach((u,c)=>i(c)),_e.resolve()}getLastRemoteSnapshotVersion(r){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return _e.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(r,i,u){return u&&(this.lastRemoteSnapshotVersion=u),i>this.Is&&(this.Is=i),_e.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new lr(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,_e.resolve()}updateTargetData(r,i){return this.ae(i),_e.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,_e.resolve()}removeTargets(r,i,u){let c=0;const f=[];return this.Ts.forEach((y,b)=>{b.sequenceNumber<=i&&null===u.get(b.targetId)&&(this.Ts.delete(y),f.push(this.removeMatchingKeysForTargetId(r,b.targetId)),c++)}),_e.waitFor(f).next(()=>c)}getTargetCount(r){return _e.resolve(this.targetCount)}getTargetData(r,i){const u=this.Ts.get(i)||null;return _e.resolve(u)}addMatchingKeys(r,i,u){return this.As.ss(i,u),_e.resolve()}removeMatchingKeys(r,i,u){this.As.os(i,u);const c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(y=>{f.push(c.markPotentiallyOrphaned(r,y))}),_e.waitFor(f)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),_e.resolve()}getMatchingKeysForTargetId(r,i){const u=this.As.hs(i);return _e.resolve(u)}containsKey(r,i){return _e.resolve(this.As.containsKey(i))}}class l0{constructor(r,i){this.Ps={},this.Le=new mi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new u0(this),this.Ht=new GE,this.He=new a0(this.Ht,u=>this.referenceDelegate.bs(u)),this.N=new vd(i),this.Je=new IS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new o0(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,u){De("MemoryPersistence","Starting transaction:",r);const c=new DS(this.Le.next());return this.referenceDelegate.vs(),u(c).next(f=>this.referenceDelegate.Vs(c).next(()=>f)).toPromise().then(f=>(c.raiseOnCommittedEvent(),f))}Ss(r,i){return _e.or(Object.values(this.Ps).map(u=>()=>u.containsKey(r,i)))}}class DS extends TI{constructor(r){super(),this.currentSequenceNumber=r}}class c0{constructor(r){this.persistence=r,this.Ds=new s0,this.Cs=null}static Ns(r){return new c0(r)}get xs(){if(this.Cs)return this.Cs;throw Ue()}addReference(r,i,u){return this.Ds.addReference(u,i),this.xs.delete(u.toString()),_e.resolve()}removeReference(r,i,u){return this.Ds.removeReference(u,i),this.xs.add(u.toString()),_e.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),_e.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(r,i.targetId).next(c=>{c.forEach(f=>this.xs.add(f.toString()))}).next(()=>u.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.xs,u=>{const c=Be.fromPath(u);return this.ks(r,c).next(f=>{f||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(u=>{u?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return _e.or([()=>_e.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function WI(s,r){return`firestore_clients_${s}_${r}`}function zI(s,r,i){let u=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(u+=`_${r.uid}`),u}function oy(s,r){return`firestore_targets_${s}_${r}`}class Rd{constructor(r,i,u,c){this.user=r,this.batchId=i,this.state=u,this.error=c}static $s(r,i,u){const c=JSON.parse(u);let f,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(f=new we(c.error.code,c.error.message))),y?new Rd(r,i,c.state,f):(kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${u}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Md{constructor(r,i,u){this.targetId=r,this.state=i,this.error=u}static $s(r,i){const u=JSON.parse(i);let c,f="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code,f&&(c=new we(u.error.code,u.error.message))),f?new Md(r,u.state,c):(kn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class ay{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const u=JSON.parse(i);let c="object"==typeof u&&u.activeTargetIds instanceof Array,f=Bf();for(let y=0;c&&y<u.activeTargetIds.length;++y)c=Rm(u.activeTargetIds[y]),f=f.add(u.activeTargetIds[y]);return c?new ay(r,f):(kn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class uy{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new uy(i.clientId,i.onlineState):(kn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class ly{constructor(){this.activeTargetIds=Bf()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class d0{constructor(r,i,u,c,f){this.window=r,this.Oe=i,this.persistenceKey=u,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new er(ft),this.started=!1,this.Ks=[];const y=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=WI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ly),this.Ws=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(b){return`firestore_bundle_loaded_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,pe.Z)(function*(){const i=yield r.syncEngine.pn();for(const c of i){if(c===r.Ls)continue;const f=r.getItem(WI(r.persistenceKey,c));if(f){const y=ay.$s(c,f);y&&(r.qs=r.qs.insert(y.clientId,y))}}r.Ys();const u=r.storage.getItem(r.Hs);if(u){const c=r.Xs(u);c&&r.Zs(c)}for(const c of r.Ks)r.Us(c);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((u,c)=>{c.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,u){this.ei(r,i,u),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const u=this.storage.getItem(oy(this.persistenceKey,r));if(u){const c=Md.$s(r,u);c&&(i=c.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(oy(this.persistenceKey,r))}updateQueryState(r,i,u){this.ii(r,i,u)}handleUserChange(r,i,u){i.forEach(c=>{this.ni(c)}),this.currentUser=r,u.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return De("SharedClientState","READ",r,i),i}setItem(r,i){De("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){De("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const u=r;if(u.storageArea===this.storage){if(De("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(i.started){if(null!==u.key)if(i.Ws.test(u.key)){if(null==u.newValue){const c=i.ai(u.key);return i.ci(c,null)}{const c=i.ui(u.key,u.newValue);if(c)return i.ci(c.clientId,c)}}else if(i.Gs.test(u.key)){if(null!==u.newValue){const c=i.hi(u.key,u.newValue);if(c)return i.li(c)}}else if(i.zs.test(u.key)){if(null!==u.newValue){const c=i.fi(u.key,u.newValue);if(c)return i.di(c)}}else if(u.key===i.Hs){if(null!==u.newValue){const c=i.Xs(u.newValue);if(c)return i.Zs(c)}}else if(u.key===i.Qs){const c=function(f){let y=mi.T;if(null!=f)try{const b=JSON.parse(f);ze("number"==typeof b),y=b}catch(b){kn("SharedClientState","Failed to read sequence number from WebStorage",b)}return y}(u.newValue);c!==mi.T&&i.sequenceNumberHandler(c)}else if(u.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,u){const c=new Rd(this.currentUser,r,i,u),f=zI(this.persistenceKey,this.currentUser,r);this.setItem(f,c.Os())}ni(r){const i=zI(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,u){const c=oy(this.persistenceKey,r),f=new Md(r,i,u);this.setItem(c,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const u=this.ai(r);return ay.$s(u,i)}hi(r,i){const u=this.Gs.exec(r),c=Number(u[1]);return Rd.$s(new Kn(void 0!==u[2]?u[2]:null),c,i)}fi(r,i){const u=this.zs.exec(r),c=Number(u[1]);return Md.$s(c,i)}Xs(r){return uy.$s(r)}li(r){var i=this;return(0,pe.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);De("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const u=i?this.qs.insert(r,i):this.qs.remove(r),c=this.ti(this.qs),f=this.ti(u),y=[],b=[];return f.forEach(T=>{c.has(T)||y.push(T)}),c.forEach(T=>{f.has(T)||b.push(T)}),this.syncEngine.gi(y,b).then(()=>{this.qs=u})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=Bf();return r.forEach((u,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class h0{constructor(){this.yi=new ly,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,u){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,u){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new ly,Promise.resolve()}handleUserChange(r,i,u){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class KI{Ei(r){}shutdown(){}}class YI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class TS{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class IN extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,u,c){const f=this.Bi(r,i);De("RestConnection","Sending: ",f,u);const y={};return this.Ui(y,c),this.qi(r,f,y,u).then(b=>(De("RestConnection","Received: ",b),b),b=>{throw xf("RestConnection",`${r} failed with error: `,b,"url: ",f,"request:",u),b})}Ki(r,i,u,c){return this.Li(r,i,u,c)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+nl,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const u in i.authHeaders)i.authHeaders.hasOwnProperty(u)&&(r[u]=i.authHeaders[u])}Bi(r,i){return`${this.Fi}/v1/${i}:${QI[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,u,c){return new Promise((f,y)=>{const b=new GC;b.listenOnce(HC.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Tf.NO_ERROR:const x=b.getResponseJson();De("Connection","XHR received:",JSON.stringify(x)),f(x);break;case Tf.TIMEOUT:De("Connection",'RPC "'+r+'" timed out'),y(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const N=b.getStatus();if(De("Connection",'RPC "'+r+'" failed with status:',N,"response text:",b.getResponseText()),N>0){const M=b.getResponseJson().error;if(M&&M.status&&M.message){const j=function(q){const fe=q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(fe)>=0?fe:ae.UNKNOWN}(M.status);y(new we(j,M.message))}else y(new we(ae.UNKNOWN,"Server responded with status "+b.getStatus()))}else y(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{De("Connection",'RPC "'+r+'" completed.')}});const T=JSON.stringify(c);b.send(i,"POST",T,u,15)})}ji(r,i){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],c=new sE,f=jc(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new ed({})),this.Ui(y.initMessageHeaders,i),(0,xt.uI)()||(0,xt.b$)()||(0,xt.d)()||(0,xt.w1)()||(0,xt.Mn)()||(0,xt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const b=u.join("");De("Connection","Creating WebChannel: "+b,y);const T=c.createWebChannel(b,y);let x=!1,N=!1;const M=new TS({vi:q=>{N?De("Connection","Not sending because WebChannel is closed:",q):(x||(De("Connection","Opening WebChannel transport."),T.open(),x=!0),De("Connection","WebChannel sending:",q),T.send(q))},Vi:()=>T.close()}),j=(q,fe,Se)=>{q.listen(fe,Oe=>{try{Se(Oe)}catch(at){setTimeout(()=>{throw at},0)}})};return j(T,Af.EventType.OPEN,()=>{N||De("Connection","WebChannel transport opened.")}),j(T,Af.EventType.CLOSE,()=>{N||(N=!0,De("Connection","WebChannel transport closed"),M.$i())}),j(T,Af.EventType.ERROR,q=>{N||(N=!0,xf("Connection","WebChannel transport errored:",q),M.$i(new we(ae.UNAVAILABLE,"The operation could not be completed")))}),j(T,Af.EventType.MESSAGE,q=>{var fe;if(!N){const Se=q.data[0];ze(!!Se);const Oe=Se,at=Oe.error||(null===(fe=Oe[0])||void 0===fe?void 0:fe.error);if(at){De("Connection","WebChannel received error:",at);const Ct=at.status;let ut=function(rr){const Zd=dn[rr];if(void 0!==Zd)return gI(Zd)}(Ct),Rt=at.message;void 0===ut&&(ut=ae.INTERNAL,Rt="Unknown error status: "+Ct+" with message "+at.message),N=!0,M.$i(new we(ut,Rt)),T.close()}else De("Connection","WebChannel received:",Se),M.Oi(Se)}}),j(f,$C.STAT_EVENT,q=>{q.stat===uE_PROXY?De("Connection","Detected buffering proxy"):q.stat===uE_NOPROXY&&De("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function vr(){return"undefined"!=typeof window?window:null}function Fo(){return"undefined"!=typeof document?document:null}function Yf(s){return new ME(s,!0)}class f0{constructor(r,i,u=1e3,c=1.5,f=6e4){this.Oe=r,this.timerId=i,this.Qi=u,this.Wi=c,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-u);c>0&&De("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class AS{constructor(r,i,u,c,f,y){this.Oe=r,this.er=u,this.nr=c,this.credentialsProvider=f,this.listener=y,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new f0(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,pe.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,pe.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var u=this;return(0,pe.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==r?u.rr.reset():i&&i.code===ae.RESOURCE_EXHAUSTED?(kn(i.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):i&&i.code===ae.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=r,yield u.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===i&&this.yr(u)},u=>{r(()=>{const c=new we(ae.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(c)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{i(()=>this.pr(u))}),this.stream.onMessage(u=>{i(()=>this.onMessage(u))})}ur(){var r=this;this.state=4,this.rr.Xi((0,pe.Z)(function*(){r.state=0,r.start()}))}pr(r){return De("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qf extends AS{constructor(r,i,u,c,f){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,u,f),this.N=c}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const u="NO_CHANGE"===(T=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:Ue(),c=r.targetChange.targetIds||[],f=function(T,x){return T.D?(ze(void 0===x||"string"==typeof x),Xn.fromBase64String(x||"")):(ze(void 0===x||x instanceof Uint8Array),Xn.fromUint8Array(x||new Uint8Array))}(s,r.targetChange.resumeToken),y=r.targetChange.cause,b=y&&function(T){const x=void 0===T.code?ae.UNKNOWN:gI(T.code);return new we(x,T.message||"")}(y);i=new Nt(u,c,f,b||null)}else if("documentChange"in r){const u=r.documentChange,c=In(s,u.document.name),f=$n(u.document.updateTime),y=new _r({mapValue:{fields:u.document.fields}}),b=on.newFoundDocument(c,f,y);i=new RE(u.targetIds||[],u.removedTargetIds||[],b.key,b)}else if("documentDelete"in r){const u=r.documentDelete,c=In(s,u.document),f=u.readTime?$n(u.readTime):ot.min(),y=on.newNoDocument(c,f);i=new RE([],u.removedTargetIds||[],y.key,y)}else if("documentRemove"in r){const u=r.documentRemove,c=In(s,u.document);i=new RE([],u.removedTargetIds||[],c,null)}else{if(!("filter"in r))return Ue();{const u=r.filter,f=new rS(u.count||0);i=new dd(u.targetId,f)}}var T;return i}(this.N,r),u=function(c){if(!("targetChange"in c))return ot.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ot.min():f.readTime?$n(f.readTime):ot.min()}(r);return this.listener.Tr(i,u)}Ir(r){const i={};i.database=pd(this.N),i.addTarget=function(c,f){let y;const b=f.target;return y=Lm(b)?{documents:PE(c,b)}:{query:zm(c,b)},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?y.resumeToken=aS(c,f.resumeToken):f.snapshotVersion.compareTo(ot.min())>0&&(y.readTime=ns(c,f.snapshotVersion.toTimestamp())),y}(this.N,r);const u=function(s,r){const i=function(u,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);u&&(i.labels=u),this.wr(i)}Ar(r){const i={};i.database=pd(this.N),i.removeTarget=r,this.wr(i)}}class SS extends AS{constructor(r,i,u,c,f){super(r,"write_stream_connection_backoff","write_stream_idle",i,u,f),this.N=c,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(ze(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(ze(void 0!==r),s.map(i=>function(u,c){let f=$n(u.updateTime?u.updateTime:c);return f.isEqual(ot.min())&&(f=$n(c)),new XA(f,u.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),u=$n(r.commitTime);return this.listener.vr(u,i)}return ze(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=pd(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(u=>Wm(this.N,u))};this.wr(i)}}class p0 extends class{}{constructor(r,i,u){super(),this.credentials=r,this.nr=i,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,u){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Li(r,i,u,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ae.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new we(ae.UNKNOWN,c.toString())})}Ki(r,i,u){return this.Cr(),this.credentials.getToken().then(c=>this.nr.Ki(r,i,u,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ae.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new we(ae.UNKNOWN,c.toString())})}terminate(){this.Dr=!0}}class xS{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(kn(i),this.$r=!1):De("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class JI{constructor(r,i,u,c,f){var y=this;this.localStore=r,this.datastore=i,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(b=>{u.enqueueAndForget((0,pe.Z)(function*(){var T;Lo(y)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,pe.Z)(function*(x){const N=Re(x);N.Kr.add(4),yield za(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield Jf(N)}),function(x){return T.apply(this,arguments)})(y))}))}),this.Wr=new xS(u,c)}}function Jf(s){return g0.apply(this,arguments)}function g0(){return(g0=(0,pe.Z)(function*(s){if(Lo(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function za(s){return cy.apply(this,arguments)}function cy(){return(cy=(0,pe.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function Xf(s,r){const i=Re(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),m0(i)?dy(i):ip(i).cr()&&ep(i,r))}function Ka(s,r){const i=Re(s),u=ip(i);i.qr.delete(r),u.cr()&&NS(i,r),0===i.qr.size&&(u.cr()?u.lr():Lo(i)&&i.Wr.set("Unknown"))}function ep(s,r){s.Gr.Y(r.targetId),ip(s).Ir(r)}function NS(s,r){s.Gr.Y(r),ip(s).Ar(r)}function dy(s){s.Gr=new hd({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),ip(s).start(),s.Wr.Or()}function m0(s){return Lo(s)&&!ip(s).ar()&&s.qr.size>0}function Lo(s){return 0===Re(s).Kr.size}function tp(s){s.Gr=void 0}function XI(s){return y0.apply(this,arguments)}function y0(){return(y0=(0,pe.Z)(function*(s){s.qr.forEach((r,i)=>{ep(s,r)})})).apply(this,arguments)}function _0(s,r){return np.apply(this,arguments)}function np(){return(np=(0,pe.Z)(function*(s,r){tp(s),m0(s)?(s.Wr.Lr(r),dy(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function RS(s,r,i){return v0.apply(this,arguments)}function v0(){return(v0=(0,pe.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof Nt&&2===r.state&&r.cause)try{yield(u=(0,pe.Z)(function*(c,f){const y=f.cause;for(const b of f.targetIds)c.qr.has(b)&&(yield c.remoteSyncer.rejectListen(b,y),c.qr.delete(b),c.Gr.removeTarget(b))}),function(c,f){return u.apply(this,arguments)})(s,r)}catch(u){De("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),u),yield rp(s,u)}else if(r instanceof RE?s.Gr.rt(r):r instanceof dd?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(ot.min()))try{const u=yield e0(s.localStore);i.compareTo(u)>=0&&(yield function(c,f){const y=c.Gr._t(f);return y.targetChanges.forEach((b,T)=>{if(b.resumeToken.approximateByteSize()>0){const x=c.qr.get(T);x&&c.qr.set(T,x.withResumeToken(b.resumeToken,f))}}),y.targetMismatches.forEach(b=>{const T=c.qr.get(b);if(!T)return;c.qr.set(b,T.withResumeToken(Xn.EMPTY_BYTE_STRING,T.snapshotVersion)),NS(c,b);const x=new Po(T.target,b,1,T.sequenceNumber);ep(c,x)}),c.remoteSyncer.applyRemoteEvent(y)}(s,i))}catch(u){De("RemoteStore","Failed to raise snapshot:",u),yield rp(s,u)}var u})).apply(this,arguments)}function rp(s,r,i){return hy.apply(this,arguments)}function hy(){return(hy=(0,pe.Z)(function*(s,r,i){if(!fl(r))throw r;s.Kr.add(1),yield za(s),s.Wr.set("Offline"),i||(i=()=>e0(s.localStore)),s.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Jf(s)}))})).apply(this,arguments)}function E0(s,r){return r().catch(i=>rp(s,i,r))}function Od(s){return fy.apply(this,arguments)}function fy(){return(fy=(0,pe.Z)(function*(s){const r=Re(s),i=yl(r);let u=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;eD(r);)try{const c=yield bS(r.localStore,u);if(null===c){0===r.Ur.length&&i.lr();break}u=c.batchId,MS(r,c)}catch(c){yield rp(r,c)}tD(r)&&w0(r)})).apply(this,arguments)}function eD(s){return Lo(s)&&s.Ur.length<10}function MS(s,r){s.Ur.push(r);const i=yl(s);i.cr()&&i.Pr&&i.br(r.mutations)}function tD(s){return Lo(s)&&!yl(s).ar()&&s.Ur.length>0}function w0(s){yl(s).start()}function OS(s){return py.apply(this,arguments)}function py(){return(py=(0,pe.Z)(function*(s){yl(s).Sr()})).apply(this,arguments)}function nD(s){return gy.apply(this,arguments)}function gy(){return(gy=(0,pe.Z)(function*(s){const r=yl(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function rD(s,r,i){return b0.apply(this,arguments)}function b0(){return(b0=(0,pe.Z)(function*(s,r,i){const u=s.Ur.shift(),c=BE.from(u,r,i);yield E0(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Od(s)})).apply(this,arguments)}function PS(s,r){return C0.apply(this,arguments)}function C0(){return(C0=(0,pe.Z)(function*(s,r){var i;r&&yl(s).Pr&&(yield(i=(0,pe.Z)(function*(u,c){if(xE(f=c.code)&&f!==ae.ABORTED){const y=u.Ur.shift();yl(u).hr(),yield E0(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,c)),yield Od(u)}var f}),function(u,c){return i.apply(this,arguments)})(s,r)),tD(s)&&w0(s)})).apply(this,arguments)}function my(s,r){return iD.apply(this,arguments)}function iD(){return(iD=(0,pe.Z)(function*(s,r){const i=Re(s);r?(i.Kr.delete(2),yield Jf(i)):r||(i.Kr.add(2),yield za(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function ip(s){return s.zr||(s.zr=function(r,i,u){const c=Re(r);return c.Cr(),new Qf(i,c.nr,c.credentials,c.N,u)}(s.datastore,s.asyncQueue,{Si:XI.bind(null,s),Ci:_0.bind(null,s),Tr:RS.bind(null,s)}),s.jr.push(function(){var r=(0,pe.Z)(function*(i){i?(s.zr.hr(),m0(s)?dy(s):s.Wr.set("Unknown")):(yield s.zr.stop(),tp(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function yl(s){return s.Hr||(s.Hr=function(r,i,u){const c=Re(r);return c.Cr(),new SS(i,c.nr,c.credentials,c.N,u)}(s.datastore,s.asyncQueue,{Si:OS.bind(null,s),Ci:PS.bind(null,s),Vr:nD.bind(null,s),vr:rD.bind(null,s)}),s.jr.push(function(){var r=(0,pe.Z)(function*(i){i?(s.Hr.hr(),yield Od(s)):(yield s.Hr.stop(),s.Ur.length>0&&(De("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class sD{constructor(r,i,u,c,f){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=u,this.op=c,this.removalCallback=f,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(r,i,u,c,f){const y=Date.now()+u,b=new sD(r,i,y,c,f);return b.start(u),b}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,r){if(kn("AsyncQueue",`${r}: ${s}`),fl(s))return new we(ae.UNAVAILABLE,`${r}: ${s}`);throw s}class op{constructor(r){this.comparator=r?(i,u)=>r(i,u)||Be.comparator(i.key,u.key):(i,u)=>Be.comparator(i.key,u.key),this.keyedMap=qm(),this.sortedSet=new er(this.comparator)}static emptySet(r){return new op(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,u)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof op)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),u=r.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,f=u.getNext().key;if(!c.isEqual(f))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const u=new op;return u.comparator=this.comparator,u.keyedMap=r,u.sortedSet=i,u}}class kS{constructor(){this.Jr=new er(Be.comparator)}track(r){const i=r.doc.key,u=this.Jr.get(i);u?0!==r.type&&3===u.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==u.type?this.Jr=this.Jr.insert(i,{type:u.type,doc:r.doc}):2===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===u.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===u.type?this.Jr=this.Jr.remove(i):1===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:1,doc:u.doc}):0===r.type&&1===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Ue():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,u)=>{r.push(u)}),r}}class ap{constructor(r,i,u,c,f,y,b,T){this.query=r,this.docs=i,this.oldDocs=u,this.docChanges=c,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=b,this.excludesMetadataChanges=T}static fromInitialDocuments(r,i,u,c){const f=[];return i.forEach(y=>{f.push({type:0,doc:y})}),new ap(r,i,op.emptySet(i),f,u,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&kf(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,u=r.docChanges;if(i.length!==u.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==u[c].type||!i[c].doc.isEqual(u[c].doc))return!1;return!0}}class DN{constructor(){this.Xr=void 0,this.listeners=[]}}class TN{constructor(){this.queries=new Dd(r=>Um(r),kf),this.onlineState="Unknown",this.Zr=new Set}}function oD(s,r){return aD.apply(this,arguments)}function aD(){return(aD=(0,pe.Z)(function*(s,r){const i=Re(s),u=r.query;let c=!1,f=i.queries.get(u);if(f||(c=!0,f=new DN),c)try{f.Xr=yield i.onListen(u)}catch(y){const b=sp(y,`Initialization of query '${Bm(r.query)}' failed`);return void r.onError(b)}i.queries.set(u,f),f.listeners.push(r),r.eo(i.onlineState),f.Xr&&r.no(f.Xr)&&cD(i)})).apply(this,arguments)}function uD(s,r){return lD.apply(this,arguments)}function lD(){return(lD=(0,pe.Z)(function*(s,r){const i=Re(s),u=r.query;let c=!1;const f=i.queries.get(u);if(f){const y=f.listeners.indexOf(r);y>=0&&(f.listeners.splice(y,1),c=0===f.listeners.length)}if(c)return i.queries.delete(u),i.onUnlisten(u)})).apply(this,arguments)}function AN(s,r){const i=Re(s);let u=!1;for(const c of r){const y=i.queries.get(c.query);if(y){for(const b of y.listeners)b.no(c)&&(u=!0);y.Xr=c}}u&&cD(i)}function SN(s,r,i){const u=Re(s),c=u.queries.get(r);if(c)for(const f of c.listeners)f.onError(i);u.queries.delete(r)}function cD(s){s.Zr.forEach(r=>{r.next()})}class I0{constructor(r,i,u){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(r){if(!this.options.includeMetadataChanges){const u=[];for(const c of r.docChanges)3!==c.type&&u.push(c);r=new ap(r.query,r.docs,r.oldDocs,u,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=ap.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class FS{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class dD{constructor(r){this.N=r}zn(r){return In(this.N,r)}Hn(r){return r.metadata.exists?Zm(this.N,r.document,!1):on.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return $n(r)}}class xN{constructor(r,i,u){this.lo=r,this.localStore=i,this.N=u,this.queries=[],this.documents=[],this.progress=LS(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,u=new dD(this.N);for(const c of r)if(c.metadata.queries){const f=u.zn(c.metadata.name);for(const y of c.metadata.queries){const b=(i.get(y)||Pt()).add(f);i.set(y,b)}}return i}complete(){var r=this;return(0,pe.Z)(function*(){const i=yield function(s,r,i,u){return ki.apply(this,arguments)}(r.localStore,new dD(r.N),r.documents,r.lo.id),u=r.wo(r.documents);for(const c of r.queries)yield CS(r.localStore,c,u.get(c.name));return r.progress.taskState="Success",new ES(Object.assign({},r.progress),i)})()}}function LS(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class VS{constructor(r){this.key=r}}class hD{constructor(r){this.key=r}}class fD{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=Pt(),this.mutatedKeys=Pt(),this.po=IE(r),this.Eo=new op(this.po)}get To(){return this._o}Io(r,i){const u=i?i.Ao:new kS,c=i?i.Eo:this.Eo;let f=i?i.mutatedKeys:this.mutatedKeys,y=c,b=!1;const T=Of(this.query)&&c.size===this.query.limit?c.last():null,x=wE(this.query)&&c.size===this.query.limit?c.first():null;if(r.inorderTraversal((N,M)=>{const j=c.get(N),q=ol(this.query,M)?M:null,fe=!!j&&this.mutatedKeys.has(j.key),Se=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Oe=!1;j&&q?j.data.isEqual(q.data)?fe!==Se&&(u.track({type:3,doc:q}),Oe=!0):this.Ro(j,q)||(u.track({type:2,doc:q}),Oe=!0,(T&&this.po(q,T)>0||x&&this.po(q,x)<0)&&(b=!0)):!j&&q?(u.track({type:0,doc:q}),Oe=!0):j&&!q&&(u.track({type:1,doc:j}),Oe=!0,(T||x)&&(b=!0)),Oe&&(q?(y=y.add(q),f=Se?f.add(N):f.delete(N)):(y=y.delete(N),f=f.delete(N)))}),Of(this.query)||wE(this.query))for(;y.size>this.query.limit;){const N=Of(this.query)?y.last():y.first();y=y.delete(N.key),f=f.delete(N.key),u.track({type:1,doc:N})}return{Eo:y,Ao:u,Ln:b,mutatedKeys:f}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,u){const c=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const f=r.Ao.Yr();f.sort((x,N)=>function(M,j){const q=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return q(M)-q(j)}(x.type,N.type)||this.po(x.doc,N.doc)),this.Po(u);const y=i?this.bo():[],b=0===this.yo.size&&this.current?1:0,T=b!==this.mo;return this.mo=b,0!==f.length||T?{snapshot:new ap(this.query,r.Eo,c,f,r.mutatedKeys,0===b,T,!1),vo:y}:{vo:y}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new kS,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=Pt(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const i=[];return r.forEach(u=>{this.yo.has(u)||i.push(new hD(u))}),this.yo.forEach(u=>{r.has(u)||i.push(new VS(u))}),i}So(r){this._o=r.Gn,this.yo=Pt();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return ap.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class US{constructor(r,i,u){this.query=r,this.targetId=i,this.view=u}}class NN{constructor(r){this.key=r,this.Co=!1}}class RN{constructor(r,i,u,c,f,y){this.localStore=r,this.remoteStore=i,this.eventManager=u,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.No={},this.xo=new Dd(b=>Um(b),kf),this.ko=new Map,this.$o=new Set,this.Oo=new er(Be.comparator),this.Fo=new Map,this.Mo=new s0,this.Lo={},this.Bo=new Map,this.Uo=lr.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function BS(s,r){return pD.apply(this,arguments)}function pD(){return(pD=(0,pe.Z)(function*(s,r){const i=N0(s);let u,c;const f=i.xo.get(r);if(f)u=f.targetId,i.sharedClientState.addLocalQueryTarget(u),c=f.view.Do();else{const y=yield Ad(i.localStore,Mi(r)),b=i.sharedClientState.addLocalQueryTarget(y.targetId);u=y.targetId,c=yield D0(i,r,u,"current"===b),i.isPrimaryClient&&Xf(i.remoteStore,y)}return c})).apply(this,arguments)}function D0(s,r,i,u){return gD.apply(this,arguments)}function gD(){return(gD=(0,pe.Z)(function*(s,r,i,u){s.Ko=(N,M,j)=>{return(q=(0,pe.Z)(function*(fe,Se,Oe,at){let Ct=Se.view.Io(Oe);Ct.Ln&&(Ct=yield sy(fe.localStore,Se.query,!1).then(({documents:rr})=>Se.view.Io(rr,Ct)));const ut=at&&at.targetChanges.get(Se.targetId),Rt=Se.view.applyChanges(Ct,fe.isPrimaryClient,ut);return Ld(fe,Se.targetId,Rt.vo),Rt.snapshot}),function(fe,Se,Oe,at){return q.apply(this,arguments)})(s,N,M,j);var q};const c=yield sy(s.localStore,r,!0),f=new fD(r,c.Gn),y=f.Io(c.documents),b=$a.createSynthesizedTargetChangeForCurrentChange(i,u&&"Offline"!==s.onlineState),T=f.applyChanges(y,s.isPrimaryClient,b);Ld(s,i,T.vo);const x=new US(r,i,f);return s.xo.set(r,x),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),T.snapshot})).apply(this,arguments)}function jS(s,r){return up.apply(this,arguments)}function up(){return(up=(0,pe.Z)(function*(s,r){const i=Re(s),u=i.xo.get(r),c=i.ko.get(u.targetId);if(c.length>1)return i.ko.set(u.targetId,c.filter(f=>!kf(f,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Sd(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),Ka(i.remoteStore,u.targetId),Fd(i,u.targetId)}).catch(Wa))):(Fd(i,u.targetId),yield Sd(i.localStore,u.targetId,!0))})).apply(this,arguments)}function yy(){return(yy=(0,pe.Z)(function*(s,r,i){const u=R0(s);try{const c=yield function(f,y){const b=Re(f),T=Qn.now(),x=y.reduce((M,j)=>M.add(j.key),Pt());let N;return b.persistence.runTransaction("Locally write mutations","readwrite",M=>b.Qn.bn(M,x).next(j=>{N=j;const q=[];for(const fe of y){const Se=tS(fe,N.get(fe.key));null!=Se&&q.push(new ja(fe.key,Se,eI(Se.value.mapValue),Hn.exists(!0)))}return b.In.addMutationBatch(M,T,q,y)})).then(M=>(M.applyToLocalDocumentSet(N),{batchId:M.batchId,changes:N}))}(u.localStore,r);u.sharedClientState.addPendingMutation(c.batchId),function(f,y,b){let T=f.Lo[f.currentUser.toKey()];T||(T=new er(ft)),T=T.insert(y,b),f.Lo[f.currentUser.toKey()]=T}(u,c.batchId,i),yield Ya(u,c.changes),yield Od(u.remoteStore)}catch(c){const f=sp(c,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function mD(s,r){return T0.apply(this,arguments)}function T0(){return(T0=(0,pe.Z)(function*(s,r){const i=Re(s);try{const u=yield $I(i.localStore,r);r.targetChanges.forEach((c,f)=>{const y=i.Fo.get(f);y&&(ze(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.Co=!0:c.modifiedDocuments.size>0?ze(y.Co):c.removedDocuments.size>0&&(ze(y.Co),y.Co=!1))}),yield Ya(i,u,r)}catch(u){yield Wa(u)}})).apply(this,arguments)}function _y(s,r,i){const u=Re(s);if(u.isPrimaryClient&&0===i||!u.isPrimaryClient&&1===i){const c=[];u.xo.forEach((f,y)=>{const b=y.view.eo(r);b.snapshot&&c.push(b.snapshot)}),function(f,y){const b=Re(f);b.onlineState=y;let T=!1;b.queries.forEach((x,N)=>{for(const M of N.listeners)M.eo(y)&&(T=!0)}),T&&cD(b)}(u.eventManager,r),c.length&&u.No.Tr(c),u.onlineState=r,u.isPrimaryClient&&u.sharedClientState.setOnlineState(r)}}function yD(s,r,i){return vy.apply(this,arguments)}function vy(){return(vy=(0,pe.Z)(function*(s,r,i){const u=Re(s);u.sharedClientState.updateQueryState(r,"rejected",i);const c=u.Fo.get(r),f=c&&c.key;if(f){let y=new er(Be.comparator);y=y.insert(f,on.newNoDocument(f,ot.min()));const b=Pt().add(f),T=new Ha(ot.min(),new Map,new _n(ft),y,b);yield mD(u,T),u.Oo=u.Oo.remove(f),u.Fo.delete(r),DD(u)}else yield Sd(u.localStore,r,!1).then(()=>Fd(u,r,i)).catch(Wa)})).apply(this,arguments)}function _D(s,r){return vD.apply(this,arguments)}function vD(){return(vD=(0,pe.Z)(function*(s,r){const i=Re(s),u=r.batch.batchId;try{const c=yield HI(i.localStore,r);ID(i,u,null),CD(i,u),i.sharedClientState.updateMutationState(u,"acknowledged"),yield Ya(i,c)}catch(c){yield Wa(c)}})).apply(this,arguments)}function ED(s,r,i){return kd.apply(this,arguments)}function kd(){return(kd=(0,pe.Z)(function*(s,r,i){const u=Re(s);try{const c=yield function(f,y){const b=Re(f);return b.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let x;return b.In.lookupMutationBatch(T,y).next(N=>(ze(null!==N),x=N.keys(),b.In.removeMutationBatch(T,N))).next(()=>b.In.performConsistencyCheck(T)).next(()=>b.Qn.bn(T,x))})}(u.localStore,r);ID(u,r,i),CD(u,r),u.sharedClientState.updateMutationState(r,"rejected",i),yield Ya(u,c)}catch(c){yield Wa(c)}})).apply(this,arguments)}function bD(){return(bD=(0,pe.Z)(function*(s,r){const i=Re(s);Lo(i.remoteStore)||De("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(f){const y=Re(f);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>y.In.getHighestUnacknowledgedBatchId(b))}(i.localStore);if(-1===u)return void r.resolve();const c=i.Bo.get(u)||[];c.push(r),i.Bo.set(u,c)}catch(u){const c=sp(u,"Initialization of waitForPendingWrites() operation failed");r.reject(c)}})).apply(this,arguments)}function CD(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function ID(s,r,i){const u=Re(s);let c=u.Lo[u.currentUser.toKey()];if(c){const f=c.get(r);f&&(i?f.reject(i):f.resolve(),c=c.remove(r)),u.Lo[u.currentUser.toKey()]=c}}function Fd(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const u of s.ko.get(r))s.xo.delete(u),i&&s.No.jo(u,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(u=>{s.Mo.containsKey(u)||HS(s,u)})}function HS(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(Ka(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),DD(s))}function Ld(s,r,i){for(const u of i)u instanceof VS?(s.Mo.addReference(u.key,r),$S(s,u)):u instanceof hD?(De("SyncEngine","Document no longer in limbo: "+u.key),s.Mo.removeReference(u.key,r),s.Mo.containsKey(u.key)||HS(s,u.key)):Ue()}function $S(s,r){const i=r.key,u=i.path.canonicalString();s.Oo.get(i)||s.$o.has(u)||(De("SyncEngine","New document in limbo: "+i),s.$o.add(u),DD(s))}function DD(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new Be(yt.fromString(r)),u=s.Uo.next();s.Fo.set(u,new NN(i)),s.Oo=s.Oo.insert(i,u),Xf(s.remoteStore,new Po(Mi(Nr(i.path)),u,2,mi.T))}}function Ya(s,r,i){return lp.apply(this,arguments)}function lp(){return(lp=(0,pe.Z)(function*(s,r,i){const u=Re(s),c=[],f=[],y=[];var b;u.xo.isEmpty()||(u.xo.forEach((b,T)=>{y.push(u.Ko(T,r,i).then(x=>{if(x){u.isPrimaryClient&&u.sharedClientState.updateQueryState(T.targetId,x.fromCache?"not-current":"current"),c.push(x);const N=JE.kn(T.targetId,x);f.push(N)}}))}),yield Promise.all(y),u.No.Tr(c),yield(b=(0,pe.Z)(function*(T,x){const N=Re(T);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>_e.forEach(x,j=>_e.forEach(j.Nn,q=>N.persistence.referenceDelegate.addReference(M,j.targetId,q)).next(()=>_e.forEach(j.xn,q=>N.persistence.referenceDelegate.removeReference(M,j.targetId,q)))))}catch(M){if(!fl(M))throw M;De("LocalStore","Failed to update sequence numbers: "+M)}for(const M of x){const j=M.targetId;if(!M.fromCache){const q=N.Un.get(j),Se=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);N.Un=N.Un.insert(j,Se)}}}),function(T,x){return b.apply(this,arguments)})(u.localStore,f))})).apply(this,arguments)}function GS(s,r){return TD.apply(this,arguments)}function TD(){return(TD=(0,pe.Z)(function*(s,r){const i=Re(s);if(!i.currentUser.isEqual(r)){De("SyncEngine","User change. New user:",r.toKey());const u=yield XE(i.localStore,r);i.currentUser=r,(c=i).Bo.forEach(y=>{y.forEach(b=>{b.reject(new we(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Bo.clear(),i.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield Ya(i,u.Wn)}var c})).apply(this,arguments)}function MN(s,r){const i=Re(s),u=i.Fo.get(r);if(u&&u.Co)return Pt().add(u.key);{let c=Pt();const f=i.ko.get(r);if(!f)return c;for(const y of f){const b=i.xo.get(y);c=c.unionWith(b.view.To)}return c}}function qS(s,r){return AD.apply(this,arguments)}function AD(){return(AD=(0,pe.Z)(function*(s,r){const i=Re(s),u=yield sy(i.localStore,r.query,!0),c=r.view.So(u);return i.isPrimaryClient&&Ld(i,r.targetId,c.vo),c})).apply(this,arguments)}function SD(s){return A0.apply(this,arguments)}function A0(){return(A0=(0,pe.Z)(function*(s){const r=Re(s);return xd(r.localStore).then(i=>Ya(r,i))})).apply(this,arguments)}function ON(s,r,i,u){return xD.apply(this,arguments)}function xD(){return(xD=(0,pe.Z)(function*(s,r,i,u){const c=Re(s),f=yield function(y,b){const T=Re(y),x=Re(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",N=>x.Xt(N,b).next(M=>M?T.Qn.bn(N,M):_e.resolve(null)))}(c.localStore,r);var b;null!==f?("pending"===i?yield Od(c.remoteStore):"acknowledged"===i||"rejected"===i?(ID(c,r,u||null),CD(c,r),b=r,Re(Re(c.localStore).In).te(b)):Ue(),yield Ya(c,f)):De("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function _l(){return(_l=(0,pe.Z)(function*(s,r){const i=Re(s);if(N0(i),R0(i),!0===r&&!0!==i.qo){const u=i.sharedClientState.getAllActiveQueryTargets(),c=yield ND(i,u.toArray());i.qo=!0,yield my(i.remoteStore,!0);for(const f of c)Xf(i.remoteStore,f)}else if(!1===r&&!1!==i.qo){const u=[];let c=Promise.resolve();i.ko.forEach((f,y)=>{i.sharedClientState.isLocalQueryTarget(y)?u.push(y):c=c.then(()=>(Fd(i,y),Sd(i.localStore,y,!0))),Ka(i.remoteStore,y)}),yield c,yield ND(i,u),function(f){const y=Re(f);y.Fo.forEach((b,T)=>{Ka(y.remoteStore,T)}),y.Mo.us(),y.Fo=new Map,y.Oo=new er(Be.comparator)}(i),i.qo=!1,yield my(i.remoteStore,!1)}})).apply(this,arguments)}function ND(s,r,i){return S0.apply(this,arguments)}function S0(){return(S0=(0,pe.Z)(function*(s,r,i){const u=Re(s),c=[],f=[];for(const y of r){let b;const T=u.ko.get(y);if(T&&0!==T.length){b=yield Ad(u.localStore,Mi(T[0]));for(const x of T){const N=u.xo.get(x),M=yield qS(u,N);M.snapshot&&f.push(M.snapshot)}}else{const x=yield qI(u.localStore,y);b=yield Ad(u.localStore,x),yield D0(u,RD(x),y,!1)}c.push(b)}return u.No.Tr(f),c})).apply(this,arguments)}function RD(s){return sI(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function x0(s){const r=Re(s);return Re(Re(r.localStore).persistence).pn()}function WS(s,r,i,u){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,pe.Z)(function*(s,r,i,u){const c=Re(s);if(c.qo)De("SyncEngine","Ignoring unexpected query state notification.");else if(c.ko.has(r))switch(i){case"current":case"not-current":{const f=yield xd(c.localStore),y=Ha.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Ya(c,f,y);break}case"rejected":yield Sd(c.localStore,r,!0),Fd(c,r,u);break;default:Ue()}})).apply(this,arguments)}function zS(s,r,i){return cp.apply(this,arguments)}function cp(){return(cp=(0,pe.Z)(function*(s,r,i){const u=N0(s);if(u.qo){for(const c of r){if(u.ko.has(c)){De("SyncEngine","Adding an already active target "+c);continue}const f=yield qI(u.localStore,c),y=yield Ad(u.localStore,f);yield D0(u,RD(f),y.targetId,!1),Xf(u.remoteStore,y)}for(const c of i)u.ko.has(c)&&(yield Sd(u.localStore,c,!1).then(()=>{Ka(u.remoteStore,c),Fd(u,c)}).catch(Wa))}})).apply(this,arguments)}function N0(s){const r=Re(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=mD.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=yD.bind(null,r),r.No.Tr=AN.bind(null,r.eventManager),r.No.jo=SN.bind(null,r.eventManager),r}function R0(s){const r=Re(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=ED.bind(null,r),r}class O0{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,pe.Z)(function*(){i.N=Yf(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return Td(this.persistence,new jI,r.initialUser,this.N)}Go(r){return new l0(c0.Ns,this.N)}Wo(r){return new h0}terminate(){var r=this;return(0,pe.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class P0 extends O0{constructor(r,i,u){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,u=this;return(0,pe.Z)(function*(){yield i().call(u,r),yield function(s){return n0.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,r),yield R0(u.Jo.syncEngine),yield Od(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(r){return Td(this.persistence,new jI,r.initialUser,this.N)}zo(r){return new LI(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=QE(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new ny(this.synchronizeTabs,i,r.clientId,u,r.asyncQueue,vr(),Fo(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new h0}}class KS extends P0{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,u=this;return(0,pe.Z)(function*(){yield i().call(u,r);const c=u.Jo.syncEngine;u.sharedClientState instanceof d0&&(u.sharedClientState.syncEngine={_i:ON.bind(null,c),mi:WS.bind(null,c),gi:zS.bind(null,c),pn:x0.bind(null,c),wi:SD.bind(null,c)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var f=(0,pe.Z)(function*(y){yield function(s,r){return _l.apply(this,arguments)}(u.Jo.syncEngine,y),u.gcScheduler&&(y&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):y||u.gcScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}Wo(r){const i=vr();if(!d0.Pt(i))throw new we(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=QE(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new d0(i,r.asyncQueue,u,r.clientId,r.initialUser)}}class Ey{initialize(r,i){var u=this;return(0,pe.Z)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(i),u.remoteStore=u.createRemoteStore(i),u.eventManager=u.createEventManager(i),u.syncEngine=u.createSyncEngine(i,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=c=>_y(u.syncEngine,c,1),u.remoteStore.remoteSyncer.handleCredentialChange=GS.bind(null,u.syncEngine),yield my(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new TN}createDatastore(r){const i=Yf(r.databaseInfo.databaseId),u=new IN(r.databaseInfo);return new p0(r.credentials,u,i)}createRemoteStore(r){return i=this.localStore,u=this.datastore,c=r.asyncQueue,f=b=>_y(this.syncEngine,b,0),y=YI.Pt()?new YI:new KI,new JI(i,u,c,f,y);var i,u,c,f,y}createSyncEngine(r,i){return function(u,c,f,y,b,T,x){const N=new RN(u,c,f,y,b,T);return x&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,pe.Z)(function*(i){const u=Re(i);De("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield za(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function k0(s,r=10240){let i=0;return{read:()=>(0,pe.Z)(function*(){if(i<s.byteLength){const u={value:s.slice(i,i+r),done:!1};return i+=r,u}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wy{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class YS{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new Yn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,pe.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,pe.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,pe.Z)(function*(){const i=yield r.na();if(null===i)return null;const u=r.ta.decode(i),c=Number(u);isNaN(c)&&r.sa(`length string (${u}) is not valid number`);const f=yield r.ia(c);return new FS(JSON.parse(f),i.length+c)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,pe.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const u=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),u})()}ia(r){var i=this;return(0,pe.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const u=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),u})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,pe.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const u=new Uint8Array(r.buffer.length+i.value.length);u.set(r.buffer),u.set(i.value,r.buffer.length),r.buffer=u}return i.done})()}}class F0{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,pe.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new we(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(c=(0,pe.Z)(function*(f,y){const b=Re(f),T=pd(b.N)+"/documents",x={documents:y.map(q=>jf(b.N,q))},N=yield b.Ki("BatchGetDocuments",T,x),M=new Map;N.forEach(q=>{const fe=function(s,r){return"found"in r?function(i,u){ze(!!u.found);const c=In(i,u.found.name),f=$n(u.found.updateTime),y=new _r({mapValue:{fields:u.found.fields}});return on.newFoundDocument(c,f,y)}(s,r):"missing"in r?function(i,u){ze(!!u.missing),ze(!!u.readTime);const c=In(i,u.missing),f=$n(u.readTime);return on.newNoDocument(c,f)}(s,r):Ue()}(b.N,q);M.set(fe.key.toString(),fe)});const j=[];return y.forEach(q=>{const fe=M.get(q.toString());ze(!!fe),j.push(fe)}),j}),function(f,y){return c.apply(this,arguments)})(i.datastore,r);var c;return u.forEach(c=>i.recordVersion(c)),u})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(r.toString())}delete(r){this.write(new Uf(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,pe.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var u;r.mutations.forEach(u=>{i.delete(u.key.toString())}),i.forEach((u,c)=>{const f=Be.fromPath(c);r.mutations.push(new SE(f,r.precondition(f)))}),yield(u=(0,pe.Z)(function*(c,f){const y=Re(c),b=pd(y.N)+"/documents",T={writes:f.map(x=>Wm(y.N,x))};yield y.Li("Commit",b,T)}),function(c,f){return u.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Ue();i=ot.min()}const u=this.readVersions.get(r.key.toString());if(u){if(!i.isEqual(u))throw new we(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?Hn.updateTime(i):Hn.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(ot.min()))throw new we(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(i)}return Hn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class MD{constructor(r,i,u,c){this.asyncQueue=r,this.datastore=i,this.updateFunction=u,this.deferred=c,this.aa=5,this.rr=new f0(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,pe.Z)(function*(){const i=new F0(r.datastore),u=r.ua(i);u&&u.then(c=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(c)}).catch(f=>{r.ha(f)}))}).catch(c=>{r.ha(c)})}))}ua(r){try{const i=this.updateFunction(r);return!rl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!xE(i)}return!1}}class OD{constructor(r,i,u){var c=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=u,this.user=Kn.UNAUTHENTICATED,this.clientId=hE.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var f=(0,pe.Z)(function*(y){De("FirestoreClient","Received user=",y.uid),yield c.credentialListener(y),c.user=y});return function(y){return f.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,pe.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(u){const c=sp(u,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function by(s,r){return L0.apply(this,arguments)}function L0(){return(L0=(0,pe.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let u=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,pe.Z)(function*(f){u.isEqual(f)||(yield XE(r.localStore,f),u=f)});return function(f){return c.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function Fi(s,r){return V0.apply(this,arguments)}function V0(){return(V0=(0,pe.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield PD(s);De("FirestoreClient","Initializing OnlineComponentProvider");const u=yield s.getConfiguration();yield r.initialize(i,u),s.setCredentialChangeListener(c=>{return(f=(0,pe.Z)(function*(y,b){const T=Re(y);T.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const x=Lo(T);T.Kr.add(3),yield za(T),x&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(b),T.Kr.delete(3),yield Jf(T)}),function(y,b){return f.apply(this,arguments)})(r.remoteStore,c);var f}),s.onlineComponents=r})).apply(this,arguments)}function PD(s){return U0.apply(this,arguments)}function U0(){return(U0=(0,pe.Z)(function*(s){return s.offlineComponents||(De("FirestoreClient","Using default OfflineComponentProvider"),yield by(s,new O0)),s.offlineComponents})).apply(this,arguments)}function B0(s){return j0.apply(this,arguments)}function j0(){return(j0=(0,pe.Z)(function*(s){return s.onlineComponents||(De("FirestoreClient","Using default OnlineComponentProvider"),yield Fi(s,new Ey)),s.onlineComponents})).apply(this,arguments)}function kD(s){return PD(s).then(r=>r.persistence)}function H0(s){return PD(s).then(r=>r.localStore)}function QS(s){return B0(s).then(r=>r.remoteStore)}function $0(s){return B0(s).then(r=>r.syncEngine)}function vl(s){return G0.apply(this,arguments)}function G0(){return(G0=(0,pe.Z)(function*(s){const r=yield B0(s),i=r.eventManager;return i.onListen=BS.bind(null,r.syncEngine),i.onUnlisten=jS.bind(null,r.syncEngine),i})).apply(this,arguments)}function ex(s,r,i={}){const u=new Yn;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(c,f,y,b,T){const x=new wy({next:M=>{f.enqueueAndForget(()=>uD(c,N));const j=M.docs.has(y);!j&&M.fromCache?T.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&M.fromCache&&b&&"server"===b.source?T.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(M)},error:M=>T.reject(M)}),N=new I0(Nr(y.path),x,{includeMetadataChanges:!0,uo:!0});return oD(c,N)}(yield vl(s),s.asyncQueue,r,i,u)})),u.promise}function q0(s,r,i={}){const u=new Yn;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(c,f,y,b,T){const x=new wy({next:M=>{f.enqueueAndForget(()=>uD(c,N)),M.fromCache&&"server"===b.source?T.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(M)},error:M=>T.reject(M)}),N=new I0(y,x,{includeMetadataChanges:!0,uo:!0});return oD(c,N)}(yield vl(s),s.asyncQueue,r,i,u)})),u.promise}class Z0{constructor(r,i,u,c,f,y,b,T){this.databaseId=r,this.appId=i,this.persistenceKey=u,this.host=c,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=T}}class El{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof El&&r.projectId===this.projectId&&r.database===this.database}}const UD=new Map;function W0(s,r,i){if(!i)throw new we(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function rx(s,r,i,u){if(!0===r&&!0===u)throw new we(ae.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ix(s){if(!Be.isDocumentKey(s))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sx(s){if(Be.isDocumentKey(s))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hp(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const u=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(u&&u.length>1)return u[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Ue()}function It(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hp(s);throw new we(ae.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function BD(s,r){if(r<=0)throw new we(ae.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class jD{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,rx("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class fp{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jD({}),this._settingsFrozen=!1,r instanceof El?this._databaseId=r:(this._app=r,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(u.options.projectId)}(r))}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jD(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new gN;switch(i.type){case"gapi":const u=i.client;return ze(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new Sm(u,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new we(ae.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=UD.get(r);i&&(De("ComponentProvider","Removing Datastore"),UD.delete(r),i.terminate())}(this),Promise.resolve()}}class Kt{constructor(r,i,u){this.converter=i,this._key=u,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Kt(this.firestore,r,this._key)}}class Or{constructor(r,i,u){this.converter=i,this._query=u,this.type="query",this.firestore=r}withConverter(r){return new Or(this.firestore,r,this._query)}}class Vo extends Or{constructor(r,i,u){super(r,i,Nr(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Kt(this.firestore,null,new Be(r))}withConverter(r){return new Vo(this.firestore,r,this._path)}}function HD(s,r,...i){if(s=(0,xt.m9)(s),W0("collection","path",r),s instanceof fp){const u=yt.fromString(r,...i);return sx(u),new Vo(s,null,u)}{if(!(s instanceof Kt||s instanceof Vo))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=yt.fromString(s.path,...i).child(yt.fromString(r));return sx(u),new Vo(s.firestore,null,u)}}function Tn(s,r,...i){if(s=(0,xt.m9)(s),1===arguments.length&&(r=hE.I()),W0("doc","path",r),s instanceof fp){const u=yt.fromString(r,...i);return ix(u),new Kt(s,null,new Be(u))}{if(!(s instanceof Kt||s instanceof Vo))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=s._path.child(yt.fromString(r,...i));return ix(u),new Kt(s.firestore,s instanceof Vo?s.converter:null,new Be(u))}}function ax(s,r){return s=(0,xt.m9)(s),r=(0,xt.m9)(r),(s instanceof Kt||s instanceof Vo)&&(r instanceof Kt||r instanceof Vo)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function K0(s,r){return s=(0,xt.m9)(s),r=(0,xt.m9)(r),s instanceof Or&&r instanceof Or&&s.firestore===r.firestore&&kf(s._query,r._query)&&s.converter===r.converter}class $D{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new f0(this,"async_queue_retry"),this.Ea=()=>{const i=Fo();i&&De("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=Fo();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=Fo();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new Yn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,pe.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!fl(i))throw i;De("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(u=>{throw this.ma=u,this.ga=!1,kn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=i,i}enqueueAfterDelay(r,i,u){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const c=sD.createAndSchedule(this,r,i,u,f=>this.Ra(f));return this._a.push(c),c}Ta(){this.ma&&Ue()}verifyOperationInProgress(){}Pa(){var r=this;return(0,pe.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,u)=>i.targetTimeMs-u.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function Y0(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const u=r;for(const c of["next","error","complete"])if(c in u&&"function"==typeof u[c])return!0;return!1}(s)}class Cy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,u){this._progressObserver={next:r,error:i,complete:u}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class vn extends fp{constructor(r,i){super(r,i),this.type="firestore",this._queue=new $D,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Iy(this),this._firestoreClient.terminate()}}function Ln(s){return s._firestoreClient||Iy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Iy(s){var r;const i=s._freezeSettings(),u=(f=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new Z0(s._databaseId,f,s._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;s._firestoreClient=new OD(s._credentials,s._queue,u)}function pp(s,r,i){const u=new Yn;return s.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield by(s,i),yield Fi(s,r),u.resolve()}catch(c){if(!("FirebaseError"===(f=c).name?f.code===ae.FAILED_PRECONDITION||f.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),u.reject(c)}var f})).then(()=>u.promise)}function px(s){if(s._initialized||s._terminated)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Li{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Uo{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Uo(Xn.fromBase64String(r))}catch(i){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Uo(Xn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Ud{constructor(r){this._methodName=r}}class X0{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return ft(this._lat,r._lat)||ft(this._long,r._long)}}const gx=/^__.*__$/;class mx{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return null!==this.fieldMask?new ja(r,this.data,this.fieldMask,i,this.fieldTransforms):new Vf(r,this.data,i,this.fieldTransforms)}}class qD{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return new ja(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function ZD(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Dy{constructor(r,i,u,c,f,y){this.settings=r,this.databaseId=i,this.N=u,this.ignoreUndefinedProperties=c,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Dy(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:u,xa:!1});return c.ka(r),c}$a(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),c=this.Ca({path:u,xa:!1});return c.Sa(),c}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return Ay(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(ZD(this.Da)&&gx.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class kN{constructor(r,i,u){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=u||Yf(r)}Ba(r,i,u,c=!1){return new Dy({Da:r,methodName:i,La:u,path:Jn.emptyPath(),xa:!1,Ma:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function wl(s){const r=s._freezeSettings(),i=Yf(s._databaseId);return new kN(s._databaseId,!!r.ignoreUndefinedProperties,i)}function Ty(s,r,i,u,c,f={}){const y=s.Ba(f.merge||f.mergeFields?2:0,r,i,c);nw("Data must be an object, but it was:",y,u);const b=zD(u,y);let T,x;if(f.merge)T=new nd(y.fieldMask),x=y.fieldTransforms;else if(f.mergeFields){const N=[];for(const M of f.mergeFields){const j=YD(r,M,i);if(!y.contains(j))throw new we(ae.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Bd(N,j)||N.push(j)}T=new nd(N),x=y.fieldTransforms.filter(M=>T.covers(M.field))}else T=null,x=y.fieldTransforms;return new mx(new _r(b),T,x)}class gp extends Ud{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof gp}}function yx(s,r,i){return new Dy({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class WD extends Ud{_toFieldTransform(r){return new Ro(r.path,new ld)}isEqual(r){return r instanceof WD}}class _x extends Ud{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=yx(this,r,!0),u=this.Ua.map(f=>bl(f,i)),c=new al(u);return new Ro(r.path,c)}isEqual(r){return this===r}}class vx extends Ud{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=yx(this,r,!0),u=this.Ua.map(f=>bl(f,i)),c=new Vs(u);return new Ro(r.path,c)}isEqual(r){return this===r}}class Ex extends Ud{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new ul(r.N,uI(r.N,this.qa));return new Ro(r.path,i)}isEqual(r){return this===r}}function ew(s,r,i,u){const c=s.Ba(1,r,i);nw("Data must be an object, but it was:",c,u);const f=[],y=_r.empty();La(u,(T,x)=>{const N=rw(r,T,i);x=(0,xt.m9)(x);const M=c.$a(N);if(x instanceof gp)f.push(N);else{const j=bl(x,M);null!=j&&(f.push(N),y.set(N,j))}});const b=new nd(f);return new qD(y,b,c.fieldTransforms)}function tw(s,r,i,u,c,f){const y=s.Ba(1,r,i),b=[YD(r,u,i)],T=[c];if(f.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<f.length;j+=2)b.push(YD(r,f[j])),T.push(f[j+1]);const x=[],N=_r.empty();for(let j=b.length-1;j>=0;--j)if(!Bd(x,b[j])){const q=b[j];let fe=T[j];fe=(0,xt.m9)(fe);const Se=y.$a(q);if(fe instanceof gp)x.push(q);else{const Oe=bl(fe,Se);null!=Oe&&(x.push(q),N.set(q,Oe))}}const M=new nd(x);return new qD(N,M,y.fieldTransforms)}function Vi(s,r,i,u=!1){return bl(i,s.Ba(u?4:3,r))}function bl(s,r){if(KD(s=(0,xt.m9)(s)))return nw("Unsupported field value:",r,s),zD(s,r);if(s instanceof Ud)return function(i,u){if(!ZD(u.Da))throw u.Fa(`${i._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(u);c&&u.fieldTransforms.push(c)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,u){const c=[];let f=0;for(const y of i){let b=bl(y,u.Oa(f));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}}(s,r)}return function(i,u){if(null===(i=(0,xt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return uI(u.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=Qn.fromDate(i);return{timestampValue:ns(u.N,c)}}if(i instanceof Qn){const c=new Qn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ns(u.N,c)}}if(i instanceof X0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Uo)return{bytesValue:aS(u.N,i._byteString)};if(i instanceof Kt){const c=u.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw u.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wI(i.firestore._databaseId||u.databaseId,i._key.path)}}throw u.Fa(`Unsupported field value: ${hp(i)}`)}(s,r)}function zD(s,r){const i={};return KC(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):La(s,(u,c)=>{const f=bl(c,r.Na(u));null!=f&&(i[u]=f)}),{mapValue:{fields:i}}}function KD(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Qn||s instanceof X0||s instanceof Uo||s instanceof Kt||s instanceof Ud)}function nw(s,r,i){if(!KD(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=hp(i);throw r.Fa("an object"===u?s+" a custom object":s+" "+u)}var u}function YD(s,r,i){if((r=(0,xt.m9)(r))instanceof Li)return r._internalPath;if("string"==typeof r)return rw(s,r);throw Ay("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const wx=new RegExp("[~\\*/\\[\\]]");function rw(s,r,i){if(r.search(wx)>=0)throw Ay(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Li(...r.split("."))._internalPath}catch(u){throw Ay(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Ay(s,r,i,u,c){const f=u&&!u.isEmpty(),y=void 0!==c;let b=`Function ${r}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let T="";return(f||y)&&(T+=" (found",f&&(T+=` in field ${u}`),y&&(T+=` in document ${c}`),T+=")"),new we(ae.INVALID_ARGUMENT,b+s+T)}function Bd(s,r){return s.some(i=>i.isEqual(r))}class jd{constructor(r,i,u,c,f){this._firestore=r,this._userDataWriter=i,this._key=u,this._document=c,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new FN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(Sy("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class FN extends jd{data(){return super.data()}}function Sy(s,r){return"string"==typeof r?rw(s,r):r instanceof Li?r._internalPath:r._delegate._internalPath}class Hd{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Qa extends jd{constructor(r,i,u,c,f,y){super(r,i,u,c,y),this._firestore=r,this._firestoreImpl=r,this.metadata=f}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new xy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const u=this._document.data.field(Sy("DocumentSnapshot.get",r));if(null!==u)return this._userDataWriter.convertValue(u,i.serverTimestamps)}}}class xy extends Qa{data(r={}){return super.data(r)}}class js{constructor(r,i,u,c){this._firestore=r,this._userDataWriter=i,this._snapshot=c,this.metadata=new Hd(c.hasPendingWrites,c.fromCache),this.query=u}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(u=>{r.call(i,new xy(this._firestore,this._userDataWriter,u.key,u,new Hd(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,c){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(y=>({type:"added",doc:new xy(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hd(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(y=>c||3!==y.type).map(y=>{const b=new xy(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hd(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let T=-1,x=-1;return 0!==y.type&&(T=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),1!==y.type&&(f=f.add(y.doc),x=f.indexOf(y.doc.key)),{type:bx(y.type),doc:b,oldIndex:T,newIndex:x}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function bx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function QD(s,r){return s instanceof Qa&&r instanceof Qa?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof js&&r instanceof js&&s._firestore===r._firestore&&K0(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function JD(s){if(wE(s)&&0===s.explicitOrderBy.length)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}function Ja(s,...r){for(const i of r)s=i._apply(s);return s}class Cx extends Ny{constructor(r,i,u){super(),this.Ka=r,this.ja=i,this.Qa=u,this.type="where"}_apply(r){const i=wl(r.firestore),u=function(c,f,y,b,T,x,N){let M;if(T.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on FieldPath.documentId().`);if("in"===x||"not-in"===x){lw(N,x);const q=[];for(const fe of N)q.push(uw(b,c,fe));M={arrayValue:{values:q}}}else M=uw(b,c,N)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||lw(N,x),M=Vi(y,"where",N,"in"===x||"not-in"===x);const j=ur.create(T,x,M);return function(q,fe){if(fe.v()){const Oe=bE(q);if(null!==Oe&&!Oe.isEqual(fe.field))throw new we(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${fe.field.toString()}'`);const at=ud(q);null!==at&&tT(0,fe.field,at)}const Se=function(Oe,at){for(const Ct of Oe.filters)if(at.indexOf(Ct.op)>=0)return Ct.op;return null}(q,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(fe.op));if(null!==Se)throw new we(ae.INVALID_ARGUMENT,Se===fe.op?`Invalid query. You cannot use more than one '${fe.op.toString()}' filter.`:`Invalid query. You cannot use '${fe.op.toString()}' filters with '${Se.toString()}' filters.`)}(c,j),j}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Or(r.firestore,r.converter,function(c,f){const y=c.filters.concat([f]);return new Ba(c.path,c.collectionGroup,c.explicitOrderBy.slice(),y,c.limit,c.limitType,c.startAt,c.endAt)}(r._query,u))}}class rs extends Ny{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(u,c,f){if(null!==u.startAt)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new No(c,f);return function(b,T){if(null===ud(b)){const x=bE(b);null!==x&&tT(0,x,T.field)}}(u,y),y}(r._query,this.Ka,this.Wa);return new Or(r.firestore,r.converter,function(u,c){const f=u.explicitOrderBy.concat([c]);return new Ba(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(r._query,i))}}class iw extends Ny{constructor(r,i,u){super(),this.type=r,this.Ga=i,this.za=u}_apply(r){return new Or(r.firestore,r.converter,oI(r._query,this.Ga,this.za))}}class sw extends Ny{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=mp(r,this.type,this.Ha,this.Ja);return new Or(r.firestore,r.converter,(c=i,new Ba((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,c,u.endAt)));var u,c}}class Ry extends Ny{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=mp(r,this.type,this.Ha,this.Ja);return new Or(r.firestore,r.converter,(c=i,new Ba((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,c)));var u,c}}function mp(s,r,i,u){if(i[0]=(0,xt.m9)(i[0]),i[0]instanceof jd)return function(c,f,y,b,T){if(!b)throw new we(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const x=[];for(const N of Pf(c))if(N.field.isKeyField())x.push(Mm(f,b.key));else{const M=b.data.field(N.field);if(xm(M))throw new we(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const j=N.field.canonicalString();throw new we(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}x.push(M)}return new Vm(x,T)}(s._query,s.firestore._databaseId,r,i[0]._document,u);{const c=wl(s.firestore);return function(f,y,b,T,x,N){const M=f.explicitOrderBy;if(x.length>M.length)throw new we(ae.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let q=0;q<x.length;q++){const fe=x[q];if(M[q].field.isKeyField()){if("string"!=typeof fe)throw new we(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof fe}`);if(!CE(f)&&-1!==fe.indexOf("/"))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${fe}' contains a slash.`);const Se=f.path.child(yt.fromString(fe));if(!Be.isDocumentKey(Se))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const Oe=new Be(Se);j.push(Mm(y,Oe))}else{const Se=Vi(b,T,fe);j.push(Se)}}return new Vm(j,N)}(s._query,s.firestore._databaseId,c,r,i,u)}}function uw(s,r,i){if("string"==typeof(i=(0,xt.m9)(i))){if(""===i)throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(r)&&-1!==i.indexOf("/"))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const u=r.path.child(yt.fromString(i));if(!Be.isDocumentKey(u))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return Mm(s,new Be(u))}if(i instanceof Kt)return Mm(s,i._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(i)}.`)}function lw(s,r){if(!Array.isArray(s)||0===s.length)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function tT(s,r,i){if(!i.isEqual(r))throw new we(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class cw{convertValue(r,i="none"){switch(Ua(r)){case 0:return null;case 1:return r.booleanValue;case 2:return yn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(rd(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Ue()}}convertObject(r,i){const u={};return La(r.fields,(c,f)=>{u[c]=this.convertValue(f,i)}),u}convertGeoPoint(r){return new X0(yn(r.latitude),yn(r.longitude))}convertArray(r,i){return(r.values||[]).map(u=>this.convertValue(u,i))}convertServerTimestamp(r,i){switch(i){case"previous":const u=fE(r);return null==u?null:this.convertValue(u,i);case"estimate":return this.convertTimestamp(Rf(r));default:return null}}convertTimestamp(r){const i=Va(r);return new Qn(i.seconds,i.nanos)}convertDocumentKey(r,i){const u=yt.fromString(r);ze(Qm(u));const c=new El(u.get(1),u.get(3)),f=new Be(u.popFirst(5));return c.isEqual(i)||kn(`Document ${f} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function yp(s,r,i){let u;return u=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,u}class Tx extends cw{constructor(r){super(),this.firestore=r}convertBytes(r){return new Uo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}class nT{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=wl(r)}set(r,i,u){this._verifyNotCommitted();const c=Xa(r,this._firestore),f=yp(c.converter,i,u),y=Ty(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,u);return this._mutations.push(y.toMutation(c._key,Hn.none())),this}update(r,i,u,...c){this._verifyNotCommitted();const f=Xa(r,this._firestore);let y;return y="string"==typeof(i=(0,xt.m9)(i))||i instanceof Li?tw(this._dataReader,"WriteBatch.update",f._key,i,u,c):ew(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(y.toMutation(f._key,Hn.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=Xa(r,this._firestore);return this._mutations=this._mutations.concat(new Uf(i._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xa(s,r){if((s=(0,xt.m9)(s)).firestore!==r)throw new we(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Cl extends cw{constructor(r){super(),this.firestore=r}convertBytes(r){return new Uo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function ky(s,r,i){s=It(s,Kt);const u=It(s.firestore,vn),c=yp(s.converter,r,i);return $d(u,[Ty(wl(u),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,Hn.none())])}function hw(s,r,i,...u){s=It(s,Kt);const c=It(s.firestore,vn),f=wl(c);let y;return y="string"==typeof(r=(0,xt.m9)(r))||r instanceof Li?tw(f,"updateDoc",s._key,r,i,u):ew(f,"updateDoc",s._key,r),$d(c,[y.toMutation(s._key,Hn.exists(!0))])}function iT(s,...r){var i,u,c;s=(0,xt.m9)(s);let f={includeMetadataChanges:!1},y=0;"object"!=typeof r[y]||Y0(r[y])||(f=r[y],y++);const b={includeMetadataChanges:f.includeMetadataChanges};if(Y0(r[y])){const M=r[y];r[y]=null===(i=M.next)||void 0===i?void 0:i.bind(M),r[y+1]=null===(u=M.error)||void 0===u?void 0:u.bind(M),r[y+2]=null===(c=M.complete)||void 0===c?void 0:c.bind(M)}let T,x,N;if(s instanceof Kt)x=It(s.firestore,vn),N=Nr(s._key.path),T={next:M=>{r[y]&&r[y](Ly(x,s,M))},error:r[y+1],complete:r[y+2]};else{const M=It(s,Or);x=It(M.firestore,vn),N=M._query;const j=new Cl(x);T={next:q=>{r[y]&&r[y](new js(x,j,M,q))},error:r[y+1],complete:r[y+2]},JD(s._query)}return function(M,j,q,fe){const Se=new wy(fe),Oe=new I0(j,Se,q);return M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return oD(yield vl(M),Oe)})),()=>{Se.Xo(),M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return uD(yield vl(M),Oe)}))}}(Ln(x),N,b,T)}function $d(s,r){return function(i,u){const c=new Yn;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,r,i){return yy.apply(this,arguments)}(yield $0(i),u,c)})),c.promise}(Ln(s),r)}function Ly(s,r,i){const u=i.docs.get(r._key),c=new Cl(s);return new Qa(s,c,r._key,u,new Hd(i.hasPendingWrites,i.fromCache),r.converter)}class xx extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=wl(r)}get(r){const i=Xa(r,this._firestore),u=new Tx(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return Ue();const f=c[0];if(f.isFoundDocument())return new jd(this._firestore,u,f.key,f,i.converter);if(f.isNoDocument())return new jd(this._firestore,u,i._key,null,i.converter);throw Ue()})}set(r,i,u){const c=Xa(r,this._firestore),f=yp(c.converter,i,u),y=Ty(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,u);return this._transaction.set(c._key,y),this}update(r,i,u,...c){const f=Xa(r,this._firestore);let y;return y="string"==typeof(i=(0,xt.m9)(i))||i instanceof Li?tw(this._dataReader,"Transaction.update",f._key,i,u,c):ew(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,y),this}delete(r){const i=Xa(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=Xa(r,this._firestore),u=new Cl(this._firestore);return super.get(r).then(c=>new Qa(this._firestore,u,i._key,c._document,new Hd(!1,!1),i.converter))}}function Vy(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new we("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function gw(){if("undefined"==typeof Uint8Array)throw new we("unimplemented","Uint8Arrays are not available in this environment.")}function sT(){if("undefined"==typeof atob)throw new we("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){nl=s})(Kb.SDK_VERSION),(0,Kb._registerComponent)(new fv.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),u=new vn(i,new yN(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),u._setSettings(r),u},"PUBLIC")),(0,Kb.registerVersion)("@firebase/firestore","3.0.1",void 0);class Ep{constructor(r){this._delegate=r}static fromBase64String(r){return sT(),new Ep(Uo.fromBase64String(r))}static fromUint8Array(r){return gw(),new Ep(Uo.fromUint8Array(r))}toBase64(){return sT(),this._delegate.toBase64()}toUint8Array(){return gw(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mw(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const u of["next","error","complete"])if(u in i&&"function"==typeof i[u])return!0;return!1}(s)}class wp{enableIndexedDbPersistence(r,i){return function(s,r){px(s=It(s,vn));const i=Ln(s),u=s._freezeSettings(),c=new Ey;return pp(i,c,new P0(c,u.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){px(s=It(s,vn));const r=Ln(s),i=s._freezeSettings(),u=new Ey;return pp(r,u,new KS(u,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new we(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new Yn;return s._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(i=(0,pe.Z)(function*(u){if(!Ei.Pt())return Promise.resolve();const c=u+"main";yield Ei.delete(c)}),function(u){return i.apply(this,arguments)})(QE(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class Il{constructor(r,i,u){this._delegate=i,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},r instanceof El||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&xf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,u={}){!function(s,r,i,u={}){var c;const f=(s=It(s,fp))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==r&&xf("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},f),{host:`${r}:${i}`,ssl:!1})),u.mockUserToken){let y,b;if("string"==typeof u.mockUserToken)y=u.mockUserToken,b=Kn.MOCK_USER;else{y=(0,xt.Sg)(u.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const T=u.mockUserToken.sub||u.mockUserToken.user_id;if(!T)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Kn(T)}s._credentials=new mN(new $A(y,b))}}(this._delegate,r,i,u)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,pe.Z)(function*(){const r=yield kD(s),i=yield QS(s);return r.setNetworkEnabled(!0),function(u){const c=Re(u);return c.Kr.delete(0),Jf(c)}(i)}))}(Ln(s=It(s,vn)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,pe.Z)(function*(){const r=yield kD(s),i=yield QS(s);return r.setNetworkEnabled(!1),(u=(0,pe.Z)(function*(c){const f=Re(c);f.Kr.add(0),yield za(f),f.Wr.set("Offline")}),function(c){return u.apply(this,arguments)})(i);var u}))}(Ln(s=It(s,vn)))}(this._delegate)}enablePersistence(r){let i=!1,u=!1;return r&&(i=!!r.synchronizeTabs,u=!!r.experimentalForceOwningTab,rx("synchronizeTabs",i,"experimentalForceOwningTab",u)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new Yn;return r.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,r){return bD.apply(this,arguments)}(yield $0(r),i)})),i.promise}(Ln(s=It(s,vn)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new wy(r);return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return u=yield vl(s),c=i,Re(u).Zr.add(c),void c.next();var u,c})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return u=yield vl(s),c=i,void Re(u).Zr.delete(c);var u,c}))}}(Ln(s=It(s,vn)),Y0(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new we("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new tu(this,HD(this._delegate,r))}catch(i){throw Er(i,"collection()","Firestore.collection()")}}doc(r){try{return new bi(this,Tn(this._delegate,r))}catch(i){throw Er(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new kr(this,function(s,r){if(s=It(s,fp),W0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Or(s,null,(i=r,new Ba(yt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw Er(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new Yn;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const u=yield(c=s,B0(c).then(f=>f.datastore));var c;new MD(s.asyncQueue,u,r,i).run()})),i.promise}(Ln(s),i=>r(new xx(s,i)))}(this._delegate,i=>r(new oT(this,i)))}batch(){return Ln(this._delegate),new aT(new nT(this._delegate,r=>$d(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Ln(s=It(s,vn)),u=new Cy;return function(s,r,i,u){const c=function(f,y){let b;return b="string"==typeof f?(new TextEncoder).encode(f):f,T=function(T,x){if(T instanceof Uint8Array)return k0(T,x);if(T instanceof ArrayBuffer)return k0(new Uint8Array(T),x);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new YS(T,y);var T}(i,Yf(r));s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(s,r,i){const u=Re(s);var c;(c=(0,pe.Z)(function*(f,y,b){try{const T=yield y.getMetadata();if(yield function(j,q){const fe=Re(j),Se=$n(q.createTime);return fe.persistence.runTransaction("hasNewerBundle","readonly",Oe=>fe.Je.getBundleMetadata(Oe,q.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(Se)>=0)}(f.localStore,T))return yield y.close(),void b._completeWith((j=T,{taskState:"Success",documentsLoaded:j.totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}));b._updateProgress(LS(T));const x=new xN(T,f.localStore,y.N);let N=yield y.Qo();for(;N;){const j=yield x.fo(N);j&&b._updateProgress(j),N=yield y.Qo()}const M=yield x.complete();yield Ya(f,M.Tn,void 0),yield function(j,q){const fe=Re(j);return fe.persistence.runTransaction("Save bundle","readwrite",Se=>fe.Je.saveBundleMetadata(Se,q))}(f.localStore,T),b._completeWith(M.progress)}catch(T){xf("SyncEngine",`Loading bundle failed with ${T}`),b._failWith(T)}var j}),function(f,y,b){return c.apply(this,arguments)})(u,r,i).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield $0(s),c,u)}))}(i,s._databaseId,r,u),u}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,pe.Z)(function*(){return function(i,u){const c=Re(i);return c.persistence.runTransaction("Get named query","readonly",f=>c.Je.getNamedQuery(f,u))}(yield H0(s),r)}))}(Ln(s=It(s,vn)),r).then(i=>i?new Or(s,null,i.query):null)}(this._delegate,r).then(i=>i?new kr(this,i):null)}}class Dl extends cw{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ep(new Uo(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return bi.forKey(i,this.firestore,null)}}class oT{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new Dl(r)}get(r){const i=Sl(r);return this._delegate.get(i).then(u=>new Al(this._firestore,new Qa(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,i.converter)))}set(r,i,u){const c=Sl(r);return u?(Vy("Transaction.set",u),this._delegate.set(c,i,u)):this._delegate.set(c,i),this}update(r,i,u,...c){const f=Sl(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...c),this}delete(r){const i=Sl(r);return this._delegate.delete(i),this}}class aT{constructor(r){this._delegate=r}set(r,i,u){const c=Sl(r);return u?(Vy("WriteBatch.set",u),this._delegate.set(c,i,u)):this._delegate.set(c,i),this}update(r,i,u,...c){const f=Sl(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...c),this}delete(r){const i=Sl(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Tl{constructor(r,i,u){this._firestore=r,this._userDataWriter=i,this._delegate=u}fromFirestore(r,i){const u=new xy(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new bp(this._firestore,u),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const u=Tl.INSTANCES;let c=u.get(r);c||(c=new WeakMap,u.set(r,c));let f=c.get(i);return f||(f=new Tl(r,new Dl(r),i),c.set(i,f)),f}}Tl.INSTANCES=new WeakMap;class bi{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new Dl(r)}static forPath(r,i,u){if(r.length%2!=0)throw new we("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new bi(i,new Kt(i._delegate,u,new Be(r)))}static forKey(r,i,u){return new bi(i,new Kt(i._delegate,u,r))}get id(){return this._delegate.id}get parent(){return new tu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new tu(this.firestore,HD(this._delegate,r))}catch(i){throw Er(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,xt.m9)(r))instanceof Kt&&ax(this._delegate,r)}set(r,i){i=Vy("DocumentReference.set",i);try{return i?ky(this._delegate,r,i):ky(this._delegate,r)}catch(u){throw Er(u,"setDoc()","DocumentReference.set()")}}update(r,i,...u){try{return 1===arguments.length?hw(this._delegate,r):hw(this._delegate,r,i,...u)}catch(c){throw Er(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return $d(It(s.firestore,vn),[new Uf(s._key,Hn.none())])}(this._delegate)}onSnapshot(...r){const i=yw(r),u=_w(r,c=>new Al(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return iT(this._delegate,i,u)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=It(s,Kt);const r=It(s.firestore,vn),i=Ln(r),u=new Cl(r);return function(s,r){const i=new Yn;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(u=(0,pe.Z)(function*(c,f,y){try{const b=yield function(T,x){const N=Re(T);return N.persistence.runTransaction("read document","readonly",M=>N.Qn.An(M,x))}(c,f);b.isFoundDocument()?y.resolve(b):b.isNoDocument()?y.resolve(null):y.reject(new we(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const T=sp(b,`Failed to get document '${f} from cache`);y.reject(T)}}),function(c,f,y){return u.apply(this,arguments)})(yield H0(s),r,i);var u})),i.promise}(i,s._key).then(c=>new Qa(r,u,s._key,c,new Hd(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=It(s,Kt);const r=It(s.firestore,vn);return ex(Ln(r),s._key,{source:"server"}).then(i=>Ly(r,s,i))}(this._delegate):function(s){s=It(s,Kt);const r=It(s.firestore,vn);return ex(Ln(r),s._key).then(i=>Ly(r,s,i))}(this._delegate),i.then(u=>new Al(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(r){return new bi(this.firestore,this._delegate.withConverter(r?Tl.getInstance(this.firestore,r):null))}}function Er(s,r,i){return s.message=s.message.replace(r,i),s}function yw(s){for(const r of s)if("object"==typeof r&&!mw(r))return r;return{}}function _w(s,r){var i,u;let c;return c=mw(s[0])?s[0]:mw(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:f=>{c.next&&c.next(r(f))},error:null===(i=c.error)||void 0===i?void 0:i.bind(c),complete:null===(u=c.complete)||void 0===u?void 0:u.bind(c)}}class Al{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new bi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return QD(this._delegate,r._delegate)}}class bp extends Al{data(r){const i=this._delegate.data(r);return function(s,r){s||Ue()}(void 0!==i),i}}class kr{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new Dl(r)}where(r,i,u){try{return new kr(this.firestore,Ja(this._delegate,function(s,r,i){const u=r,c=Sy("where",s);return new Cx(c,u,i)}(r,i,u)))}catch(c){throw Er(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new kr(this.firestore,Ja(this._delegate,function(s,r="asc"){const i=r,u=Sy("orderBy",s);return new rs(u,i)}(r,i)))}catch(u){throw Er(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new kr(this.firestore,Ja(this._delegate,function(s){return BD("limit",s),new iw("limit",s,"F")}(r)))}catch(i){throw Er(i,"limit()","Query.limit()")}}limitToLast(r){try{return new kr(this.firestore,Ja(this._delegate,function(s){return BD("limitToLast",s),new iw("limitToLast",s,"L")}(r)))}catch(i){throw Er(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new kr(this.firestore,Ja(this._delegate,function(...s){return new sw("startAt",s,!0)}(...r)))}catch(i){throw Er(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new kr(this.firestore,Ja(this._delegate,function(...s){return new sw("startAfter",s,!1)}(...r)))}catch(i){throw Er(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new kr(this.firestore,Ja(this._delegate,function(...s){return new Ry("endBefore",s,!0)}(...r)))}catch(i){throw Er(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new kr(this.firestore,Ja(this._delegate,function(...s){return new Ry("endAt",s,!1)}(...r)))}catch(i){throw Er(i,"endAt()","Query.endAt()")}}isEqual(r){return K0(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=It(s,Or);const r=It(s.firestore,vn),i=Ln(r),u=new Cl(r);return function(s,r){const i=new Yn;return s.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(u=(0,pe.Z)(function*(c,f,y){try{const b=yield sy(c,f,!0),T=new fD(f,b.Gn),x=T.Io(b.documents),N=T.applyChanges(x,!1);y.resolve(N.snapshot)}catch(b){const T=sp(b,`Failed to execute query '${f} against cache`);y.reject(T)}}),function(c,f,y){return u.apply(this,arguments)})(yield H0(s),r,i);var u})),i.promise}(i,s._query).then(c=>new js(r,u,s,c))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=It(s,Or);const r=It(s.firestore,vn),i=Ln(r),u=new Cl(r);return q0(i,s._query,{source:"server"}).then(c=>new js(r,u,s,c))}(this._delegate):function(s){s=It(s,Or);const r=It(s.firestore,vn),i=Ln(r),u=new Cl(r);return JD(s._query),q0(i,s._query).then(c=>new js(r,u,s,c))}(this._delegate),i.then(u=>new jo(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...r){const i=yw(r),u=_w(r,c=>new jo(this.firestore,new js(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return iT(this._delegate,i,u)}withConverter(r){return new kr(this.firestore,this._delegate.withConverter(r?Tl.getInstance(this.firestore,r):null))}}class uT{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new bp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jo{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new kr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new bp(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new uT(this._firestore,i))}forEach(r,i){this._delegate.forEach(u=>{r.call(i,new bp(this._firestore,u))})}isEqual(r){return QD(this._delegate,r._delegate)}}class tu extends kr{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new bi(this.firestore,r):null}doc(r){try{return new bi(this.firestore,void 0===r?Tn(this._delegate):Tn(this._delegate,r))}catch(i){throw Er(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=It(s.firestore,vn),u=Tn(s),c=yp(s.converter,r);return $d(i,[Ty(wl(s.firestore),"addDoc",u._key,c,null!==s.converter,{}).toMutation(u._key,Hn.exists(!1))]).then(()=>u)}(this._delegate,r).then(i=>new bi(this.firestore,i))}isEqual(r){return ax(this._delegate,r._delegate)}withConverter(r){return new tu(this.firestore,this._delegate.withConverter(r?Tl.getInstance(this.firestore,r):null))}}function Sl(s){return It(s,Kt)}class vw{constructor(...r){this._delegate=new Li(...r)}static documentId(){return new vw(Jn.keyField().canonicalString())}isEqual(r){return(r=(0,xt.m9)(r))instanceof Li&&this._delegate._internalPath.isEqual(r._internalPath)}}class qd{constructor(r){this._delegate=r}static serverTimestamp(){const r=new WD("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new qd(r)}static delete(){const r=new gp("deleteField");return r._methodName="FieldValue.delete",new qd(r)}static arrayUnion(...r){const i=function(...s){return new _x("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new qd(i)}static arrayRemove(...r){const i=function(...s){return new vx("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new qd(i)}static increment(r){const i=function(s){return new Ex("increment",s)}(r);return i._methodName="FieldValue.increment",new qd(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const UN={Firestore:Il,GeoPoint:X0,Timestamp:Qn,Blob:Ep,Transaction:oT,WriteBatch:aT,DocumentReference:bi,DocumentSnapshot:Al,Query:kr,QueryDocumentSnapshot:bp,QuerySnapshot:jo,CollectionReference:tu,FieldPath:vw,FieldValue:qd,setLogLevel:function(s){!function(s){xo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function lT(s,r){return function(s,r=qb.z){return new ii.y(i=>{let u;return null!=r?r.schedule(()=>{u=s.onSnapshot({includeMetadataChanges:!0},i)}):u=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=u&&u()}})}(s,r)}function cT(s,r){return lT(s,r).pipe((0,nt.U)(i=>({payload:i,type:"query"})))}function Ew(s,r){return cT(s,r).pipe(Sr(void 0),Zb(),(0,nt.U)(([i,u])=>{const c=u.payload.docChanges(),f=c.map(y=>({type:y.type,payload:y}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((y,b)=>{const T=c.find(N=>N.doc.ref.isEqual(y.ref)),x=null==i?void 0:i.payload.docs.find(N=>N.ref.isEqual(y.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(y.metadata)||!T&&x&&JSON.stringify(x.metadata)===JSON.stringify(y.metadata)||f.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:y}})}),f}))}function Fx(s,r,i){return Ew(s,i).pipe(Ki((u,c)=>function(s,r,i){return r.forEach(u=>{i.indexOf(u.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return dT(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return dT(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return dT(s,r.oldIndex,1)}return s}(s,u))}),s}(u,c.map(f=>f.payload),r),[]),i=>i.lift(new dN(void 0,void 0)),(0,nt.U)(u=>u.map(c=>({type:c.type,payload:c}))))}function dT(s,r,i,...u){const c=s.slice();return c.splice(r,i,...u),c}function Vx(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}!function(s){(function(s,r){s.INTERNAL.registerComponent(new fv.wA("firestore-compat",i=>((r,i)=>new Il(r,i,new wp))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},UN)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(zb.Z);class Ux{constructor(r,i,u){this.ref=r,this.query=i,this.afs=u}stateChanges(r){let i=Ew(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,nt.U)(u=>u.filter(c=>r.indexOf(c.type)>-1)))),i.pipe(Sr(void 0),Zb(),Zr(([u,c])=>c.length>0||!u),(0,nt.U)(([u,c])=>c),mr.iC)}auditTrail(r){return this.stateChanges(r).pipe(Ki((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=Vx(r);return Fx(this.query,i,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(r={}){return cT(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(u=>r.idField?Object.assign(Object.assign({},u.data()),{[r.idField]:u.id}):u.data())),mr.iC)}get(r){return(0,Wt.D)(this.query.get(r)).pipe(mr.f6)}add(r){return this.ref.add(r)}doc(r){return new o(this.ref.doc(r),this.afs)}}class o{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const u=this.ref.collection(r),{ref:c,query:f}=E(u,i);return new Ux(c,f,this.afs)}snapshotChanges(){return function(s,r){return lT(s,r).pipe(Sr(void 0),Zb(),(0,nt.U)(([i,u])=>u.exists?(null==i?void 0:i.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Wt.D)(this.ref.get(r)).pipe((0,kc.QV)(this.afs.schedulers.insideAngular))}}class a{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?Ew(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.filter(u=>r.indexOf(u.type)>-1)),Zr(i=>i.length>0),mr.iC):Ew(this.query,this.afs.schedulers.outsideAngular).pipe(mr.iC)}auditTrail(r){return this.stateChanges(r).pipe(Ki((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=Vx(r);return Fx(this.query,i,this.afs.schedulers.outsideAngular).pipe(mr.iC)}valueChanges(r={}){return cT(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(u=>u.payload.docs.map(c=>r.idField?Object.assign({[r.idField]:c.id},c.data()):c.data())),mr.iC)}get(r){return(0,Wt.D)(this.query.get(r)).pipe(mr.f6)}}const l=new m.OlP("angularfire2.enableFirestorePersistence"),d=new m.OlP("angularfire2.firestore.persistenceSettings"),h=new m.OlP("angularfire2.firestore.settings"),g=new m.OlP("angularfire2.firestore.use-emulator");function E(s,r=(i=>i)){return{query:r(s),ref:s}}let w=(()=>{class s{constructor(i,u,c,f,y,b,T,x,N,M,j,q,fe,Se,Oe,at){this.schedulers=T;const Ct=(0,Do.on)(i,b,u),ut=N;M&&Zg(Ct,b,j,fe,Se,Oe,q,at),[this.firestore,this.persistenceEnabled$]=(0,mr.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Rt=b.runOutsideAngular(()=>Ct.firestore());if(f&&Rt.settings(f),ut&&Rt.useEmulator(...ut),c&&!Pl(y)){const rr=()=>{try{return(0,Wt.D)(Rt.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(Zd){return"undefined"!=typeof console&&console.warn(Zd),(0,Ze.of)(!1)}};return[Rt,b.runOutsideAngular(rr)]}return[Rt,(0,Ze.of)(!1)]},[f,ut,c])}collection(i,u){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:y}=E(c,u),b=this.schedulers.ngZone.run(()=>f);return new Ux(b,y,this)}collectionGroup(i,u){const c=u||(y=>y),f=this.firestore.collectionGroup(i);return new a(c(f),this)}doc(i){let u;u="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>u);return new o(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(m.LFG(Do.Dh),m.LFG(Do.xv,8),m.LFG(l,8),m.LFG(h,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(mr.HU),m.LFG(d,8),m.LFG(g,8),m.LFG(hv,8),m.LFG(lA,8),m.LFG(dv,8),m.LFG($b,8),m.LFG(Gb,8),m.LFG(cA,8),m.LFG(dA,8))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),D=(()=>{class s{constructor(){uA.Z.registerVersion("angularfire",mr.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:l,useValue:!0},{provide:d,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=m.oAB({type:s}),s.\u0275inj=m.cJS({providers:[w]}),s})(),A=class{};A=(0,mh.gn)([(0,m.LVF)({declarations:[iA,rA,qg,oA,nA,rv,g_,Lb,Vb,Os],imports:[Do.hO.initializeApp({apiKey:"AIzaSyAkzfCA68K79QRl2K8-LprGmp84KUg8wn8",authDomain:"lab4-58b2a.firebaseapp.com",databaseURL:"https://lab4-58b2a-default-rtdb.firebaseio.com",projectId:"lab4-58b2a",storageBucket:"lab4-58b2a.appspot.com",messagingSenderId:"333945836492",appId:"1:333945836492:web:20969267b38249e4e28369",measurementId:"G-N57BS17B2D"}),hv,D,ys,sv,Fw],providers:[],bootstrap:[iA]})],A),(0,m.G48)(),Qy().bootstrapModule(A).catch(s=>console.error(s))},4762:(Ve,me,O)=>{"use strict";O.d(me,{ZT:()=>ee,pi:()=>V,_T:()=>Q,gn:()=>le,mG:()=>ue,Jh:()=>G,XA:()=>U,CR:()=>F,ev:()=>Y});var m=function(ne,J){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ce){oe.__proto__=ce}||function(oe,ce){for(var re in ce)Object.prototype.hasOwnProperty.call(ce,re)&&(oe[re]=ce[re])})(ne,J)};function ee(ne,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function oe(){this.constructor=ne}m(ne,J),ne.prototype=null===J?Object.create(J):(oe.prototype=J.prototype,new oe)}var V=function(){return(V=Object.assign||function(J){for(var oe,ce=1,re=arguments.length;ce<re;ce++)for(var W in oe=arguments[ce])Object.prototype.hasOwnProperty.call(oe,W)&&(J[W]=oe[W]);return J}).apply(this,arguments)};function Q(ne,J){var oe={};for(var ce in ne)Object.prototype.hasOwnProperty.call(ne,ce)&&J.indexOf(ce)<0&&(oe[ce]=ne[ce]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(ce=Object.getOwnPropertySymbols(ne);re<ce.length;re++)J.indexOf(ce[re])<0&&Object.prototype.propertyIsEnumerable.call(ne,ce[re])&&(oe[ce[re]]=ne[ce[re]])}return oe}function le(ne,J,oe,ce){var Ie,re=arguments.length,W=re<3?J:null===ce?ce=Object.getOwnPropertyDescriptor(J,oe):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(ne,J,oe,ce);else for(var je=ne.length-1;je>=0;je--)(Ie=ne[je])&&(W=(re<3?Ie(W):re>3?Ie(J,oe,W):Ie(J,oe))||W);return re>3&&W&&Object.defineProperty(J,oe,W),W}function ue(ne,J,oe,ce){return new(oe||(oe=Promise))(function(W,Ie){function je(rt){try{He(ce.next(rt))}catch(Lt){Ie(Lt)}}function gt(rt){try{He(ce.throw(rt))}catch(Lt){Ie(Lt)}}function He(rt){rt.done?W(rt.value):function(W){return W instanceof oe?W:new oe(function(Ie){Ie(W)})}(rt.value).then(je,gt)}He((ce=ce.apply(ne,J||[])).next())})}function G(ne,J){var ce,re,W,Ie,oe={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return Ie={next:je(0),throw:je(1),return:je(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function je(He){return function(rt){return function(He){if(ce)throw new TypeError("Generator is already executing.");for(;oe;)try{if(ce=1,re&&(W=2&He[0]?re.return:He[0]?re.throw||((W=re.return)&&W.call(re),0):re.next)&&!(W=W.call(re,He[1])).done)return W;switch(re=0,W&&(He=[2&He[0],W.value]),He[0]){case 0:case 1:W=He;break;case 4:return oe.label++,{value:He[1],done:!1};case 5:oe.label++,re=He[1],He=[0];continue;case 7:He=oe.ops.pop(),oe.trys.pop();continue;default:if(!(W=(W=oe.trys).length>0&&W[W.length-1])&&(6===He[0]||2===He[0])){oe=0;continue}if(3===He[0]&&(!W||He[1]>W[0]&&He[1]<W[3])){oe.label=He[1];break}if(6===He[0]&&oe.label<W[1]){oe.label=W[1],W=He;break}if(W&&oe.label<W[2]){oe.label=W[2],oe.ops.push(He);break}W[2]&&oe.ops.pop(),oe.trys.pop();continue}He=J.call(ne,oe)}catch(rt){He=[6,rt],re=0}finally{ce=W=0}if(5&He[0])throw He[1];return{value:He[0]?He[1]:void 0,done:!0}}([He,rt])}}}function U(ne){var J="function"==typeof Symbol&&Symbol.iterator,oe=J&&ne[J],ce=0;if(oe)return oe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ce>=ne.length&&(ne=void 0),{value:ne&&ne[ce++],done:!ne}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(ne,J){var oe="function"==typeof Symbol&&ne[Symbol.iterator];if(!oe)return ne;var re,Ie,ce=oe.call(ne),W=[];try{for(;(void 0===J||J-- >0)&&!(re=ce.next()).done;)W.push(re.value)}catch(je){Ie={error:je}}finally{try{re&&!re.done&&(oe=ce.return)&&oe.call(ce)}finally{if(Ie)throw Ie.error}}return W}function Y(ne,J,oe){if(oe||2===arguments.length)for(var W,ce=0,re=J.length;ce<re;ce++)(W||!(ce in J))&&(W||(W=Array.prototype.slice.call(J,0,ce)),W[ce]=J[ce]);return ne.concat(W||Array.prototype.slice.call(J))}},8239:(Ve,me,O)=>{"use strict";function m(V,Q,le,X,he,ue,G){try{var P=V[ue](G),L=P.value}catch(U){return void le(U)}P.done?Q(L):Promise.resolve(L).then(X,he)}function ee(V){return function(){var Q=this,le=arguments;return new Promise(function(X,he){var ue=V.apply(Q,le);function G(L){m(ue,X,he,G,P,"next",L)}function P(L){m(ue,X,he,G,P,"throw",L)}G(void 0)})}}O.d(me,{Z:()=>ee})}},Ve=>{Ve(Ve.s=8074)}]);